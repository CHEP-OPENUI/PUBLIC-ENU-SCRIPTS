/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2013 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
if(typeof(SiebelApp.pharmacallsvc)==="undefined"){SiebelJS.Namespace("SiebelApp.pharmacallsvc");define("siebel/offline/pharmacallsvc",["siebel/offline/model","siebel/offline/servicemodel"],function(){var b={};var a=SiebelApp.Offlineconstants;var d=[];var f=CCFMiscUtil_CreatePropSet();var e;var c;b[a.get("DOUIREG_OBJ_NAME")]="Pharma Call Entry Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Call Entry Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Call Entry Mobile Default";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Call Entry Mobile Default";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Promotional Items Dropped Alloc VBC";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="Execute";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="Execute";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Call Samples Dropped Alloc VBC";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="Execute";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="Execute";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Call Products Detailed Alloc VBC";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="Execute";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="Execute";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Professional Call - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="WriteRecord";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="WriteRecord";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Call Signature Form Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Call Signature Form Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Promotional Items Dropped Alloc Popup Applet Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Promotional Items Dropped Alloc Popup Applet Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Call Samples Dropped Alloc Popup Applet Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Call Samples Dropped Alloc Popup Applet Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Call Products Detailed Alloc Popup Applet Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Call Products Detailed Alloc Popup Applet Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Promotional Items Dropped List Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoVBCCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Call Samples Dropped List Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoVBCCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");
SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Call Products Detailed List Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoVBCCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Attendee Call List Applet Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoVBCCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Calls List Applet Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoVBCCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Calls List Applet - Account Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoVBCCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Calls List Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoVBCCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Call Samples Dropped Alloc Popup Applet Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="CanUpdate";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="VBCCanUpdate";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Call Products Detailed Alloc Popup Applet Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="CanUpdate";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="VBCCanUpdate";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Promotional Items Dropped Alloc Popup Applet Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="CanUpdate";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="VBCCanUpdate";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Call Address Pick Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="fieldsCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Account and Address Pick Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="fieldsCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Pharma Change Contact Pick Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="fieldsCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Promotional Items Dropped List Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="CanUpdate";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="VBCCanUpdate";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Call Samples Dropped List Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="CanUpdate";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="VBCCanUpdate";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Call Products Detailed List Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="CanUpdate";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="VBCCanUpdate";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Attendee Call Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="AddAssociation";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="PhaAttendeeNewRecord";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPOST");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Attendee Call Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="DeleteRecord";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="PhaAttendeeDeleteRecord";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPOST");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Professional Call - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="WriteRecord";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="PhaCallPostWriteRecord";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPOST");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Contact Account Affiliation";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="WriteRecord";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="AccountAffltWriteRecord";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Account Attachment List Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";
b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="AttcmntDoCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Contact Attachment List Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="AttcmntDoCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Contact Account Affiliation";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="Execute";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="AffltnPreExecute";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Call Address Pick Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="Populate";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="PrePopulate";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Address Pick Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="Populate";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="PrePopulate";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Contact";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="AddAssociation";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="AffliationNewRecord";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPOST");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Contact";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="DeleteRecord";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="PhaAffliationDeleteRecord";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Attendee Call Assoc Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="Populate";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="PopulateAttendee";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPOST");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Attendee Call Assoc Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Attendee Call Assoc Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Contact Account Affiliation";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="WriteRecord";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="ContactNewRecord";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPOST");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Contact Account Affiliation";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="DeleteRecord";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="ContactDeleteRecord";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Attendee Call Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="WriteRecord";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="AttendeeWriterecord";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Mobile Pharma Account Form Applet Default";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Professional Call - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="CanUpdateX";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="CanUpdateXFieldPharmaCall";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="LS Medical Contact Assoc Applet";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="Populate";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="PopulateContacts";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPOST");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Contact Relationship List Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="CanUpdate";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="ContactRelationshipCanUpdate";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Contact Relationship";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="AddAssociation";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="PhaRelationshipNewRecord";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPOST");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Attendee Call Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEBUSCOMP");b[a.get("DOUIREG_OBJ_MTHD")]="DeleteRecord";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="AttendeeDeleterecord";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="SIS HH LS Contact Best Times List Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";
b[a.get("DOUIREG_SRVC_MTDH")]="DoCanInvokeMethodBestTms";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Account Contact Affiliation List Applet Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoCanAffiliInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Pharma Contact Account Affiliation List Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoCanAffiliInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);b[a.get("DOUIREG_OBJ_NAME")]="Account Contact List Applet - Mobile";b[a.get("DOUIREG_OBJ_TYPE")]=a.get("DOUIREG_OBJ_TYPEAPPLET");b[a.get("DOUIREG_OBJ_MTHD")]="DoCanInvokeMethod";b[a.get("DOUIREG_SRVC_NAME")]="pharmacallsvc";b[a.get("DOUIREG_SRVC_MTDH")]="DoCanAffiliInvokeMethod";b[a.get("DOUIREG_EXT_TYPE")]=a.get("DOUIREG_EXT_TYPEPRE");SiebelApp.S_App.Model.ServiceRegistry(b);SiebelApp.pharmacallsvc=(function(){function k(v){}SiebelJS.Extend(k,SiebelApp.ServiceModel);k.prototype.ContactRelationshipCanUpdate=function(y){var w=CCFMiscUtil_CreatePropSet();var x="";x=y.GetPropertyAsStr("Field");var v=y.GetProperty("Field");if(!utils.IsEmpty(v)&&this.GetContext().GetControls()[x]){if(this.GetContext().GetControls()[x].GetFieldName()&&x!=="Relationship Type"){w.SetProperty("Invoked",true);w.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:w})}else{w.SetProperty("Invoked",false);w.SetProperty("RetVal",false);$.setReturnValue({err:"",retVal:w})}}else{w.SetProperty("Invoked",false);w.SetProperty("RetVal",false);$.setReturnValue({err:"",retVal:w})}};k.prototype.VBCCanUpdate=function(A){var x=CCFMiscUtil_CreatePropSet();var y="";var w=this.GetContext().GetBusComp();var z=this.GetContext().GetName();y=A.GetPropertyAsStr("Field");var v=A.GetProperty("Field");if(!utils.IsEmpty(v)){if(z!=="Pharma Call Entry Mobile Default"&&z!=="LS Pharma Calls List Applet - Mobile"&&z!=="LS Pharma Calls List Applet - Account Mobile"&&y!=="Quantity"&&y!=="Priority"){x.SetProperty("Invoked",true);x.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:x})}else{x.SetProperty("Invoked",false);x.SetProperty("RetVal",false);$.setReturnValue({err:"",retVal:x})}}else{x.SetProperty("Invoked",false);x.SetProperty("RetVal",false);$.setReturnValue({err:"",retVal:x})}};k.prototype.DoCanAffiliInvokeMethod=function(w){var v=CCFMiscUtil_CreatePropSet();var x="";x=w.GetProperty("MethodName").toString();if(x==="EditRecord"){v.SetProperty("Invoked",true);v.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:v})}else{v.SetProperty("Invoked",false);v.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:v})}};k.prototype.fieldsCanInvokeMethod=function(z){var w=CCFMiscUtil_CreatePropSet();var A="";var v=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("Pharma Professional Call - Mobile");A=z.GetProperty("MethodName").toString();var y=this.GetContext().GetName();if(A==="PickRecord"){var x=SiebelApp.S_App.Model.GetLovNameVal("Submitted","EVENT_STATUS");v.FieldValue("Call Status");$.callback(this,function(C){var B=C.retVal;v.FieldValue("Signature Captured");$.callback(this,function(D){var E=D.retVal;if(E.toLowerCase()==="y"||B===x){w.SetProperty("Invoked",true);w.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:w})}else{w.SetProperty("Invoked",false);w.SetProperty("RetVal",false);$.setReturnValue({err:"",retVal:w})}})})}else{w.SetProperty("Invoked",false);w.SetProperty("RetVal",false);$.setReturnValue({err:"",retVal:w})}};k.prototype.DoCanInvokeMethod=function(A){var w=CCFMiscUtil_CreatePropSet();var C="";var v=this.GetContext().GetBusComp();var z=this.GetContext().GetName();C=A.GetProperty("MethodName").toString();var y;var B;var x;if(C==="Submit"){x=SiebelApp.S_App.Model.GetLovNameVal("Attendee Call","TODO_TYPE");y=SiebelApp.S_App.Model.GetLovNameVal("Submitted","EVENT_STATUS");v.FieldValue("Call Status");$.callback(this,function(E){var D=E.retVal;v.FieldValue("Category");$.callback(this,function(F){var G=F.retVal;if(D!==y&&G!==x){w.SetProperty("Invoked",true);w.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:w})}else{w.SetProperty("Invoked",true);w.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:w})}})})}else{if(C==="Sign"){B=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE");y=SiebelApp.S_App.Model.GetLovNameVal("Submitted","EVENT_STATUS");v.FieldValue("Signature Captured");$.callback(this,function(D){var E=D.retVal;v.FieldValue("Call Status");$.callback(this,function(G){var F=G.retVal;v.FieldValue("Category");$.callback(this,function(H){var I=H.retVal;if(F!==y&&I!==B){if(E.toLowerCase()==="y"){w.SetProperty("Invoked",true);w.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:w})}else{w.SetProperty("Invoked",true);w.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:w})}}else{w.SetProperty("Invoked",true);w.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:w})}})})})}else{if(C==="CreateSignature"){w.SetProperty("Invoked",true);w.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:w})}else{if(C==="CancelSignature"){w.SetProperty("Invoked",true);w.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:w})}else{if(C==="ClearSignature"){w.SetProperty("Invoked",true);w.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:w})}else{if(C==="ApplySignature"){w.SetProperty("Invoked",true);w.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:w})}else{if(C==="UpsertCallProducts"){w.SetProperty("Invoked",true);w.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:w})}else{if(C==="BestLots"){w.SetProperty("Invoked",true);w.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:w})}else{if(C==="ShowAll"){w.SetProperty("Invoked",true);w.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:w})}else{if(C==="EditRecord"&&z==="Pharma Call Entry Mobile Default"){x=SiebelApp.S_App.Model.GetLovNameVal("Attendee Call","TODO_TYPE");v.FieldValue("Category");$.callback(this,function(D){var E=D.retVal;if(E===x){w.SetProperty("Invoked",true);w.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:w})}else{w.SetProperty("Invoked",true);w.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:w})}})}else{if(C==="SetConstraintAssocFilter"){w.SetProperty("Invoked",true);w.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:w})}else{if(C==="SetAllAssocFilter"){w.SetProperty("Invoked",true);w.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:w})}else{if(C==="ShowPopup"&&z==="Pharma Attendee Call Assoc Applet - Mobile"){w.SetProperty("Invoked",true);
w.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:w})}else{if(C==="EditRecord"&&z==="Mobile Pharma Account Form Applet Default"){w.SetProperty("Invoked",true);w.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:w})}else{w.SetProperty("Invoked",false);w.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:w})}}}}}}}}}}}}}}};k.prototype.DoVBCCanInvokeMethod=function(y){var B=CCFMiscUtil_CreatePropSet();var F="";var z=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("Pharma Professional Call - Mobile");var E=this.GetContext();var x=this.GetContext().GetName();F=y.GetProperty("MethodName").toString();var C=SiebelApp.S_App.GetService("LS Pharma Validation Service");var D=false;var w;var v;var A;if(SiebelApp.S_App.GetActiveView().GetActiveApplet()&&SiebelApp.S_App.GetActiveView().GetActiveApplet().GetParentApplet()){D=true}if(F==="ShowPopup"&&!D){z.FieldValue("Call Status");$.callback(this,function(H){var G=H.retVal;z.FieldValue("Category");$.callback(this,function(J){var K=J.retVal;w=SiebelApp.S_App.Model.GetLovNameVal("Submitted","EVENT_STATUS");if(G!==w){if(x==="Pharma Call Samples Dropped List Applet - Mobile"){v=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE");if(K===v){B.SetProperty("Invoked",true);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}else{z.FieldValue("Signature Captured");$.callback(this,function(L){var M=L.retVal;if(M.toLowerCase()==="y"&&x==="Pharma Call Samples Dropped List Applet - Mobile"){B.SetProperty("Invoked",true);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}else{C.Invoke("CanAddSample",z);$.callback(this,function(O){var N=O.retVal;if(!N){B.SetProperty("Invoked",true);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}else{B.SetProperty("Invoked",true);B.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:B})}})}})}}else{if(x==="Pharma Promotional Items Dropped List Applet - Mobile"){v=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE");if(K===v){B.SetProperty("Invoked",true);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}else{B.SetProperty("Invoked",true);B.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:B})}}else{if(x==="Pharma Call Products Detailed List Applet - Mobile"){var I=SiebelApp.S_App.Model.GetLovNameVal("Attendee Call","TODO_TYPE");if(K===I){B.SetProperty("Invoked",true);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}else{B.SetProperty("Invoked",true);B.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:B})}}else{B.SetProperty("Invoked",true);B.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:B})}}}}else{B.SetProperty("Invoked",true);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}})})}else{if(F==="EditRecord"&&(x!=="LS Pharma Calls List Applet - Mobile"&&x!=="LS Pharma Calls List Applet - Account Mobile")){E.CanUpdateX();$.callback(this,function(H){var G=H.retVal;z.FieldValue("Call Status");$.callback(this,function(J){var I=J.retVal;z.FieldValue("Category");$.callback(this,function(M){var N=M.retVal;if(utils.IsTrue(G)){var K=SiebelApp.S_App.Model.GetLovNameVal("Attendee Call","TODO_TYPE");var L=SiebelApp.S_App.Model.GetLovNameVal("Submitted","EVENT_STATUS");if(I!==L){z.FieldValue("Signature Captured");$.callback(this,function(O){var P=O.retVal;if(P.toLowerCase()==="y"&&x==="Pharma Call Samples Dropped List Applet - Mobile"){B.SetProperty("Invoked",true);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}else{if((x==="LS Pharma Attendee Call List Applet Mobile")||(N===K&&x==="Pharma Call Products Detailed List Applet - Mobile")){B.SetProperty("Invoked",true);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}else{B.SetProperty("Invoked",false);B.SetProperty("RetVal",false);$.setReturnValue({err:"",retVal:B})}}})}else{B.SetProperty("Invoked",true);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}}else{B.SetProperty("Invoked",false);B.SetProperty("RetVal",false);$.setReturnValue({err:"",retVal:B})}})})})}else{if(F==="NewRecord"&&(x!=="LS Pharma Calls List Applet - Mobile"&&x!=="LS Pharma Calls List Applet - Account Mobile")){z.FieldValue("Call Status");$.callback(this,function(H){var G=H.retVal;z.FieldValue("Category");$.callback(this,function(J){var L=J.retVal;var I=SiebelApp.S_App.Model.GetLovNameVal("Submitted","EVENT_STATUS");if(G!==I){var K=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE");if(L!==K&&x==="LS Pharma Attendee Call List Applet Mobile"){B.SetProperty("Invoked",true);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}else{B.SetProperty("Invoked",true);B.SetProperty("RetVal",true);$.setReturnValue({err:false,retVal:B})}}else{B.SetProperty("Invoked",true);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}})})}else{if(F==="DeleteRecord"){z.FieldValue("Category");$.callback(this,function(K){var N=K.retVal;var I=SiebelApp.S_App.Model.GetLovNameVal("Attendee Call","TODO_TYPE");if(N===I&&(x==="Pharma Calls List Applet Mobile"||x==="Pharma Call Products Detailed List Applet - Mobile")){B.SetProperty("Invoked",true);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}else{if(x==="LS Pharma Attendee Call List Applet Mobile"){var G=this.GetContext().GetBusComp();var L=G.GetParentBusComp();var M=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile").GetBusComp("Pharma Professional Call - Mobile");var J=SiebelApp.S_App.Model.GetLovNameVal("Submitted","EVENT_STATUS");var H=SiebelApp.S_App.Model.GetLovNameVal("Attendee Call","TODO_TYPE");L.FieldValue("Id");$.callback(this,function(P){var O=P.retVal;G.FieldValue("Id");$.callback(this,function(Q){var R=Q.retVal;M.SetFldSearchSpec("Parent Activity Id",O);M.SetFldSearchSpec("Contact Id",R);M.SetFldSearchSpec("Category",H);M.Execute();$.callback(this,function(S){M.Home();$.callback(this,function(T){if(M.CheckActiveRow()===true){M.FieldValue("Call Status");$.callback(this,function(V){var U=V.retVal;M.FieldValue("Signature Captured");$.callback(this,function(W){var X=W.retVal;if(U===J||X.toLowerCase()==="y"){B.SetProperty("Invoked",true);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}else{B.SetProperty("Invoked",false);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}})})}else{B.SetProperty("Invoked",false);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}})})})})}else{z.FieldValue("Signature Captured");$.callback(this,function(O){var P=O.retVal;z.FieldValue("Call Status");$.callback(this,function(S){var Q=S.retVal;var R=SiebelApp.S_App.Model.GetLovNameVal("Submitted","EVENT_STATUS");if(Q!==R){if(P.toLowerCase()==="y"&&(x!=="Pharma Promotional Items Dropped List Applet - Mobile"&&x!=="Pharma Call Products Detailed List Applet - Mobile")){B.SetProperty("Invoked",true);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}else{B.SetProperty("Invoked",false);
B.SetProperty("RetVal",false);$.setReturnValue({err:"",retVal:B})}}else{B.SetProperty("Invoked",true);B.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:B})}})})}}})}else{B.SetProperty("Invoked",false);B.SetProperty("RetVal",false);$.setReturnValue({err:"",retVal:B})}}}}};k.prototype.DoInvokeMethod=function(x){var y="";var w=CCFMiscUtil_CreatePropSet();var v;y=x.GetProperty("MethodName").toString();if(y==="Submit"){this.Submit();$.callback(this,function(z){if(!z.err){this.ReleaseBOs();w.SetProperty("Invoked",true);$.setReturnValue({err:"",retVal:w})}else{w.SetProperty("Invoked",true);$.setReturnValue({err:z.err,retVal:w})}})}else{if(y==="Sign"){this.Sign();$.callback(this,function(z){if(!z.err){w.SetProperty("Invoked",true);$.setReturnValue({err:"",retVal:w})}else{w.SetProperty("Invoked",true);$.setReturnValue({err:z.err,retVal:w})}})}else{if(y==="CreateSignature"){this.CreateSignature();$.callback(this,function(z){w.SetProperty("Invoked",true);$.setReturnValue({err:false,retVal:w})})}else{if(y==="CancelSignature"){this.CancelSignature();$.callback(this,function(z){if(!z.err){w.SetProperty("Invoked",true);$.setReturnValue({err:"",retVal:w})}else{w.SetProperty("Invoked",true);$.setReturnValue({err:z.err,retVal:w})}})}else{if(y==="ClearSignature"){w.SetProperty("Invoked",true);$.setReturnValue({err:false,retVal:w})}else{if(y==="ApplySignature"){this.ApplySignature();$.callback(this,function(z){if(!z.err){w.SetProperty("Invoked",true);$.setReturnValue({err:"",retVal:w})}else{w.SetProperty("Invoked",true);$.setReturnValue({err:z.err,retVal:w})}})}else{if(y==="UpsertCallProducts"){g.call(this);$.callback(this,function(z){if(z.err){w.SetProperty("Invoked",true);$.setReturnValue({err:z.err,retVal:w});return}w.SetProperty("Invoked",true);$.setReturnValue({err:false,retVal:w})})}else{if(y==="BestLots"){v=this.GetContext().GetBusComp();n.call(this,false,v);$.callback(this,function(z){w.SetProperty("Invoked",true);$.setReturnValue({err:false,retVal:w})})}else{if(y==="ShowAll"){v=this.GetContext().GetBusComp();n.call(this,true,v);$.callback(this,function(z){w.SetProperty("Invoked",true);$.setReturnValue({err:false,retVal:w})})}else{if(y==="SetConstraintAssocFilter"){this.PopulateAttendee();$.callback(this,function(z){w.SetProperty("Invoked",true);$.setReturnValue({err:false,retVal:w})})}else{if(y==="SetAllAssocFilter"){this.PopulateAllContact();$.callback(this,function(z){w.SetProperty("Invoked",true);$.setReturnValue({err:false,retVal:w})})}else{w.SetProperty("Invoked",false);$.setReturnValue({err:false,retVal:w})}}}}}}}}}}}};k.prototype.Submit=function(){SiebelJS.Log("Invoked Submit Method");var L="Submit";var I=0;var x;var y=null;var H=null;var z;var D;var C=false;var E=CCFMiscUtil_CreatePropSet();var M;var G;var v;var w;var J;var K=[];var F;var A=null;x=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp();e=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile");F=e.GetBusComp("Pharma Professional Call - Mobile");E.SetProperty("EventName",L);var N=SiebelApp.S_App.GetService("LS Pharma Validation Service");var B=N.Invoke("CallValidate",E);$.callback(this,function(P){if(!P.err){var Q=CCFMiscUtil_CreatePropSet();Q=P.retVal;var R=Q.GetProperty("ErrorCount");var O=Q.GetProperty("WarningCount");if(O>0){SiebelJS.Log("warning messages")}if(R>0){SiebelJS.Log("Call validation failed");x.SetCommitPending(true);x.WriteRecord();$.callback(this,function(S){SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted","Submit");d=[];SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("SSAPhmaCallValidationFailed",K);$.setReturnValue({err:"SSAPhmaCallValidationFailed",retVal:""});return})}else{x.FieldValue("Id");$.callback(this,function(S){var T=S.retVal;x.FieldValue("Category");$.callback(this,function(U){J=U.retVal;var V=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE");if(J===V){A=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("Pharma Attendee Call Mobile");p(x);$.callback(this,function(W){F.ActivateField("Parent Activity Id");F.SetSearchSpec("Parent Activity Id",T);F.Execute();$.callback(this,function(X){F.Home();$.callback(this,function(Z){var Y=function(){h("Pharma Promotional Items Dropped",F);$.callback(this,function(aa){F.FieldValue("Id");$.callback(this,function(ac){var ab=ac.retVal;p(F,A,ab);$.callback(this,function(ad){x.PositionById(ab);$.callback(this,function(ae){if(x.CheckActiveRow()===true){p(x)}})})})});$.callback(this,function(aa){F.NextRecord();$.callback(this,function(ac){var ab=ac.err;if(!ab){Y.call(this)}else{x.PositionById(T)}})})};if(F.CheckActiveRow()===true){Y.call(this)}})})})}else{h("Pharma Promotional Items Dropped",x);$.callback(this,function(W){p(x)})}})})}}})};function p(x,v,C){var w=new Date();var A=x.GetUserProperty("Status Field");var B=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetControl("Status").GetPickApplet();var y=x.GetPickListInfo(B,A);var z=SiebelApp.S_App.Model.GetLovNameVal("Submitted",y.LOVType);x.SetFieldValue(A,z);$.callback(this,function(D){x.SetCommitPending(true);x.WriteRecord();$.callback(this,function(E){SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted");if(v&&C){v.ActivateField("Activity Id");v.SetFldSearchSpec("Activity Id",C);v.Execute();$.callback(this,function(F){v.Home();$.callback(this,function(G){if(v.CheckActiveRow()===true){v.SetFieldValue(A,z);$.callback(this,function(H){v.SetCommitPending(true);v.WriteRecord(false);$.callback(this,function(I){v.SetFldSearchSpec("Activity Id","");SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")})})}v.SetFldSearchSpec("Activity Id","")})})}})})}function h(C,x){var B;var N=false;var J;var M=null;var v;var G;var K;var I;var E;var y=[];var L=[];var F=[];var H=[];var A=0;var w;var z;var D;B=x.GetBusObj().GetName();z=SiebelApp.S_App.GetBusObj(B).GetName();if(C==="Pharma Call Sample Dropped"){N=true}x.FieldValue("Id");$.callback(this,function(O){J=O.retVal;M=SiebelApp.S_App.GetBusObj(z).GetBusComp(C);M.ActivateField("Activity Id");M.ActivateField("Parent Inventory Flag");M.ActivateField("Parent Lots Defined Flag");M.ActivateField("Inventory Flag");M.ActivateField("Name");M.ActivateField("Quantity");M.ActivateField("Lot Name");M.SetFldSearchSpec("Activity Id",J);M.Execute();$.callback(this,function(P){M.Home();$.callback(this,function(R){var Q=function(){if(N){M.FieldValue("Parent Inventory Flag");$.callback(this,function(S){v=S.retVal;M.FieldValue("Parent Lots Defined Flag");$.callback(this,function(T){G=T.retVal})})}else{M.FieldValue("Inventory Flag");$.callback(this,function(S){v=S.retVal})}$.callback(this,function(S){if(v==="Y"||G==="Y"){M.FieldValue("Name");$.callback(this,function(T){K=T.retVal;M.FieldValue("Quantity");$.callback(this,function(U){I=U.retVal;if(N){M.FieldValue("Lot Name");$.callback(this,function(V){E=V.retVal;H.push(E)})}$.callback(this,function(V){F.push(K);L.push(I)})})})}});$.callback(this,function(S){M.NextRecord();$.callback(this,function(U){var T=U.err;if(!T){Q.call(this)}})})};if(M.CheckActiveRow()===true){Q.call(this)
}$.callback(this,function(S){x.FieldValue("Start Date");$.callback(this,function(T){D=T.retVal;if(F.length>0){r(F,L,H,D)}})})})})})}function r(F,P,I,E){var x;var N;var v;var J;var O;var y;var G;var K;var L;var Q;var D;var M;var B;var z;var H;var C;var A;var w;c=SiebelApp.S_App.Model.GetBusObj("Pharma Samples");A=c.GetBusComp("Pharma Inventory Period");C=c.GetBusComp("Pharma Personal Inventory");A.Execute();$.callback(this,function(R){A.Home();$.callback(this,function(T){var S=true;var U=function(){if(S===true){A.FieldValue("Start Date");$.callback(this,function(V){x=V.retVal;A.FieldValue("End Date");$.callback(this,function(W){N=W.retVal;v=N.toString();J=E.toString();O=x.toString();if((new Date(J).getDate()>new Date(O).getDate())&&(!v||(v==="null")||(new Date(J).getDate()<new Date(v).getDate()))){A.FieldValue("Id");$.callback(this,function(X){y=X.retVal;S=false})}})})}$.callback(this,function(V){if(S===true){A.NextRecord();$.callback(this,function(X){var W=X.err;if(!W){U.call(this)}})}})};if(A.CheckActiveRow()===true){U.call(this)}$.callback(this,function(){z=SiebelApp.S_App.Model.GetLoginId();G=SiebelApp.Metadata.GetSystemPreference("Disburse on Signature Capture");if(G!==null){if(G.Value==="TRUE"){K=true}}L=SiebelApp.Metadata.GetSystemPreference("Lots For Disperse Only");if(L!==null){if(L.Value==="TRUE"){Q=true}}var V=0;var W=function(){D=F[V];M=P[V];if(I.length){B=I[V]}C.SetFldSearchSpec("Owned By Id",z);C.SetFldSearchSpec("Product Name",D);if(K&&!Q){if(B!==null){C.SetFldSearchSpec("Lot Name",B)}}C.SetFldSearchSpec("Stock Period Id",y);C.Execute();$.callback(this,function(X){C.Home();$.callback(this,function(Y){var Z=function(){C.FieldValue("Client Quantity");$.callback(this,function(aa){w=aa.retVal;w=w-M;C.SetFieldValue("Client Quantity",w);$.callback(this,function(ab){C.SetCommitPending(true);C.WriteRecord(false)})});$.callback(this,function(aa){C.NextRecord();$.callback(this,function(ac){var ab=ac.err;if(!ab){Z.call(this)}})})};if(C.CheckActiveRow()===true){Z.call(this)}})});$.callback(this,function(X){V++;if(V<F.length){W.call(this)}})};if(V<F.length){W.call(this)}})})})}k.prototype.Execute=function(){var w=CCFMiscUtil_CreatePropSet();var x;var v=this.GetContext();x=v.GetUserProperty("Default Best Lots");if(x==="TRUE"){n(false,v);$.callback(this,function(y){w.SetProperty("Invoked",true);w.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:w})})}else{n(true,v);$.callback(this,function(y){w.SetProperty("Invoked",true);w.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:w})})}};function n(aa,y){var S;var w;var L;var x;var J;var G;var Y;var M="Product Type";var Z;var N;var C;var D;var H;var E;var I=false;var A;var K;var W;var X;var Q;var B;var F;var U;var v=[];var O;var V;var z;var ab;var R;var T;var P=function(){y.DeleteRecord();$.callback(this,function(){if(y.GetWS().length>0){P.call(this)}})};if(y.CheckActiveRow()===true){P.call(this)}$.callback(this,function(){S=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp().GetBusObj().GetName();w=y.GetUserProperty("Parent BusComp");ab=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp(w);L=ab.GetParentBusComp();x=y.GetUserProperty("Parent Start Date Fld");L.FieldValue(x);$.callback(this,function(ac){J=ac.retVal;G=J;L.FieldValue("Id");$.callback(this,function(af){T=af.retVal;w=y.GetUserProperty("Source BusComp");Y=SiebelApp.S_App.Model.GetBusObj(S).GetBusComp(w);Y.ActivateField("Alloc End Date");Y.ActivateField("Alloc Start Date");Y.ActivateField("Id");Y.ActivateField("Indication");Y.ActivateField("Controlled Substance");Z="Copy Field";var ag=Z;for(var ae=0;ae<10;ae++){Z=ag;if(ae>0){Z=Z+" "+ae}var ad=y.GetUserProperty(Z);if(!ad){continue}ab.ActivateField(ad);Y.ActivateField(ad)}Y.Execute();$.callback(this,function(ah){Y.Home();$.callback(this,function(aj){var ai=function(){v.length=0;var ak=function(){Y.FieldValue("Product Id");$.callback(this,function(al){F=al.retVal;B=SiebelApp.S_App.Model.GetBusObj(S).GetBusComp("LS Product Indiction");B.SetFldSearchSpec("Product Id",F);B.ActivateField("Indication");B.Execute();$.callback(this,function(am){B.Home();$.callback(this,function(an){var ao=SiebelApp.S_App.Model.GetLovNameVal("Other","LS_PRODUCT_INDICATION");v.push(ao);var ap=function(){B.FieldValue("Indication");$.callback(this,function(aq){ao=aq.retVal;v.push(ao)});$.callback(this,function(aq){B.NextRecord();$.callback(this,function(at){var ar=at.err;if(!ar){ap.call(this)}})})};if(B.CheckActiveRow()===true){ap.call(this)}$.callback(this,function(ar){var aq=0;y.ActivateField("Product Allocation Id");y.ActivateField("Lot Flag");y.ActivateField("Inventory Flag");y.ActivateField("Controlled Substance");y.SetExecuted(true);var at=function(){y.NewRecord(false);$.callback(this,function(az){var aw=0;var aB=[];var ax=0;var aA=Y.GetActiveRow();var au=Y.FindWorkSet(aA);aB=Y.GetActivatedFieldList();var av;var ay=function(){var aC=aB[aw];Y.FieldValue(aC);$.callback(this,function(aD){O=aD.retVal;av=y.GetFieldDefn(aC);if(av){if(O&&aC!=="Id"){y.SetFieldValue(aC,O)}}});$.callback(this,function(aD){aw++;if(aw<aB.length){ay.call(this)}})};if(aw<aB.length){ay.call(this)}$.callback(this,function(aC){Y.FieldValue("Id");$.callback(this,function(aD){O=aD.retVal;y.SetFieldValue("Product Allocation Id",O);$.callback(this,function(aE){y.FieldValue("Indication");$.callback(this,function(aF){O=aF.retVal;av=y.GetFieldDefn("Indication");if(av){y.SetFieldValue("Indication",v[aq],true)}$.callback(this,function(aH){Z="Query Field";var aJ=Z;var aG=0;var aI=function(){Z=aJ;if(aG>0){Z=Z+" "+aG}ad=y.GetUserProperty(Z);if(ad){y.FieldValue(ad);$.callback(this,function(aK){O=aK.retVal;ab.SetFldSearchSpec(ad,O)})}$.callback(this,function(aK){aG++;if(aG<5){aI.call(this)}})};if(aG===0){aI.call(this)}$.callback(this,function(aK){ab.SetFldSearchSpec("Activity Id",T);ab.Execute();$.callback(this,function(aL){ab.Home();$.callback(this,function(aO){Z="Qty Field";var aP=Z;var aM=0;var aN=function(){Z=aP;if(aM>0){Z=Z+" "+aM}ad=y.GetUserProperty(Z);if(ad){y.FieldValue(ad);$.callback(this,function(aQ){z=aQ.retVal;ab.FieldValue(ad);$.callback(this,function(aR){H=aR.retVal;if(z!==H){y.SetFieldValue(ad,H)}})})}$.callback(this,function(aQ){aM++;if(aM<5){aN.call(this)}})};if(aM===0){aN.call(this)}$.callback(this,function(aQ){y.SetCommitPending(true);y.WriteRecord();$.callback(this,function(aR){if(aa&&(y.GetName()==="LS Pharma Call Samples Dropped Alloc VBC")){j(y)}else{SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")}})})})})})})})})})})});$.callback(this,function(){aq++;if(aq<v.length){at.call(this)}})};if(aq<v.length){at.call(this)}})})})})};if(!aa){Y.FieldValue("Name");$.callback(this,function(al){C=al.retVal;Y.FieldValue("Displayed Stock");$.callback(this,function(am){H=am.retVal;Y.FieldValue("Lot Name");$.callback(this,function(an){D=an.retVal;Y.FieldValue("Cutoff Date");$.callback(this,function(ao){E=ao.retVal;A=Y.GetFieldDefn("Inventory Flag");K=Y.GetFieldDefn("Inventory Id");if(A&&K){Y.FieldValue("Inventory Flag");$.callback(this,function(ap){W=ap.retVal;
Y.FieldValue("Inventory Id");$.callback(this,function(aq){X=aq.retVal;I=true})})}$.callback(this,function(ap){Q=parseInt(H,10);if((C===R)||(Q<=0&&(W&&W.toLowerCase()==="y"&&!utils.IsEmpty(X)||!utils.IsEmpty(I)))||(new Date(G).getTime()>new Date(E).getTime()&&!utils.IsEmpty(D))){$.callback(this,function(aq){Y.NextRecord();$.callback(this,function(at){var ar=at.err;if(!ar){ai.call(this)}})})}else{R=C;ak.call(this)}})})})})})}else{ak.call(this)}$.callback(this,function(al){Y.NextRecord();$.callback(this,function(an){var am=an.err;if(!am){ai.call(this)}})})};if(Y.CheckActiveRow()===true){ai.call(this)}})})})});$.callback(this,function(ac){ab.SetFldSearchSpec("Activity Id","");ab.SetFldSearchSpec("Indication","");ab.SetFldSearchSpec("Product Allocation Id","");ab.SetFldSearchSpec("Lot Name","");ab.Execute();$.callback(this,function(ad){ab.Home();$.callback(this,function(ae){SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")})})})})}function g(){var y;var F;var H;var E;var B;var I;var v;var C;var x;var D=[];var G=this.GetContext().GetBusComp().GetName();y=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp(G);var w=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp().GetBusObj().GetName();H=y.GetUserProperty("Parent BusComp");E=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp(H);x=E.GetParentBusComp();var A=0;var z=function(){if(SiebelApp.AjaxRequestMgr.GetActiveRequestObj("UpsertCallProducts").FieldValue[A][0]==="Quantity"||SiebelApp.AjaxRequestMgr.GetActiveRequestObj("UpsertCallProducts").FieldValue[A][0]==="Priority"){var K=SiebelApp.AjaxRequestMgr.GetActiveRequestObj("UpsertCallProducts").FieldValue[A][0];K=utils.UrlDecode(K);var J=SiebelApp.AjaxRequestMgr.GetActiveRequestObj("UpsertCallProducts").FieldValue[A][1];y.SetFieldValue(K,J)}$.callback(this,function(L){A++;if(A<SiebelApp.AjaxRequestMgr.GetActiveRequestObj("UpsertCallProducts").FieldValue.length){z.call(this)}})};if(A===0){z.call(this)}$.callback(this,function(J){y.Home();$.callback(this,function(K){var L=function(){F=y.GetUserProperty("Qty Field");x.FieldValue("Id");$.callback(this,function(M){C=M.retVal;y.FieldValue(F);$.callback(this,function(Q){B=Q.retVal;var P="Query Field";var R=P;var O=0;var N=function(){P=R;if(O>0){P=P+" "+O}F=y.GetUserProperty(P);if(F){y.FieldValue(F);$.callback(this,function(S){I=S.retVal;E.ActivateField(F);E.SetFldSearchSpec(F,I)})}$.callback(this,function(S){O++;if(O<10){N.call(this)}})};if(O===0){N.call(this)}$.callback(this,function(S){E.SetFldSearchSpec("Activity Id",C);E.Execute();$.callback(this,function(T){E.Home();$.callback(this,function(X){if(E.CheckActiveRow()===true&&(B===null||!B)){E.DeleteRecord()}else{if((B!==null&&B!==""&&B>0)&&E.CheckActiveRow()!==true){E.NewRecord(false);$.callback(this,function(ab){P="Copy Field";var ac=P;var aa=0;var Z=function(){P=ac;if(aa>0){P=P+" "+aa}F=y.GetUserProperty(P);if(F){y.FieldValue(F);$.callback(this,function(ad){I=ad.retVal;E.SetFieldValue(F,I,true)})}$.callback(this,function(ad){aa++;if(aa<11){Z.call(this)}})};if(aa===0){Z.call(this)}$.callback(this,function(ad){y.FieldValue("Lot Flag");$.callback(this,function(ae){var af=ae.retVal;y.FieldValue("Inventory Flag");$.callback(this,function(ag){var ah=ag.retVal;y.FieldValue("Controlled Substance");$.callback(this,function(ak){var ai=ak.retVal;var aj=y.GetFieldDefn("Lot Flag");var al=y.GetFieldDefn("Inventory Flag");if(aj&&al){E.SetFieldValue("Parent Inventory Flag",ah);$.callback(this,function(am){E.SetFieldValue("Parent Lots Defined Flag",af);$.callback(this,function(an){E.SetFieldValue("Controlled Substance",ai)})})}else{if(!aj&&al){$.callback(this,function(am){E.SetFieldValue("Inventory Flag",ah,true)})}}})})})});$.callback(this,function(ad){E.SetCommitPending(true);E.WriteRecord();$.callback(this,function(ae){if(ae.err){$.setReturnValue({err:ae.err});return}SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")})})})}else{if((B!==null&&B!==""&&B>0)&&E.CheckActiveRow()===true){P="Copy Field";var Y=P;var W=0;var V=false;var U=function(){P=Y;if(W>0){P=P+" "+W}F=y.GetUserProperty(P);if(F){y.FieldValue(F);$.callback(this,function(Z){I=Z.retVal;E.FieldValue(F);$.callback(this,function(aa){v=aa.retVal;if(v!==I){E.SetFieldValue(F,I,true);$.callback(this,function(ab){V=true})}})})}$.callback(this,function(Z){W++;if(W<10){U.call(this)}})};if(W===0){U.call(this)}$.callback(this,function(Z){if(V){E.SetCommitPending(true);E.WriteRecord();$.callback(this,function(aa){if(aa.err){$.setReturnValue({err:aa.err});return}SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")})}})}else{if(B!==null&&B!==""&&B<=0){D.push(B);D.push("Quantity");D.push(">0");SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("SSASqlErrValidation",D);$.setReturnValue({err:"SSASqlErrValidation"});return}}}}})})})})});$.callback(this,function(M){if(M.err){$.setReturnValue({err:M.err});return}y.NextRecord();$.callback(this,function(O){var N=O.err;if(!N){L.call(this)}})})};if(y.CheckActiveRow()===true){L.call(this)}$.callback(this,function(N){var M=N.err;E.SetFldSearchSpec("Activity Id","");E.SetFldSearchSpec("Indication","");E.SetFldSearchSpec("Product Allocation Id","");E.SetFldSearchSpec("Lot Name","");E.Execute();$.callback(this,function(O){E.Home();$.callback(this,function(P){if(M){$.setReturnValue({err:M});return}SiebelApp.OfflineAppMgr.PostActions("ClosePopup")})})})})})}k.prototype.WriteRecord=function(){SiebelJS.Log("Invoked pharmacallsvc WriteRecord Method");var B=CCFMiscUtil_CreatePropSet();var x;var C;var w;var D="";var v="";var A=[];var y;var z=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp();z.ActivateField("Contact Id");z.ActivateField("Account Id");z.ActivateField("Parent Activity Id");z.FieldValue("Contact Id");$.callback(this,function(E){x=E.retVal;z.FieldValue("Account Id");$.callback(this,function(F){C=F.retVal;z.FieldValue("Category");$.callback(this,function(I){var J=I.retVal;var H=SiebelApp.S_App.Model.GetLovNameVal("Attendee Call","TODO_TYPE");if(!utils.IsEmpty(J)&&(J!==H)){var G=SiebelApp.S_App.Model.GetLovNameVal("Professional Call","TODO_TYPE");var L=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE");if(J===G){if(utils.IsEmpty(x)){A.push("Contact");SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("SSAFReqFieldNotExist",A);$.setReturnValue({err:"SSAFReqFieldNotExist",retVal:B});return}}else{if(J===L){if(utils.IsEmpty(C)){A.push("Account Name");SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("SSAFReqFieldNotExist",A);$.setReturnValue({err:"SSAFReqFieldNotExist",retVal:B});return}}}}else{if((utils.IsEmpty(x)&&utils.IsEmpty(C)&&(J!==H))||(!utils.IsEmpty(x)&&!utils.IsEmpty(C)&&(J!==H))){SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("IDS_LSMOBILE_CL_ACCOUNT_CONTACT_REQUIRED",A);$.setReturnValue({err:"IDS_LSMOBILE_CL_ACCOUNT_CONTACT_REQUIRED",retVal:B});return}}var K=z.GetParentBusComp();if(z.IsNewRecordPending()){if(!utils.IsEmpty(x)&&utils.IsEmpty(J)){H=SiebelApp.S_App.Model.GetLovNameVal("Professional Call","TODO_TYPE");z.SetFieldValue("Category",H);$.callback(this,function(M){if(utils.IsEmpty(K)){$.setReturnValue({err:false,retVal:B});
return}else{l(x);$.callback(this,function(N){var O=N.retVal;z.SetFieldValue("Professional Type",O);$.callback(this,function(P){z.FieldValue("Address");$.callback(this,function(R){var Q=R.retVal;if(utils.IsEmpty(Q)){K.FieldValue("Full Address");$.callback(this,function(S){Q=S.retVal;z.SetFieldValue("Address",Q,true);$.callback(this,function(T){$.setReturnValue({err:false,retVal:B});return})})}else{$.setReturnValue({err:false,retVal:B});return}})})})}})}else{if(!utils.IsEmpty(C)&&utils.IsEmpty(J)){H=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE");z.SetFieldValue("Category",H);$.callback(this,function(M){if(utils.IsEmpty(K)){$.setReturnValue({err:false,retVal:B});return}else{z.FieldValue("Address");$.callback(this,function(O){var N=O.retVal;if(utils.IsEmpty(N)){K.FieldValue("Full Address");$.callback(this,function(P){N=P.retVal;z.SetFieldValue("Address",N,true);$.callback(this,function(Q){$.setReturnValue({err:false,retVal:B});return})})}else{$.setReturnValue({err:false,retVal:B});return}})}})}}}else{if(!utils.IsEmpty(x)&&utils.IsEmpty(J)){H=SiebelApp.S_App.Model.GetLovNameVal("Professional Call","TODO_TYPE");z.SetFieldValue("Category",H);$.callback(this,function(M){$.setReturnValue({err:false,retVal:B});return})}else{if(!utils.IsEmpty(C)&&utils.IsEmpty(J)){H=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE");z.SetFieldValue("Category",H);$.callback(this,function(M){$.setReturnValue({err:false,retVal:B});return})}}z.FieldValue("Category");$.callback(this,function(N){y=N.retVal;var M=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE");if(y===M){z.FieldValue("Id");$.callback(this,function(P){var O=P.retVal;z.FieldValue("Duration Minutes");$.callback(this,function(R){var Q=R.retVal;z.FieldValue("Address");$.callback(this,function(T){var S=T.retVal;z.FieldValue("Account Id");$.callback(this,function(V){var U=V.retVal;z.FieldValue("Account Name");$.callback(this,function(X){var W=X.retVal;z.FieldValue("Start Date");$.callback(this,function(Z){var Y=Z.retVal;z.FieldValue("State");$.callback(this,function(aa){var ab=aa.retVal;z.FieldValue("Contact Address Id");$.callback(this,function(ad){var ac=ad.retVal;f.Reset();f.SetProperty("Id",O);f.SetProperty("Account Name",W);f.SetProperty("Account Id",U);f.SetProperty("Address",S);f.SetProperty("Start Date",Y);f.SetProperty("Duration Minutes",Q);f.SetProperty("State",ab);f.SetProperty("Contact Address Id",ac);$.setReturnValue({err:false,retVal:B});return})})})})})})})})}})}})})})};k.prototype.Sign=function(){SiebelJS.Log("Invoked Sign Method");var y="Sign";var x=CCFMiscUtil_CreatePropSet();var w=[];x.SetProperty("EventName",y);var v=SiebelApp.S_App.GetService("LS Pharma Validation Service");var z=v.Invoke("CallValidate",x);$.callback(this,function(C){if(!C.err){var B=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp();var D=CCFMiscUtil_CreatePropSet();D=C.retVal;var E=D.GetProperty("ErrorCount");var A=D.GetProperty("WarningCount");if(A>0){SiebelJS.Log("warning messages")}if(E>0){SiebelJS.Log("Call validation failed");B.SetCommitPending(true);B.WriteRecord();$.callback(this,function(F){SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted","Submit");SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("SSAPhmaCallValidationFailed",w);$.setReturnValue({err:"SSAPhmaCallValidationFailed",retVal:""});return})}else{B.FieldValue("Id");$.callback(this,function(G){var F=G.retVal;this.DefaultConfirmSignYes(F)})}}})};k.prototype.DefaultConfirmSignYes=function(v){SiebelJS.Log("Invoked DefaultConfirmSignYes Method");var w="SIS HH Pharma Professional Samples Dropped View - Mobile";var z="Pharma Professional Call - Mobile";var B="Id";var y="";var D="LS Pharma Call Signature Capture View - Mobile";var A="LS Pharma Call Signature Form Applet - Mobile";var C="";var x=CCFMiscUtil_CreatePropSet();C=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetDrillDown("Signature Capture Drilldown");if(!utils.IsEmpty(C)){w=SiebelApp.S_App.GetActiveView().GetName();z=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp();B=C.srcFieldName;x.SetProperty("Parent Id",v);SiebelApp.OfflineAppMgr.QueueMethod(A,"CreateSignature",x);SiebelApp.OfflineAppMgr.BuildViewAsync(D,"BS_DRILLDOWN",C)}};k.prototype.CreateSignature=function(A){SiebelJS.Log("Invoked CreateSignature Method");var y="";var z="";var x;var v="Test";if(!utils.IsEmpty(A)){var C=A.GetProperty("Parent Id")}var w=this.GetContext().GetBusComp();var B=w.GetParentBusComp();B.FieldValue("Id");$.callback(this,function(E){var D=E.retVal;w.Execute();$.callback(this,function(F){w.NewRecord(true);$.callback(this,function(G){s.call(this,D);$.callback(this,function(H){y=H.retVal;t.call(this,D);$.callback(this,function(J){v=J.retVal;var I=this.GetContext().GetUserProperty("Signature Type");m.call(this,I);$.callback(this,function(K){z=K.retVal;w.SetFieldValue("Signature Header Text",y);$.callback(this,function(){w.SetFieldValue("Signature Body Text",v);$.callback(this,function(){w.SetFieldValue("Denorm Disclaimer Text",z);$.callback(this,function(L){w.SetFieldValue("Activity Id",D)})})})})})})})})})};function t(w){var A=[];var B=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile");var E=this.GetContext().GetBusComp();var y=E.GetParentBusComp();var v=B.GetBusComp("Pharma Call Sample Dropped");var G;var F="";var x="";for(var C=1;C<=4;C++){var D="Signature Body Text Field: "+C;var z=v.GetUserProperty(D);A.push(z);v.ActivateField(z);x=SiebelApp.S_App.Model.GetLovNameVal(z,"SIGNATURE_BODY_TEXT_TITLE");F=F+" "+x}C=0;v.ActivateField("Activity Id");v.SetFldSearchSpec("Activity Id",w);v.Execute();$.callback(this,function(H){v.Home();$.callback(this,function(J){var I=function(){v.FieldValue(A[C]);$.callback(this,function(K){if(C<=3){G=K.retVal;if((G!==null)||(!utils.IsEmpty(G))){F=F+" "+G}C++;if(A[C]){I.call(this)}else{$.setReturnValue({err:false,retVal:F});SiebelApp.S_App.Model.ReleaseBO(B);return}}})};I.call(this)})})}function u(v,y){var x="";var w=SiebelApp.S_App.Model.GetBusObj("Contact").GetBusComp("Pharma Professional State Licenses");if(w&&!utils.IsEmpty(w)){w.SetFldSearchSpec("Professional Id",v);w.SetFldSearchSpec("State",y);w.Execute();$.callback(this,function(z){w.Home();$.callback(this,function(B){var A=SiebelApp.Metadata.GetUserProperty("License Number Field",SiebelApp.Metadata.GetBusServiceDef("LS Pharma Validation Service"));if(w.CheckActiveRow()===true&&A){w.FieldValue(A);$.callback(this,function(D){var C=D.retVal;$.setReturnValue({err:false,retVal:C});return})}else{$.setReturnValue({err:false,retVal:x});return}})})}else{$.setReturnValue({err:false,retVal:x});return}}function s(y){var z=[];var A=this.GetContext().GetBusComp();var w=A.GetParentBusComp();var v;var x="";w.FieldValue("Contact Id");$.callback(this,function(C){var B=C.retVal;w.FieldValue("State");$.callback(this,function(D){var E=D.retVal;u.call(this,B,E);$.callback(this,function(K){var I=K.retVal;for(var H=1;H<=9;H++){var F="Header Text Field: "+H;var J=A.GetUserProperty(F);z.push(J);w.ActivateField(J)
}H=0;var G=function(){if(z[H]==="Calc DEA #"||z[H]==="DEA#"){H++;G.call(this)}else{w.FieldValue(z[H]);$.callback(this,function(L){if(H<=9){v=L.retVal;if(z[H]==="Calc License #"&&!utils.IsEmpty(I)){v=SiebelApp.S_App.Model.GetLovNameVal("License#","SIGNATURE_HEADER_TEXT_TITLE")}if(z[H]==="Calc Call Date Text"){v=SiebelApp.S_App.Model.GetLovNameVal("Call Date","SIGNATURE_HEADER_TEXT_TITLE")}if(z[H]==="License Number"){v=I}if((v!==null)||(!utils.IsEmpty(v))){x=x+" "+v}H++;G.call(this)}else{$.setReturnValue({err:false,retVal:x});return}})}};G.call(this)})})})}function m(x){var w="I have requested and received the samples listed herein for the treatment of the medical needs of my patients.";var v="Active";x="Pharma Call";var y=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile");var z=y.GetBusComp("Pharma Signature Disclaimer");z.ActivateField("Status");z.ActivateField("Disclaimer SubType");v=SiebelApp.S_App.Model.GetLovNameVal("Active","SIGNATURE_DISCLAIMER_STATUS");z.SetFldSearchSpec("Disclaimer SubType",x);$.callback(this,function(A){z.Execute();$.callback(this,function(B){z.Home();$.callback(this,function(C){if(z.CheckActiveRow()!==false){z.FieldValue("Disclaimer");$.callback(this,function(D){w=D.retVal;$.setReturnValue({err:false,retVal:w});SiebelApp.S_App.Model.ReleaseBO(y)})}else{$.setReturnValue({err:false,retVal:w});SiebelApp.S_App.Model.ReleaseBO(y)}})})})}k.prototype.ApplySignature=function(){SiebelJS.Log("Invoked ApplySignature Method");var z="Apply Drilldown";var y="";var H;var B=CCFMiscUtil_CreatePropSet();var I=0;var C=16000;var D=5;var A=[];var x;var w=this.GetContext().GetBusComp();var v=w.GetParentBusComp();var G=SiebelApp.AjaxRequestMgr.GetActiveRequestObj();for(var F in G.FieldValue){var E=G.FieldValue[F];if(E[0]==="Signature"){H=E[1];break}}y=utils.UrlDecode(H);I=y.length;if(I===0){SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted","ApplySignature");A.push("Signature");SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("IDS_PHA_ERR_SIGN_REQD",A);$.setReturnValue({err:"IDS_PHA_ERR_SIGN_REQD",retVal:""});return}else{if(I<D){SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted","ApplySignature");A.push("Signature");SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("IDS_PHA_ERR_SIGN_REQD",A);$.setReturnValue({err:"IDS_PHA_ERR_SIGN_REQD",retVal:""});return}else{if(I>=C){SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted","ApplySignature");A.push("Signature");SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("IDS_PHA_ERR_SIGN_TOO_BIG",A);$.setReturnValue({err:"IDS_PHA_ERR_SIGN_TOO_BIG",retVal:""});return}else{$.callback(this,function(J){v.SetFieldValue("Signature Captured","Y");$.callback(this,function(){var K=SiebelApp.S_App.Model.GetLovNameVal("Signed","EVENT_STATUS");v.SetFieldValue("Call Status",K);$.callback(this,function(L){v.SetCommitPending(true);v.WriteRecord();$.callback(this,function(N){var M=SiebelApp.S_App.Model.GetLovNameVal("Attendee Call","TODO_TYPE");v.FieldValue("Category");$.callback(this,function(Q){var P=Q.retVal;if(M===P){var O=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp("Pharma Attendee Call Mobile");if(O){v.FieldValue("Id");$.callback(this,function(R){var S=R.retVal;O.ActivateField("Activity Id");O.SetFldSearchSpec("Activity Id",S);O.Execute();$.callback(this,function(T){O.Home();$.callback(this,function(U){if(O.CheckActiveRow()===true){O.SetFieldValue("Signature Captured","Y");$.callback(this,function(V){O.SetFieldValue("Call Status",K);$.callback(this,function(W){O.SetCommitPending(true);O.WriteRecord(false)})})}})})})}}$.callback(this,function(R){w.SetFieldValue("Signature",y);$.callback(this,function(S){w.SetCommitPending(true);w.WriteRecord();$.callback(this,function(T){h("Pharma Call Sample Dropped",v);$.callback(this,function(W){SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted");var U=W.retVal;var V=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetDrillDown(z);if(!utils.IsEmpty(V)){x=V.viewname;SiebelApp.OfflineAppMgr.BuildViewAsync(x,"BS_DRILLDOWN",V)}else{x=SiebelApp.OfflineAppMgr.GetPriorView();SiebelApp.OfflineAppMgr.BuildViewAsync(x,"BS_NORMAL")}})})})})})})})})})}}}};k.prototype.CancelSignature=function(){SiebelJS.Log("Invoked CancelSignature Method");var A="Cancel Drilldown";var F="";var z="";var w="";var G="";var E="";var y="";var I;var C=CCFMiscUtil_CreatePropSet();var H=0;var D=16000;var B=[];var x=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp();var v=x.GetParentBusComp();$.callback(this,function(J){v.SetCommitPending(true);v.WriteRecord();$.callback(this,function(N){SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted");var L=SiebelApp.AjaxRequestMgr.GetActiveRequestObj();for(var K in L.FieldValue){var O=L.FieldValue[K];if(O[0]==="Signature"){I=O[1];break}}y=utils.UrlDecode(I);H=y.length;if(x.CheckActiveRow()===true&&x.IsNewRecordPending()===true){x.FieldValue("Signature Header Text");$.callback(this,function(P){G=P.retVal;x.FieldValue("Denorm Disclaimer Text");$.callback(this,function(Q){E=Q.retVal;w=SiebelApp.S_App.Model.GetLovNameVal("Cancelled by User","SIGNATURE_STATUS");G=G+" --- "+w;E=E+" --- "+w;if(H===0){var R=SiebelApp.S_App.Model.GetLoginId();y=w+" "+R+" - "+new Date()}else{if(H>=D){SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted","CancelSignature");B.push("Signature");SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("IDS_PHA_ERR_SIGN_TOO_BIG",B);$.setReturnValue({err:"IDS_PHA_ERR_SIGN_TOO_BIG",retVal:""});return}}x.SetFieldValue("Signature Status",w);$.callback(this,function(){x.SetFieldValue("Signature Header Text",G);$.callback(this,function(){x.SetFieldValue("Denorm Disclaimer Text",E);$.callback(this,function(S){x.SetFieldValue("Signature",y);$.callback(this,function(T){x.SetCommitPending(true);x.WriteRecord();$.callback(this,function(U){SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted");M=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetDrillDown(A);if(!utils.IsEmpty(M)){z=M.viewname;SiebelApp.OfflineAppMgr.BuildViewAsync(z,"BS_DRILLDOWN",M)}else{z=SiebelApp.OfflineAppMgr.GetPriorView();SiebelApp.OfflineAppMgr.BuildViewAsync(z,"BS_NORMAL")}})})})})})})})}else{var M=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetDrillDown(A);if(!utils.IsEmpty(M)){z=M.viewname;SiebelApp.OfflineAppMgr.BuildViewAsync(z,"BS_DRILLDOWN",M)}else{z=SiebelApp.OfflineAppMgr.GetPriorView();SiebelApp.OfflineAppMgr.BuildViewAsync(z,"BS_NORMAL")}}})})};k.prototype.PhaAttendeeNewRecord=function(){SiebelJS.Log("Invoked PhaAttendeeNewRecord Method");e=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile");var w=e.GetBusComp("Pharma Attendee Call Mobile");var z=this.GetContext();var y=z.GetActivatedFieldList();var x=this.GetContext().GetParentBusComp();var v=z.FindWorkSet(z.GetActiveRow());w.ActivateFieldList(y);w.Execute();$.callback(this,function(A){if(!A.err){var B=v.Id;o(B);$.callback(this,function(C){bIsDuplicateRecord=C.retVal;if(bIsDuplicateRecord===false){w.NewRecord();$.callback(this,function(E){if(!E.err){var D=function(G){var H=SiebelApp.OfflineUtils.RemoveNonAlphaChars(y[G]);
if(H in v){return[y[G],v[H]]}else{return[]}};var F={iterations:y.length,execute:w.SetFieldValue,executeScope:w,preExecute:D};$.eachAsyncOp(this,F);$.callback(this,function(G){if(G.err){$.setReturnValue(G)}w.GetPickList("Last Name");$.callback(this,function(I){var H=I.retVal;$.callback(this,function(J){H.SetFldSearchSpec("Id",B);$.callback(this,function(K){H.Execute();$.callback(this,function(L){H.Home();$.callback(this,function(M){if(!M.err&&H.GetActiveRow()>-1&&H.GetWS().length===1){H.PickCurrentRow()}})})})})});$.callback(this,function(H){w.WriteRecord(false);$.callback(this,function(I){if(!I.err||I.err==="SSASqlErrDupConflict"){SiebelApp.S_App.Model.ReleaseBO(e);this.PhaAttendeeAddtoCall(z,x)}else{$.setReturnValue(I)}})})})}})}else{SiebelApp.S_App.Model.ReleaseBO(e);this.PhaAttendeeAddtoCall(z,x)}})}else{$.setReturnValue(A)}})};k.prototype.PhaAttendeeAddtoCall=function(w,v){SiebelJS.Log("Invoked PhaAttendeeAddtoCall Method");v.FieldValue("Id");$.callback(this,function(y){var x=y.retVal;v.FieldValue("State");$.callback(this,function(z){var A=z.retVal;v.FieldValue("Account Address Id");$.callback(this,function(B){var C=B.retVal;v.FieldValue("Start Date");$.callback(this,function(E){var D=E.retVal;v.FieldValue("Address");$.callback(this,function(F){var G=F.retVal;v.FieldValue("Duration Minutes");$.callback(this,function(I){var H=I.retVal;v.FieldValue("Account Name");$.callback(this,function(J){var K=J.retVal;q(v);$.callback(this,function(M){var L=M.retVal;i(v);$.callback(this,function(O){var N=O.retVal;w.FieldValue("Account Id");$.callback(this,function(Q){var P=Q.retVal;w.FieldValue("First Name");$.callback(this,function(S){var R=S.retVal;w.FieldValue("Last Name");$.callback(this,function(U){var T=U.retVal;w.FieldValue("Id");$.callback(this,function(X){var W=X.retVal;var V=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile");v=V.GetBusComp("Pharma Professional Call - Mobile");v.ActivateField("Parent Activity Id");v.ActivateField("Calc Act Cont Name");v.SetExecuted(true);$.callback(this,function(){v.NewRecord(true);$.callback(this,function(Y){v.SetFieldValue("Contact Id",W);$.callback(this,function(Z){v.SetFieldValue("Account Name",K);$.callback(this,function(aa){$.callback(this,function(ab){v.SetFieldValue("Parent Activity Id",x);$.callback(this,function(ad){var ac=SiebelApp.S_App.Model.GetLovNameVal("Attendee Call","TODO_TYPE");v.SetFieldValue("Category",ac);$.callback(this,function(ae){$.callback(this,function(af){$.callback(this,function(ag){v.SetFieldValue("Start Date",D);$.callback(this,function(ah){$.callback(this,function(ai){v.SetFieldValue("Duration Minutes",H);$.callback(this,function(ak){var aj=SiebelApp.S_App.Model.GetLovNameVal("Call Attendee","TODO_TYPE");v.SetFieldValue("Type",aj);$.callback(this,function(al){v.SetFieldValue("Mobile Call Type",ac);$.callback(this,function(am){v.SetFieldValue("State",A);$.callback(this,function(an){v.SetFieldValue("Address",L,true);$.callback(this,function(ao){v.SetFieldValue("Contact Address Id",N);$.callback(this,function(ap){v.SetFieldValue("Account Address Id",C);$.callback(this,function(aq){v.SetCommitPending(true);v.WriteRecord();$.callback(this,function(ar){v.PositionById(x);$.callback(this,function(at){SiebelApp.S_App.Model.ReleaseBO(V);SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})})};k.prototype.PhaAttendeeDeleteRecord=function(z){SiebelJS.Log("Invoked PhaAttendeeDeleteRecord Method");var x=JSON.parse(z.GetProperty("Record"));var v=this.GetContext().GetParentBusComp();var w=SiebelApp.S_App.Model.GetLovNameVal("Call Attendee","TODO_TYPE");var y=x.Id;v.FieldValue("Id");$.callback(this,function(C){var B=C.retVal;var A=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile");var D=A.GetBusComp("Pharma Professional Call - Mobile");D.ActivateField("Account Id");D.ActivateField("Contact Id");D.ActivateField("Parent Activity Id");D.SetFldSearchSpec("Parent Activity Id",B);D.SetFldSearchSpec("Type",w);D.SetFldSearchSpec("Contact Id",y);D.Execute();$.callback(this,function(E){D.Home();$.callback(this,function(G){if(D.CheckActiveRow()===true){var F=D.GetName();D.DeleteRecord();$.callback(this,function(H){v.SetFldSearchSpec("Parent Activity Id","");v.SetFldSearchSpec("Type","");v.SetFldSearchSpec("Contact Id","");v.PositionById(B);SiebelApp.S_App.Model.ReleaseBO(A);SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")})}})})})};k.prototype.PhaCallPostWriteRecord=function(B){var y=CCFMiscUtil_CreatePropSet();var C=[];var x=[];var A=[];var w=[];var v=this.GetContext();var z=SiebelApp.S_App.Model.GetLovNameVal("Account Call","TODO_TYPE");v.FieldValue("Category");$.callback(this,function(J){var I=J.retVal;if(I===z){var H=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile");v=H.GetBusComp("Pharma Professional Call - Mobile");var K=function(){v.FieldValue("Id");$.callback(this,function(P){var Q=P.retVal;if(Q!==E.toString()){v.FieldValue("Duration Minutes");$.callback(this,function(S){var R=S.retVal;v.FieldValue("Start Date");$.callback(this,function(U){var T=U.retVal;v.FieldValue("Address");$.callback(this,function(W){var V=W.retVal;v.FieldValue("Account Id");$.callback(this,function(Y){var X=Y.retVal;v.FieldValue("Account Name");$.callback(this,function(aa){var Z=aa.retVal;v.FieldValue("State");$.callback(this,function(ab){var ac=ab.retVal;v.FieldValue("Contact Address Id");$.callback(this,function(ag){var ad=ag.retVal;C=[];x=[];if(R!==O.toString()){C.push("Duration Minutes");x.push(O.toString())}if(T!==D.toString()){C.push("Start Date");x.push(D.toString())}if(V!==M.toString()){C.push("Address");x.push(M.toString())}if(X!==F.toString()){C.push("Account Id");x.push(F.toString())}if(Z!==G.toString()){C.push("Account Name");x.push(G.toString())}if(ac!==L.toString()){C.push("State");x.push(L.toString())}if(ad!==N.toString()){C.push("Contact Address Id");x.push(N.toString())}var ah=C.length;var af=function(ai){w[0]=C[ai];w[1]=x[ai];w[2]=true;return w};var ae=function(){v.SetCommitPending(true)};A[0]={execute:v.SetFieldValue,preExecute:af,iterations:ah,executeScope:v};A[1]={execute:v.WriteRecord,executeScope:v,preExecute:ae};$.eachAsyncOp(this,A);$.callback(this,function(ai){v.NextRecord();$.callback(this,function(ak){var aj=ak.err;if(!aj){K.call(this)}else{SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted");$.setReturnValue({err:false,retVal:y});SiebelApp.S_App.Model.ReleaseBO(H);return}})})})})})})})})})}else{v.NextRecord();$.callback(this,function(S){var R=S.err;if(!R){K.call(this)}else{$.setReturnValue({err:false,retVal:y});SiebelApp.S_App.Model.ReleaseBO(H);return}})}})};if(f.propArrayLen>0){var E=f.GetProperty("Id");var G=f.GetProperty("Account Name");var F=f.GetProperty("Account Id");var M=f.GetProperty("Address");var D=f.GetProperty("Start Date");var O=f.GetProperty("Duration Minutes");var L=f.GetProperty("State");var N=f.GetProperty("Contact Address Id");v.SetFldSearchSpec("Parent Activity Id",E);
v.Execute();$.callback(this,function(P){v.Home();$.callback(this,function(Q){if(v.CheckActiveRow()===true){K.call(this)}})})}}})};k.prototype.AccountAffltWriteRecord=function(A){SiebelJS.Log("Invoked AccountAffltWriteRecord Method");var w=CCFMiscUtil_CreatePropSet();var y=[];var B=this.GetContext();var v=true;var x;var z;if(B.IsNewRecordPending()===true){v=false}w.SetProperty("bAddSyncQ",v);B.FieldValue("Last Name");$.callback(this,function(D){var C=D.retVal;B.FieldValue("Last Name Mobile");$.callback(this,function(F){var E=F.retVal;if(((C!==null)&&(!utils.IsEmpty(C)))||((E!==null)&&(!utils.IsEmpty(E)))){if(utils.IsEmpty(E)&&!utils.IsEmpty(C)){B.SetFieldValue("Last Name Mobile",C);$.callback(this,function(G){if(G.err==="SSAOMErrBoundedPick"){B.FieldValue("Contact Id");$.callback(this,function(H){z=H.retVal;B.GetPickList("Last Name Mobile");$.callback(this,function(J){var I=J.retVal;I.SetFldSearchSpec("Id",z);$.callback(this,function(K){I.Execute();$.callback(this,function(L){I.Home();$.callback(this,function(M){if(I.CheckActiveRow()===true){I.PickCurrentRow();$.callback(this,function(N){$.setReturnValue({err:N.err,retVal:w});return})}})})})})})}else{$.setReturnValue({err:false,retVal:w});return}})}$.setReturnValue({err:false,retVal:w});return}else{SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted");y.push("Last Name");SiebelApp.S_App.OfflineErrorObject.SetErrorMsg("SSAFReqFieldNotExist",y);$.setReturnValue({err:"SSAFReqFieldNotExist",retVal:""});return}})})};k.prototype.AffltnPreExecute=function(w){SiebelJS.Log("Invoked AffltnPreExecute Method");var v=CCFMiscUtil_CreatePropSet();var x=this.GetContext();x.ActivateField("Last Name Mobile");$.setReturnValue({err:false,retVal:v});return};k.prototype.ReleaseBOs=function(){SiebelJS.Log("Invoked ReleaseBOs Method");if(c){SiebelApp.S_App.Model.ReleaseBO(c)}if(e){SiebelApp.S_App.Model.ReleaseBO(e)}};k.prototype.AttcmntDoCanInvokeMethod=function(w){SiebelJS.Log("Invoked AttcmntDoCanInvokeMethod Method");var v=CCFMiscUtil_CreatePropSet();v.SetProperty("Invoked",true);v.SetProperty("RetVal",false);$.setReturnValue({err:"",retVal:v})};k.prototype.PrePopulate=function(y){SiebelJS.Log("Invoked MyMethod Method");var C=CCFMiscUtil_CreatePropSet();var B=[];var H=this.GetContext();var z=null;var F=null;var J="S_CON_ADDR";var D=[];var G="ADDR_PER_ID";var x=[];var A=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetBusComp();var E=H.GetBusComp();var w;var I=A.GetName();var v=null;if(I==="CSLS Contact Best Times - CE"){v="Calculated Contact Id"}else{v="Contact Id"}x.push("ADDR_PER_ID");A.FieldValue(v);$.callback(this,function(K){z=K.retVal;A.FieldValue("Account Id");$.callback(this,function(M){F=M.retVal;var L="";if(!utils.IsEmpty(F)){D.push("ACCNT_ID = '"+F+"'")}else{if(!utils.IsEmpty(z)){D.push("CONTACT_ID = '"+z+"'")}}var N=SiebelApp.SqlBuilder.SelectRecordPopulateWS(J,D,[G],x,w);SiebelApp.BrowserCacheMgr.SelectRecord(N,true);$.callback(this,function(R){if(!R.err){var S=R.retVal;var O=S.length;if(S){if((S.length>0)){var Q=S.length;for(var P=0;P<Q;P++){L+="[Id] = '"+S[P].ADDR_PER_ID+"'";if(P!==Q-1){L+=" OR "}}E.SetSearchExpr(L)}}}})})})};k.prototype.AffliationNewRecord=function(B){SiebelJS.Log("Invoked AffliationNewRecord Method");var w=CCFMiscUtil_CreatePropSet();var A=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetName();var z=SiebelApp.S_App.Model.GetBusObj("Account");var v=z.GetBusComp("Contact Account Affiliation");var y=this.GetContext();var C=y.GetParentBusComp();var x;if(A==="Contact Assoc Applet"){C.FieldValue("Id");$.callback(this,function(E){var D=E.retVal;C.FieldValue("Name");$.callback(this,function(G){var F=G.retVal;C.FieldValue("Account Type Code");$.callback(this,function(H){var I=H.retVal;y.FieldValue("First Name");$.callback(this,function(K){var J=K.retVal;y.FieldValue("Last Name");$.callback(this,function(M){var L=M.retVal;y.FieldValue("Email Address");$.callback(this,function(O){var N=O.retVal;y.FieldValue("Primary Specialty");$.callback(this,function(P){var Q=P.retVal;y.FieldValue("Primary Specialty Id");$.callback(this,function(S){var R=S.retVal;y.FieldValue("Id");$.callback(this,function(U){var T=U.retVal;v.SetExecuted(true);$.callback(this,function(V){v.NewRecord(true);$.callback(this,function(W){v.SetFieldValue("First Name",J);$.callback(this,function(X){v.SetFieldValue("Last Name",L);$.callback(this,function(Y){$.callback(this,function(Z){v.SetFieldValue("CE Name",F);$.callback(this,function(aa){if(aa.err==="SSAOMErrBoundedPick"){v.GetPickList("CE Name");$.callback(this,function(ac){var ab=ac.retVal;ab.SetFldSearchSpec("Id",D);$.callback(this,function(ad){ab.Execute();$.callback(this,function(ae){ab.Home();$.callback(this,function(af){if(ab.CheckActiveRow()===true){ab.PickCurrentRow()}})})})})}$.callback(this,function(ab){v.SetFieldValue("Account Type",I);$.callback(this,function(ac){v.SetFieldValue("Email Address",N);$.callback(this,function(ad){v.SetFieldValue("Primary Specialty",Q);$.callback(this,function(ae){v.SetFieldValue("Primary Specialty Id",R);$.callback(this,function(af){v.SetFieldValue("Contact Id",T);$.callback(this,function(ag){w.SetProperty("bAddSyncQ",false);$.callback(this,function(ah){$.setReturnValue({err:false,retVal:w});v.SetCommitPending(true);v.WriteRecord(w);$.callback(this,function(ai){SiebelApp.S_App.Model.ReleaseBO(z);SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")})})})})})})})})})})})})})})})})})})})})})})})}};k.prototype.PhaAffliationDeleteRecord=function(y){SiebelJS.Log("Invoked PhaAffliationDeleteRecord Method");var x=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetName();var z=this.GetContext().GetParentBusComp();var w=SiebelApp.S_App.Model.GetBusObj("Account");var A=w.GetBusComp("Contact Account Affiliation");var v=this.GetContext();if(x==="Account Contact List Applet - Mobile"){v.FieldValue("Id");$.callback(this,function(B){var C=B.retVal;z.FieldValue("Id");$.callback(this,function(D){var E=D.retVal;A.ActivateField("Account Id");A.ActivateField("Contact Id");A.SetFldSearchSpec("Account Id",E);A.SetFldSearchSpec("Contact Id",C);A.Execute();$.callback(this,function(F){A.Home();$.callback(this,function(G){if(A.CheckActiveRow()===true){A.DeleteRecord("",false);$.callback(this,function(H){A.Home();$.callback(this,function(I){SiebelApp.S_App.Model.ReleaseBO(w);SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")})})}})})})})}};k.prototype.PopulateAttendee=function(){SiebelJS.Log("Invoked attendee Method");var z=SiebelApp.S_App.Model.GetBusObj("Account").GetBusComp("Contact Account Affiliation");var A=this.GetContext().GetBusComp();var v=SiebelApp.S_App.Model.GetBusObj("Contact").GetBusComp("Contact");var x=SiebelApp.S_App.GetActiveView().GetBusObj("Pharma Professional Call - Mobile").GetBusComp("Pharma Professional Call - Mobile");var y;var w=0;A.EmptyWorkSet();$.callback(this,function(B){x.ActivateField("Account Id");x.FieldValue("Account Id");$.callback(this,function(C){strFldActId=C.retVal;z.SetFldSearchSpec("Account Id",strFldActId);z.Execute();
$.callback(this,function(D){z.Home();$.callback(this,function(H){y=z.GetWS().length;var G=0;var E;var I;var F;A.SetIsRelatedBC(true);var J=function(K){$.callback(this,function(L){var M=K.ContactId;v.SetFldSearchSpec("Id",M);v.Execute();$.callback(this,function(N){v.Home();$.callback(this,function(O){if(v.CheckActiveRow()===true){F=v.FindWorkSet(0);A.InsertWorkSet(G,F);$.callback(this,function(P){A.SetActiveRow(G++);$.callback(this,function(Q){x.FieldValue("Owned By");$.callback(this,function(R){var S=R.retVal;x.FieldValue("Id");$.callback(this,function(U){var T=U.retVal;A.SetFieldValue("Owned By",S,true);$.callback(this,function(V){A.SetFieldValue("Account Id",strFldActId,true);$.callback(this,function(W){A.SetActiveRow(0)})})})})})})}w++;z.GetNextRecord();$.callback(this,function(R){var Q=R.err;if(!Q){var P=R.retVal;J.call(this,P)}})})})})};if(z.CheckActiveRow()===true){var E=z.FindWorkSet(0);J.call(this,E)}})})})})};k.prototype.PopulateAllContact=function(){var w;var y=0;var v=SiebelApp.S_App.Model.GetBusObj("Contact").GetBusComp("Contact");var z=this.GetContext().GetBusComp();var x=SiebelApp.S_App.GetActiveView().GetBusObj("Pharma Professional Call - Mobile").GetBusComp("Pharma Professional Call - Mobile");z.EmptyWorkSet();$.callback(this,function(A){x.ActivateField("Account Id");x.FieldValue("Account Id");$.callback(this,function(B){w=B.retVal;v.SetFldSearchSpec("Id","");v.Execute();$.callback(this,function(C){v.Home();$.callback(this,function(F){var E;z.SetIsRelatedBC(true);var G=function(H){z.InsertWorkSet(y,H);$.callback(this,function(I){z.SetActiveRow(y++);$.callback(this,function(J){x.FieldValue("Owned By");$.callback(this,function(K){var L=K.retVal;x.FieldValue("Id");$.callback(this,function(N){var M=N.retVal;z.SetFieldValue("Owned By",L,true);$.callback(this,function(O){z.SetFieldValue("Account Id",w,true);$.callback(this,function(P){z.SetActiveRow(0);$.callback(this,function(Q){SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")})})})})})});v.GetNextRecord();$.callback(this,function(L){var K=L.err;if(!K){var J=L.retVal;G.call(this,J)}})})};if(v.CheckActiveRow()===true){var D=v.FindWorkSet(0);G.call(this,D)}})})})})};k.prototype.ContactNewRecord=function(z){SiebelJS.Log("Invoked ContactNewRecord Method");var y=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetName();var x=SiebelApp.S_App.Model.GetBusObj("Account");var C=x.GetBusComp("Account");var B=x.GetBusComp("Contact");var A;var w=this.GetContext().GetParentBusComp();var v=this.GetContext();if(y==="Pharma Account Contact Affiliation List Applet Mobile"||y==="Pharma Contact Account Affiliation List Applet - Mobile"){v.FieldValue("Account Id");$.callback(this,function(E){var D=E.retVal;v.FieldValue("Contact Id");$.callback(this,function(F){var G=F.retVal;C.ActivateField("Id");C.ActivateField("Primary Contact Id");C.Execute();$.callback(this,function(H){C.Home();$.callback(this,function(I){C.PositionById(D);$.callback(this,function(J){B.ActivateField("Id");B.Execute();$.callback(this,function(K){A=B.GetAssocList();$.callback(this,function(L){A.ActivateField("Id");A.Execute();$.callback(this,function(M){A.PositionById(G);$.callback(this,function(N){if(A.FindWorkSet(A.GetActiveRow())){B.AddAssociation();$.callback(this,function(O){SiebelApp.S_App.Model.ReleaseBO(x);SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")})}else{SiebelApp.S_App.Model.ReleaseBO(x);SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")}})})})})})})})})})}};k.prototype.ContactDeleteRecord=function(x){SiebelJS.Log("Invoked ContactDeleteRecord Method");var v=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetName();var y=SiebelApp.S_App.Model.GetBusObj("Account");var A=y.GetBusComp("Account");var z=y.GetBusComp("Contact");var w;var B=CCFMiscUtil_CreatePropSet();var D=false;B.SetProperty("bAddSyncQ",D);var C=this.GetContext().GetParentBusComp();var E=this.GetContext();if(v==="Pharma Account Contact Affiliation List Applet Mobile"||v==="Pharma Contact Account Affiliation List Applet - Mobile"){E.FieldValue("Account Id");$.callback(this,function(G){var F=G.retVal;E.FieldValue("Contact Id");$.callback(this,function(H){var I=H.retVal;A.ActivateField("Id");A.ActivateField("Primary Contact Id");A.SetSearchExpr("[Id] = '"+F+"'");A.Execute();$.callback(this,function(J){A.Home();$.callback(this,function(K){if(A.CheckActiveRow()===true){$.callback(this,function(L){z.ActivateField("Id");z.SetSearchExpr("[Id] = '"+I+"'");z.Execute();$.callback(this,function(M){z.Home();$.callback(this,function(N){if(z.CheckActiveRow()===true){z.DeleteRecord();$.callback(this,function(O){z.Home();$.callback(this,function(P){SiebelApp.S_App.Model.ReleaseBO(y);SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted");$.callback(this,function(Q){$.setReturnValue({err:false,retVal:B});return})})})}})})})}})})})})}};k.prototype.AttendeeWriterecord=function(z){var y=this.GetContext();var v=SiebelApp.S_App.GetActiveView().GetActiveApplet().GetName();var w=false;var x=CCFMiscUtil_CreatePropSet();x.SetProperty("bAddSyncQ",w);$.setReturnValue({err:false,retVal:x})};function j(y){var v=y.GetActiveRow();var A=y.FindWorkSet(v);var F=y.GetActivatedFieldList();var B=0;var x;var H;var z;var D=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile").GetBusComp("Pharma Personal Inventory");var G=y.GetUserProperty("Parent BusComp");var C=SiebelApp.S_App.GetActiveView().GetBusObj().GetBusComp(G);var w=C.GetParentBusComp();var E=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile").GetBusComp("Pharma Call Sample Dropped");w.FieldValue("Id");$.callback(this,function(J){var I=J.retVal;y.FieldValue("Name");$.callback(this,function(K){H=K.retVal;D.ActivateField("Internal Product Id");D.ActivateField("Lot Name");D.ActivateField("End Date");D.SetFldSearchSpec("Product Name",H);D.Execute();$.callback(this,function(L){D.Home();$.callback(this,function(N){var M=function(){D.FieldValue("Internal Product Id");$.callback(this,function(O){x=O.retVal;D.FieldValue("Lot Name");$.callback(this,function(Q){var P=Q.retVal;D.FieldValue("End Date");$.callback(this,function(R){var S=R.retVal;if(x!==A.LotId){y.NewRecord();$.callback(this,function(U){var T=function(){var W=F[B];var V=W.replace(/\s+/g,"");$.callback(this,function(Y){var X=A[V];if(X&&W!=="Id"){y.SetFieldValue(W,X)}y.SetFieldValue("Lot Name",P);y.SetFieldValue("Lot Id",x);y.SetFieldValue("Lot Expiry Date",S);$.callback(this,function(Z){E.SetFldSearchSpec("Lot Id",x);E.SetFldSearchSpec("Lot Name",P);E.SetFldSearchSpec("Activity Id",I);E.Execute();$.callback(this,function(aa){E.Home();$.callback(this,function(ae){var ac="Qty Field";var af=ac;var ab=0;var ad=function(){ac=af;if(ab>0){ac=ac+" "+ab}var ag=y.GetUserProperty(ac);if(ag){y.FieldValue(ag);$.callback(this,function(ai){var ah=ai.retVal;E.FieldValue(ag);$.callback(this,function(ak){var aj=ak.retVal;if(ah!==aj){y.SetFieldValue(ag,aj)}})})}$.callback(this,function(ah){ab++;if(ab<5){ad.call(this)}})};if(ab===0){ad.call(this)}$.callback(this,function(ag){y.SetCommitPending(true);
y.WriteRecord();$.callback(this,function(ah){SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")})})})})})});$.callback(this,function(X){B++;if(B<F.length){T.call(this)}})};if(B<F.length){T.call(this)}})}})})});$.callback(this,function(O){D.NextRecord();$.callback(this,function(Q){var P=Q.err;if(!P){M.call(this)}})})};if(D.CheckActiveRow()===true){M.call(this)}})})})})}k.prototype.CanUpdateXFieldPharmaCall=function(x){var w=CCFMiscUtil_CreatePropSet();var v=this.GetContext();v.FieldValue("Call Status");$.callback(this,function(z){var y=z.retVal;v.FieldValue("Signature Captured");$.callback(this,function(C){var D=C.retVal;var B=x.GetPropertyAsStr("inputParam2");var A=SiebelApp.S_App.Model.GetLovNameVal("Submitted","EVENT_STATUS");if((D.toLowerCase()==="y"||y===A)&&(B==="Duration Minutes"||B==="Start Date"||B==="Type"||B==="Comment"||B==="Full Name"||B==="Account Name"||B==="Address"||B==="StartDate")){w.SetProperty("Invoked",true);w.SetProperty("RetVal",false);$.setReturnValue({err:"",retVal:w})}else{w.SetProperty("Invoked",false);w.SetProperty("RetVal",false);$.setReturnValue({err:"",retVal:w})}})})};k.prototype.PopulateContacts=function(){var w=this.GetContext().GetBusComp();var v=SiebelApp.S_App.Model.GetBusObj("Contact").GetBusComp("Contact");w.EmptyWorkSet();$.callback(this,function(x){v.Execute();$.callback(this,function(y){v.Home();$.callback(this,function(B){var A=0;var z;w.SetIsRelatedBC(true);var C=function(D){w.InsertWorkSet(A,D);$.callback(this,function(E){w.SetActiveRow(A++);$.callback(this,function(F){w.SetActiveRow(0);$.callback(this,function(G){SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")})});v.GetNextRecord();$.callback(this,function(H){var G=H.err;if(!G){var F=H.retVal;C.call(this,F)}else{w.Home();$.callback(this,function(I){SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")})}})})};if(v.CheckActiveRow()===true){var z=v.FindWorkSet(0);C.call(this,z)}})})})};function o(y){var v=false;var w=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile");var x=w.GetBusComp("Pharma Attendee Call Mobile");x.SetSearchExpr("[Id] = '"+y+"'");x.Execute();$.callback(this,function(z){x.Home();$.callback(this,function(A){if(x.CheckActiveRow()===true){v=true}SiebelApp.S_App.Model.ReleaseBO(w);$.setReturnValue({err:false,retVal:v});return})})}function q(v){var x="";var w="";var z=SiebelApp.S_App.Model.GetBusObj("Account");var y=z.GetBusComp("CUT Address - CE");v.FieldValue("Contact Address Id");$.callback(this,function(B){var A=B.retVal;v.FieldValue("Account Address Id");$.callback(this,function(D){var C=D.retVal;if(utils.IsEmpty(A)){w=C}else{w=A}y.SetSearchExpr("[Id] = '"+w+"'");y.Execute();$.callback(this,function(E){y.Home();$.callback(this,function(F){if(y.CheckActiveRow()===true){y.FieldValue("Full Address");$.callback(this,function(G){x=G.retVal;SiebelApp.S_App.Model.ReleaseBO(z);$.setReturnValue({err:false,retVal:x});return})}})})})})}function i(v){var w="";v.FieldValue("Contact Address Id");$.callback(this,function(y){var x=y.retVal;v.FieldValue("Account Address Id");$.callback(this,function(A){var z=A.retVal;if(utils.IsEmpty(x)){w=z}else{w=x}$.setReturnValue({err:false,retVal:w});return})})}k.prototype.PhaRelationshipNewRecord=function(){SiebelJS.Log("Invoked PhaAttendeeNewRecord Method");e=SiebelApp.S_App.Model.GetBusObj("Contact");var y=e.GetBusComp("Contact Relationship");var x=this.GetContext();var z=x.GetActivatedFieldList();var w=this.GetContext().GetParentBusComp();var v=x.FindWorkSet(x.GetActiveRow());y.Execute();$.callback(this,function(A){if(!A.err){y.NewRecord();$.callback(this,function(C){var B=function(E){var F=SiebelApp.OfflineUtils.RemoveNonAlphaChars(z[E]);if(F in v){return[z[E],v[F]]}else{return[]}};var D={iterations:z.length,execute:y.SetFieldValue,executeScope:y,preExecute:B};$.eachAsyncOp(this,D);$.callback(this,function(E){if(!E.err){y.WriteRecord(false);$.callback(this,function(F){if(!F.err||F.err==="SSASqlErrDupConflict"){SiebelApp.S_App.Model.ReleaseBO(e);SiebelApp.OfflineAppMgr.PostActions("ActionRPCCompleted")}else{$.setReturnValue(F)}})}else{$.setReturnValue(E)}})})}else{$.setReturnValue(A)}})};k.prototype.AttendeeDeleterecord=function(x){var w=CCFMiscUtil_CreatePropSet();var v=false;w.SetProperty("bAddSyncQ",v);$.setReturnValue({err:false,retVal:w})};k.prototype.DoCanInvokeMethodBestTms=function(w){var v=CCFMiscUtil_CreatePropSet();var x="";x=w.GetProperty("MethodName").toString();if(x==="NewRecord"||x==="EditRecord"){v.SetProperty("Invoked",true);v.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:v})}else{v.SetProperty("Invoked",false);v.SetProperty("RetVal",false);$.setReturnValue({err:false,retVal:v})}};function l(x){var v=SiebelApp.S_App.Model.GetBusObj("Pharma Professional Call - Mobile");var w=v.GetBusComp("Contact");w.SetFldSearchSpec("Id",x);w.Execute();$.callback(this,function(y){w.Home();$.callback(this,function(z){if(w.CheckActiveRow()===true){w.FieldValue("Type");$.callback(this,function(A){var B=A.retVal;SiebelApp.S_App.Model.ReleaseBO(v);$.setReturnValue({err:false,retVal:B})})}})})}return k}());return"SiebelAppFacade.pharmacallsvc"})};