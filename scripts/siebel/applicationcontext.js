/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2013 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
require.onError=function(a){SiebelJS.Log("Error in downloading file "+a.requireType+":"+a.requireModules)};if(typeof(SiebelApp.S_App)==="undefined"){SiebelJS.Namespace("SiebelApp.S_App");SiebelApp.S_App=(function(){var P=SiebelJS.Dependency("SiebelApp.Utils");var A=SiebelJS.Dependency("SiebelApp.Constants");var W=A.get("SWE_PST_APP_INFO");var l;var af;var al;var U=A.get("SWE_FIELD_STR");var Q=A.get("SWE_RPC_PROP_URL");var M=A.get("SWE_ARG_START");var aa=A.get("SWE_RPC_PROP_FILEDOWNLOADSAVE");var ab=A.get("SWE_METHOD_SAVE_QUERY");var c=A.get("SWE_METHOD_SAVE_QUERY_AS");var T=A.get("SWE_METHOD_POST_CHANGES");var j=A.get("SWE_TARGET_TOP");var s=[];var av=[];var k;var an;var B={};var G=[];var E;var a=[];var K={};var ah;var aw=false;var q=null;var f;var O={};var ae=false;var Y={};var i={};var x=null;var b;var g=true;var w={};var o=false;var R="";var I="";var y="";var V="";var t=false;var L=null;var am=false;var D=0;var H={};var ar=function(){var ax;ar=function(){return ax};ar.prototype=this;ax=new ar();ax.uiStatus=new SiebelApp.UIStatus();ax.constructor=ar;var ay=new SiebelApp.CommandManager(ax);ar.prototype.GetCmdMgr=function(){return ay};SiebelAppFacade.ComponentMgr.RegisterLevel(ax);return ax};l=new ar();function d(){b=new SiebelApp.PopupPModel({GetName:function(){return"PopupPxy"}})}ar.prototype.SetExternalActiveApplet=function(ax){L=ax};ar.prototype.GetExternalActiveApplet=function(ax){return L};ar.prototype.SetShowNewPage=function(ax){am=ax};ar.prototype.GetShowNewPage=function(){return am};ar.prototype.GetRowCounterTemplateMap=function(ax){return w[ax]};function h(ax,ay){w[ax]=ay}ar.prototype.IsExternalApplet=function(ax){return !P.IsEmpty(i[ax.GetName()])};ar.prototype.RemoveApplet=function(ay){if(this.GetExternalActiveApplet()===ay){this.SetExternalActiveApplet(null)}delete i[ay.GetName()];if(!!ay.GetBusComp()){if(ay.GetBusComp().GetNotifyObject().GetAppletRegistry().length===1){delete ay.GetBusComp().GetNotifyObject();delete ay.GetBusComp()}else{ay.GetBusComp().GetNotifyObject().DeRegister(ay)}}var ax=SiebelAppFacade.ComponentMgr.FindComponent({id:ay.GetName()});if(ax){SiebelAppFacade.ComponentMgr.DeleteComponent(ax,this)}if(ay.EndLife){ay.EndLife()}delete ay};ar.prototype.GetPopupPM=function(){return b};ar.prototype.GetMsgBarPM=function(){return x};ar.prototype.GetIconMap=function(){return Y};ar.prototype.GetCancelId=function(){return D};ar.prototype.PushPostBack=function(ay,ax){G.push({callBack:ay,object:ax})};ar.prototype.DefineAccessor=function(aB,ax,aA,az,aC){az=A.get(az);var ay=null;if(ax.PropertyExists(az)){ay=ax.GetProperty(az)}if(aC===true){ay=SiebelApp.S_App.LookupStringCache(ay)}if(!P.IsEmpty(ay)||(typeof aB[aA]!=="function")){aB[aA]=function(){return ay}}ax=null};ar.prototype.GetActiveBusObj=function(){return af};ar.prototype.SetActiveBusObj=function(ax){af=ax};ar.prototype.GetActiveView=function(){return al};ar.prototype.SetActiveView=function(ax){al=ax};ar.prototype.SetLayoutLoaded=function(az,ay,ax,aA){};ar.prototype.SetLayoutUnloaded=function(){};ar.prototype.SetThreadbarSpan=function(){};ar.prototype.ViewUINotLoaded=function(){};ar.prototype.ProcessRPCInfo=function(ax){};ar.prototype.OnUnload=function(){SiebelJS.Log("On Unload")};function ai(aQ){ar.prototype.GetAppPropertySet=function(){return aQ.Clone()};var az=aQ.GetChild(0);if(az.GetType()!==W){throw new Error("Wrong propSet type in Application Context")}this.SetSelfProps(az);var aN=SiebelApp.Environment;if(aN!==undefined){m.call(this,az)}var aX=az.GetChildCount();var ay=A.get("SWE_PST_LOADURL"),aY=A.get("SWE_PST_STR_CACHE"),aZ=A.get("SWE_PST_NEW_NAV_CTRL_MGR"),aP=A.get("SWE_PST_SERVICE_SHADOWS"),aC=A.get("SWE_PST_QTP_INFO"),aH=A.get("SWE_PST_ACCESSIBILITY_INFO"),aV=A.get("SWE_PST_NEW_TIMER"),a0=A.get("SWE_PST_NEW_LOCALE"),aM=A.get("SWE_PST_STYLESHEET"),aL=A.get("SWE_UIDEF_THEME_INFO"),a1=A.get("SWE_UIDEF_PAGE_TRANSITION_INFO"),aF=A.get("SWE_PST_MSG"),aJ=A.get("SWE_PST_ROW_CNT_TMPL"),a4=A.get("SWE_PROP_SEARCH_BAR"),a3=A.get("SWE_PST_PORTLET_APP"),aD=A.get("SWE_PROP_VALUE"),aK=A.get("SWE_PROP_NAME");for(var aE=0;aE<aX;aE++){var aG=az.GetChild(aE);var aB=aG.GetType();var aO=P.Curry(ar.prototype.DefineAccessor,SiebelApp.Environment.constructor.prototype,aG);switch(aB){case ay:aO("GetClientFrameName","SWE_PROP_NAME");aO("GetClientURL","SWE_PROP_VALUE");SiebelApp.Environment.constructor.prototype.GetClientFrame=function(){return $('[name="'+SiebelApp.Environment.GetClientFrameName()+'"]')[0]};break;case aM:aO("GetStyleSheetName","SWE_PROP_VALUE");break;case aY:var aR=aG.GetProperty(aD);if(aR){this.AppendToStrCache(aR)}break;case aZ:var aU=aG.GetChildCount();if(aU>0){k.Initialize(aG.GetChild(0));k.ProcessObjectInfo(aG.GetChild(0))}break;case aL:var aR=aG.GetProperty(aD);if(aR){SiebelApp.ThemeManager.flipTheme(aR)}break;case a1:var aR=aG.GetProperty(aD);if(aR){SiebelApp.LayoutTransitionsMgr.setTransition(aR)}break;case aH:aO("GetScreenNavTitle","SWE_PROP_SCREEN_NAV_TITLE");aO("GetDetailCategoryTitle","SWE_PROP_DETAIL_CATEGORY_TITLE");break;case aC:if(aG.PropertyExists(A.get("SWE_PROP_QTP_OT"))){aO("GetObjectType","SWE_PROP_QTP_OT")}if(aG.PropertyExists(A.get("SWE_PROP_QTP_RN"))){aO("GetRepstrName","SWE_PROP_QTP_RN")}if(aG.PropertyExists(A.get("SWE_PROP_QTP_UN"))){aO("GetUIName","SWE_PROP_QTP_UN")}break;case aP:var aI=aG.EnumProperties(true);do{K[aI]=aG.GetProperty(aI)}while((aI=aG.EnumProperties(false)));break;case aV:ak.call(this,aG);break;case a0:var aA=aG.GetChildCount();if(aA>0){SiebelApp.S_App.LocaleObject.InitLocale(aG.GetChild(0))}break;case aF:var ax=aG.GetProperty(aK);var aR=aG.GetProperty(aD);if(ax&&aR){ao.call(this,ax,aR)}break;case a3:var aS=new SiebelApp.S_App.PortletSessionMgr();aS.ProcessPortletInfo(aG);break;case aJ:var a2=aG.GetProperty(aK);var aT=aG.GetProperty(aD);if(a2&&aT){h.call(this,a2,aT)}break;case a4:var aW=CCFMiscUtil_CreatePropSet();aW.SetProperty(A.get("SWE_UIDEF_PR_CTR"),"SiebelAppFacade.SearchLookinPhyRenderer");an=new SiebelAppFacade.SearchLookinPresentationModel({GetName:function(){return"SearchPxy"}});an.Setup(aW);break;default:SiebelJS.Log("[SetProtoAPIs] : Missing handler for type ["+aB+"]");break}}if(aN!==undefined){ag()}az=null}function ak(ay){var ax=new SiebelApp.S_App.SweTimer();SiebelApp.S_App.SetTimer(ax);SiebelApp.S_App.GetTimer().CreateTimerHookMap(ay);SiebelApp.S_App.SetEnablePerfHooks(true);SiebelApp.S_App.GetTimer().SetSessionID()}function ag(){var ax=SiebelApp.S_App.constructor.prototype;var ay=SiebelApp.Environment.constructor.prototype;for(var az in ay){if(typeof ay[az]==="function"){ax[az]=ay[az]}}}ar.prototype.SetSelfProps=function(ay){var aC=P.Curry(ar.prototype.DefineAccessor,ar.prototype,ay);aC("GetUserName","SWE_PROP_USER_ID");aC("GetName","SWE_PROP_NAME");aC("GetCookieName","SWE_PROP_COOKIE_NAME");aC("GetSessionId","SWE_RPC_PROP_SESSION_NUMBER");aC("GetSRN","SWE_PROP_SESSION_RANDOM_NUMBER");aC("UseCookie","SWE_RPC_PROP_USE_COOKIE");aC("UseSecureCookie","SWE_RPC_PROP_USE_SECURE_COOKIE");aC("GetPageURL","SWE_PROP_PAGEURL");aC("GetLoginTimeStamp","SWE_PROP_LOGIN_TIMESTAMP");
aC("GetScriptDir","SWE_PROP_SCRIPT_DIR");aC("GetSWEReqCount","SWE_PROP_REQ_COUNT");aC("GetSWEReqCount","SWE_COUNT_STR");aC("GetStandAloneClient","SWE_PROP_STANDALONE_CLIENT");aC("GetAccessibilityEnhanced","SWE_PROP_ACCESSIBILITY_ENHANCED");aC("GetHtmlPopupName","SWE_PROP_HTML_POPUP_NAME");aC("GetPopupHDBrowser","SWE_PROP_POPUP_HDBrowser");aC("GetCheckSum","SWE_PROP_CHECKSUM");aC("GetCancelQueryTimeout","SWE_PROP_CANCEL_QUERY_TIME_OUT");aC("GetPopupConSize","SWE_PROP_POPUP_CON_SIZE");aC("GetStrictDate","SWE_PROP_STRICT_DATE");aC("IsUIEnableDateError","SWE_PROP_IS_ENABLE_UI_DATE_ERROR_DETECT");aC("UseAnsiCtrls","SWE_PROP_USE_ANSI_CONTROLS");aC("IsMobileApplication","SWE_IS_MOBILE_APPLICATION");aC("IsAutoOn","SWE_IS_AUTO_ON");ar.prototype.GetScreenNavTitle=function(){return""};ar.prototype.GetDetailCategoryTitle=function(){return""};var aD=ay.GetProperty(A.get("SWE_PROP_PHONE_LEADING_ZERO"));if(aD){var aA;var aE=" ";aA=aD.toString().split(",");for(var az=0,aB=aA.length;az<aB;az++){var ax=aA[az];if(ax&&ax[0]!=="+"){ax="+"+ax}H[ax]=aE}}};ar.prototype.IsPhoneLeadingZeroAllowed=function(ax){return H[ax]?true:false};ar.prototype.AppendToStrCache=function(ay){if(ay&&ay!==""){var ax=[];CCFMiscUtil_StringToArray(ay,ax);av=av.concat(ax)}};ar.prototype.LookupStringCache=function(ax){var ay="";if(ax>=0&&ax<av.length){ay=av[ax]}return ay};ar.prototype.GetStringCache=function(){return av};ar.prototype.SetStringCache=function(ax){av=ax};ar.prototype.SetDiscardUserState=function(ax){ae=ax};ar.prototype.GetDiscardUserState=function(){return ae};ar.prototype.GotoView=function(aC,aD,ay,aF,aB,aE){var aA;this.uiStatus.Busy({target:this.GetTargetViewContainer(),mask:true});SiebelApp.S_App.NotifyTimer("TimeGoToView",[aC,"Start GotoView"]);var az=true;if(!P.IsEmpty(ay)){aA=P.DecodeFromQueryString(ay,true)}else{aA=CCFMiscUtil_CreatePropSet()}if(this.GetDiscardUserState()){if(this.GetPopupPM().Get("state")===A.get("POPUP_STATE_VISIBLE")){this.GetPopupPM().ExecuteMethod("SetPopupVisible",false)}}else{if(!aB&&!this.CanLeaveMainView()){az=false;this.uiStatus.Free();return az}}SiebelApp.S_App.NotifyTimer("TimeGoToView",[aC,"View Cache Ready"]);if(P.IsEmpty(aA.GetProperty(A.get("SWE_CMD_ARG")))){aA.SetProperty(A.get("SWE_CMD_ARG"),A.get("SWE_GOTO_VIEW"))}if(!aA.GetProperty(A.get("SWE_ARG_KEEP_CONTEXT"))){aA.SetProperty(A.get("SWE_ARG_KEEP_CONTEXT"),"1")}this.SetDefaultArgs(aA);if(!P.IsEmpty(aC)){aC=aC.split("&").join("%26");aA.SetProperty(A.get("SWE_VIEW_ARG"),aC)}if(P.IsEmpty(aA.GetProperty(A.get("SWE_COUNT_STR")))){aA.SetProperty(A.get("SWE_COUNT_STR"),this.GetSWEReqCount())}else{ar.prototype.GetSWEReqCount=function(){return aA.GetProperty(A.get("SWE_COUNT_STR"))}}var aG=P.EncodeToQueryString(aA,P.IsEmpty(ay));var ax={};ax.url=this.GetPageURL();ax.data=aG.split(" ").join("%20");ax.type="POST";ax.contentType="application/x-www-form-urlencoded";ax.async=!aE;ax.context=this;ax.successfncallback=function(){var aI=new $.Deferred();var aH=this.ProcessResponse.apply(this,arguments);aH.done(function(){SiebelApp.S_App.ProcessError();SiebelApp.S_App.uiStatus.Free();aI.resolve()});return aI.promise()};SiebelApp.AjaxRequestMgr.Ajax(ax);ax=null;return az};function C(){$("#_sweview").addClass("siebui-indent-content")}function Z(){$("#_sweview").addClass("siebui-dashboard-content-indent")}function ad(){$("#_sweview").addClass("siebui-chatpane-content-indent");$("#SS_ChatUI").addClass("siebui-chat-pane");if(SiebelApp.S_App.GetDirection()){$("#SS_ChatUI").addClass("siebui-rtl-element-left")}}ar.prototype.HideLayout=function(ax){$("#"+ax).html("");if(typeof(ax)==="string"){if(ax.match(/SS_OpenUIReportPane/)||ax.match(/SS_TaskUIPane/)){$("#_sweview").removeClass("siebui-indent-content")}else{if(ax.match(/Dashboard/)){$("#_sweview").removeClass("siebui-dashboard-content-indent")}else{if(ax.match(/SS_ChatUI/)){$("#_sweview").removeClass("siebui-chatpane-content-indent");$("#SS_ChatUI").removeClass("siebui-chat-pane");if(SiebelApp.S_App.GetDirection()){$("#SS_ChatUI").removeClass("siebui-rtl-element-left")}}}}}};ar.prototype.GenerateSrvrReq=function(az){var ax=CCFMiscUtil_CreatePropSet();ax.SetProperty(A.get("SWE_CMD_ARG"),az);ax.SetProperty(A.get("SWE_ARG_KEEP_CONTEXT"),"1");this.SetDefaultArgs(ax);ax.SetProperty(A.get("SWE_COUNT_STR"),SiebelApp.S_App.GetSWEReqCount());SiebelApp.S_App.OfflineCallMethod("GetSRN",ax);var ay=P.EncodeToQueryString(ax,false);var aA=SiebelApp.S_App.GetPageURL()+A.get("SWE_ARG_START")+ay;return aA};ar.prototype.CanLeaveMainView=function(){var ax=true;var ay=this.GetActiveView();if(ay&&!ay.SetActiveApplet(null)){ax=false}return ax};ar.prototype.GetSWEReqCount=function(){return"1"};ar.prototype.GetRequestDefault=function(){var ax=CCFMiscUtil_CreatePropSet();this.SetDefaultArgs(ax);ax.SetProperty(A.get("SWE_VIEW_ID_ARG"),"");return ax};ar.prototype.SetDefaultArgs=function(aA){aA.SetProperty(A.get("SWE_VIEW_RPC_ARG"),"1");if(!P.IsTrue(this.UseCookie())){aA.SetProperty(A.get("SWE_RPC_PROP_SESSION_NUMBER"),this.GetSessionId())}aA.SetProperty(A.get("SWE_PROP_SESSION_RANDOM_NUMBER"),this.GetSRN());var ay=this.GetSWEReqCount();if(!isNaN(ay)){aA.SetProperty(A.get("SWE_COUNT_STR"),ay)}if(!this.GetPopupPM().IsPopupStarted()&&this.GetActiveView()&&this.GetActiveView().GetActiveApplet()&&!this.GetPopupPM().Get("isCurrencyOpen")&&!P.IsTrue(aA.GetProperty(A.get("SWE_BUSINESS_SERVICE")))){if(P.IsEmpty(aA.GetProperty(A.get("SWE_ACTIVE_APPLET_STR")))){aA.SetProperty(A.get("SWE_ACTIVE_APPLET_STR"),this.GetActiveView().GetActiveApplet().GetName())}var ax=aA.GetProperty(A.get("SWE_APPLET_STR"));var az=!P.IsEmpty(i[ax]);if(P.IsEmpty(aA.GetProperty(A.get("SWE_ACTIVE_VIEW_STR")))&&!az){aA.SetProperty(A.get("SWE_ACTIVE_VIEW_STR"),this.GetActiveView().GetName())}}else{if(L&&!P.IsTrue(aA.GetProperty(A.get("SWE_BUSINESS_SERVICE")))){aA.SetProperty(A.get("SWE_ACTIVE_APPLET_STR"),L.GetName())}}};ar.prototype.OnLoadViewContent=function(){try{SiebelApp.EventManager.cleanListners("gridresize");SiebelApp.EventManager.fireEvent("preload");var aA=this.GetActiveView();if(!P.IsEmpty(aA)){aA.Initialize();if(P.IsTrue(SiebelApp.S_App.GetAccessibilityEnhanced())){$("[name= _sweview]").attr({role:"main",title:al.GetViewSummary()})}if(typeof aA.GetRepstrName==="function"){$("[name=_sweview]").attr("rn",aA.GetRepstrName())}if(typeof aA.GetUIName==="function"){$("[name=_sweview]").attr("un",aA.GetUIName())}}else{SiebelApp.S_App.NavCtrlMgr.Show(true)}if(SiebelApp.S_App.IsMobileApplication()!=="true"){if($("#_swescrnbar").hasClass("addshowactivated")){}else{var aB;var az=SiebelApp.S_App.GetDirection();aB='<a href="#" id="openSidebarButton" title="Open Sidebar" class="hidden">&raquo;</a>';$("#_swescrnbar").prepend(aB);$("#_swescrnbar").addClass(az?"siebui-rtl-screenbar addshowactivated":"addshowactivated");$("#_swecontent").removeClass("maxWidth");var ax;ax='<a href="#" class="sidebarNavButton" id="sidebarCloseButton" title="Close Sidebar">&laquo;</a>';$("#s_sctrl").prepend(ax);$("#sidebarCloseButton").click(function(){$("#_swescrnbar").addClass("treeClosed");
$("#_swecontent").addClass("maxWidth");$("#openSidebarButton").removeClass("hidden");$("#sidebarCloseButton").css("Display","none");$("[id^='gview_s']").resize()});$("#openSidebarButton").click(function(){$("#s_sctrl").css("display","");$("#_swescrnbar").removeClass("treeClosed");$("#openSidebarButton").addClass("hidden");$("#_swecontent").removeClass("maxWidth").addClass(az?"siebui-rtl-content":"");$("[id^='gview_s']").resize()})}}if(SiebelApp.S_App.CommToolbar&&!SiebelApp.S_App.CommToolbar.HasShown()){SiebelApp.S_App.CommToolbar.Show()}}catch(ay){SiebelJS.Log(ay)}finally{SiebelApp.EventManager.fireEvent("postload");this.uiStatus.Free()}};ar.prototype.OnLoadExternalObject=function(ay){try{switch(ay){case"SS_TaskUIPane":if($("#taskList").hasClass("tasklist1")){var az=SiebelApp.S_App.getExtObject("TaskUIPane");if(az){C.call(this);az.Show()}}break;case"Dashboard":var az=SiebelApp.S_App.getExtObject("Dashboard");if(az){Z.call(this);az.Show()}break;case"SS_OpenUIReportPane":if($("#reportList").hasClass("reportlist1")){var az=SiebelApp.S_App.getExtObject("ReportPane");if(az){C.call(this);az.Show()}}break;case"SS_ChatUI":var az=SiebelApp.S_App.getExtObject("ChatPane");if(az){ad.call(this);az.Show()}break}}catch(ax){SiebelJS.Log(ax)}finally{SiebelApp.EventManager.fireEvent("posteoiload");this.uiStatus.Free()}};ar.prototype.RegisterExtObject=function(ax){var ay=ax.GetProperty(A.get("SWE_PST_EXT_OBJ_INFO"));var aA=this.getExtObject(ay);if(aA){return aA.Object}aA={};switch(ay){case"TaskUIPane":var az=new SiebelAppFacade.TaskPresentationModel();aA.TYPE=ay;aA.Object=az;break;case"Dashboard":var aB=new SiebelAppFacade.DashboardPresentationModel();aA.TYPE=ay;aA.Object=aB;break;case"ReportPane":var aD=new SiebelAppFacade.ReportPresentationModel();aA.TYPE=ay;aA.Object=aD;break;case"ChatPane":var aC=new SiebelAppFacade.ChatPresentationModel();aA.TYPE=ay;aA.Object=aC;break}a.push(aA);return aA.Object};ar.prototype.getExtObject=function(ay){for(var ax=0;ax<a.length;ax++){if(a[ax].TYPE===ay){return a[ax].Object}}return null};ar.prototype.UnregisterExtObject=function(ay){for(var ax=0;ax<a.length;ax++){if(a[ax].TYPE===ay){a.splice(ax,1);return}}};ar.prototype.CanInvokeMethod=function(ax){return true};ar.prototype.LogOff=function(){var az=this.GetActiveView();if(az){if(!az.SetActiveApplet(null)){return false}}if(SiebelApp.S_App.GetTimer()){var aA=this;var aD={};aD.type="POST";var aC=SiebelApp.S_App.GetTimer().GetLogBuffer();var ay=SiebelApp.S_App.GetPageURL();var aB=SiebelApp.S_App.GetSRN();ay=ay+"?SWECmd=InvokeMethod&SWEMethod=WritePerfLog&SRN="+aB;var ax=""+A.get("SWE_PERF_LOG_DATA")+"="+URLEncode(aC);$.ajax({type:"POST",url:ay,data:ax,processData:false,complete:aA.OnUnLoadApp})}else{this.OnUnLoadApp();return true}};ar.prototype.OnUnLoadApp=function(){var aA="";var ax="1";var ay=new Date();var az=SiebelApp.S_App.GetSRN();aA=aA+SiebelApp.S_App.GetPageURL()+"?SWECmd=Logoff&SWETS="+ay.valueOf()+"&SWEPreLd="+ax+"&SRN="+az;if(!P.IsTrue(SiebelApp.S_App.UseCookie())){aA=aA+"&"+A.get("SWE_RPC_PROP_SESSION_NUMBER")+"="+SiebelApp.S_App.GetSessionId()}window.location.replace(aA)};ar.prototype.InvokeMethod=function(aJ,aF,aD){var ay=true;aF=aF||CCFMiscUtil_CreatePropSet();var aA=aF.Clone();var aH=this.GetMainView();ay=u.call(this,aJ,aA);if(!ay){return false}var aG={};var aC=this;if(typeof(aD)==="object"||aD===true||aD===false){aG.scope=this;aG.args=[];aG.args.push(aJ);aG.args.push(aA);aG.async=(typeof(aD.async)==="boolean")?aD.async:aD;aG.selfbusy=aD.selfbusy||false;aG.mask=aD.mask||false;aG.cb=function(){var aN=Array.prototype.slice.call(arguments);aN.push(aC.PostExecute.apply(aC,arguments));if(typeof(aD.scope)!=="undefined"&&typeof(aD.scope.cb)==="function"){aD.scope.cb.apply(aD.scope||null,aN)}}}else{aG=undefined}switch(aJ){case"Query":var az=aF.Applet;delete aF.Applet;az.GetBusComp().HandleQuery(aF);au.call(this,aJ,aA);break;case"ExecuteNamedQuery":var aI=CCFMiscUtil_CreatePropSet();aA.SetProperty(A.get("SWE_CMD_ARG"),A.get("SWE_CMD_INVOKE_METHOD_STR"));aA.SetProperty(A.get("SWE_METHOD_STR"),aJ);aA.SetProperty(A.get("SWE_INPUT_PROP_SET_STR"),aA.EncodeAsString());aA.SetProperty(A.get("SWE_VIEW_RPC_ARG"),"1");SiebelApp.S_App.CallServer(aA,aI,true,aG);if(typeof(aD)==="undefined"){SiebelApp.S_App.uiStatus.Free()}break;case"CanLeaveMainView":ay=this.CanLeaveMainView();au.call(this,aJ,aA);break;case"NextApplet":if(aH){aH.CycleActiveApplet(false)}au.call(this,aJ,aA);break;case"PrevApplet":if(aH){aH.CycleActiveApplet(true)}au.call(this,aJ,aA);break;case"GotoAppletMenu":if(aH){var aM=aH.GetActiveApplet();if(aM.GetMenu()){aM.GetMenu().OnMenuInvoke(A.get("APPLET_NAME"),A.get("SWE_PREPARE_APPLET_MENU"),A.get("SWE_MENU_APPLET"))}}au.call(this,aJ,aA);break;case"GotoApplicationMenu":if(q){var aB=q.GetPM().Get("GetPlaceHolder");$("#"+aB).children().eq(0).children().eq(0).focus()}au.call(this,aJ,aA);break;case"GotoCTIToolBar":if(SiebelApp.S_App.CommToolbar){SiebelApp.S_App.CommToolbar.HandleGotoCTIToolbar()}au.call(this,aJ,aA);break;case"GotoChatPane":var ax=SiebelApp.S_App.getExtObject("ChatPane");if(ax){ax.ExecuteMethod("SetFocus")}au.call(this,aJ,aA);break;case"GotoSelectedTreeNode":if(this.CanLeaveMainView()&&aH){aH.GotoSelectedTreeNode()}break;case"ViewList":SiebelApp.S_App.NavCtrlMgr.GetVisPM().GetRenderer().SetFocus();au.call(this,aJ,aA);break;case"Logoff":ay=this.LogOff();break;case"GotoScrnTab":SiebelApp.S_App.NavCtrlMgr.FocusLevelTab(A.get("SWE_SCREEN_NAV_CONTROL_STR"));break;case"GotoViewTab":SiebelApp.S_App.NavCtrlMgr.FocusLevelTab(A.get("SWE_DET_VIEW_NAV_CONTROL_STR"));break;case"GotoSubViewTab":$("#s_vctrl_div_tabView ul  li ").children().eq(0).focus();break;default:if(aJ===ab||aJ===c){var aL;if(aH){aL=aH.GetActiveApplet()}if(aL&&aL.GetBusComp()&&aL.GetBusComp().IsInQueryState()){var aE=CCFMiscUtil_CreatePropSet();aL.InvokeMethod(T,aE)}}var aK;aK=this.CallServerApp(aJ,aA,aG);if(typeof(aD)==="undefined"){var aF=[];aF.push(aJ);aF.push(aA);aF.push(aK);ay=this.PostExecute.apply(this,aF);SiebelApp.S_App.uiStatus.Free();return ay}break}return ay};ar.prototype.PostExecute=function(az,aB,aA){if(aA===null){return false}else{if(az=="GetProfileAttr"){var ay;ay=aB.GetPropertyAsStr("attrName");if(ay=="GetJSAddBarDisable"){if(strResult=="FALSE"||strResult=="False"){return false}}}}var ax=au.call(this,az,aB);return ax};ar.prototype.SWECount=0;ar.prototype.OnLoadViewContainer=function(aA){(function(){var aB=$("[name="+aA+"]");ar.prototype.GetTargetViewContainer=function(){return aB};ar.prototype.SetNextTargetViewContainer=function(aC){aB=$("[name="+aC+"]")};ar.prototype.updateTargetViewContainer=function(aE,aC){var aD=new $.Deferred();SiebelApp.contentUpdater.AddCallBack(aE,function(){aD.resolveWith(this,["LayoutDone"]);if(aC===true){this.OnLoadViewContent()}if(SiebelApp.LayoutTransitionsMgr&&typeof(SiebelApp.LayoutTransitionsMgr.ShowTransition)==="function"){SiebelApp.LayoutTransitionsMgr.ShowTransition(this.GetTargetViewContainer().attr("id"))}},this);if(SiebelApp.LayoutTransitionsMgr&&typeof(SiebelApp.LayoutTransitionsMgr.Setup)==="function"){SiebelApp.LayoutTransitionsMgr.Setup(this.GetTargetViewContainer().attr("id"))
}this.GetTargetViewContainer().attr("src",aE);SiebelApp.contentUpdater.loadContent();return aD.promise()}}());if(x===null){var ay=function(){};var az=new ay();az.GetName=function(){return"MsgBarPxy"};x=new SiebelAppFacade.MsgBrdCstPresentationModel(az);var ax=CCFMiscUtil_CreatePropSet();ax.SetProperty("SWE_OUI_RENDERER","MsgBrdCstPhyRenderer");x.Setup(ax.Clone());x.Show()}if(an){an.Show()}};ar.prototype.GetLayoutURL=function(aG,aB,aC,aF,ax){var az=A.get("SWE_RPC_PROP_NEW_LAYOUT");var aE=A.get("SWE_ARG_EQUAL");var ay=A.get("SWE_ARG_DELIM");var aD=aF.GetProperty(A.get("SWE_LAYOUT_IDENTIFIER"))||"";aD=URLEncode(aD);if(aG===az){var aA;aA=this.GetPageURL()+A.get("SWE_ARG_START")+A.get("SWE_CMD_ARG")+aE+(!P.IsEmpty(ax)?A.get("SWE_GET_APPLET_LAYOUT"):A.get("SWE_GET_VIEW_LAYOUT"))+ay+A.get("SWE_VIEW_ARG")+aE+aB+ay+A.get("SWE_VIEW_ID_ARG")+aE+aC+ay+A.get("SWE_PROP_SESSION_RANDOM_NUMBER")+aE+this.GetSRN()+ay+A.get("SWE_VIEW_CHK_SUM_ARG")+aE+this.GetCheckSum()+ay+A.get("SWE_APPLET_STR")+aE+ax+ay+A.get("SWE_LAYOUT_IDENTIFIER")+aE+aD;if(!P.IsTrue(this.UseCookie())){aA=aA+ay+A.get("SWE_RPC_PROP_SESSION_NUMBER")+aE+this.GetSessionId()}return aA}};ar.prototype.NavCtrlMngr=function(){return k};ar.prototype.GetDrilldownURL=function(ax){this.SetDefaultArgs(ax);ax.SetProperty(A.get("SWE_COUNT_STR"),this.GetSWEReqCount());ax.SetProperty(A.get("SWE_VIEW_ID_ARG"),"");ax.SetProperty(A.get("SWE_METHOD_STR"),A.get("SWE_CMD_DRILLDOWN_STR"));ax.SetProperty(A.get("SWE_REQ_ROW_ID_STR"),"1");ax.SetProperty(A.get("SWE_ACTIVE_VIEW_STR"),this.GetActiveView().GetName());ax.SetProperty(A.get("SWE_VIEW_ARG"),this.GetActiveView().GetName());ax.SetProperty(A.get("SWE_CMD_ARG"),A.get("SWE_CMD_INVOKE_METHOD_STR"));ax.SetProperty(A.get("SWE_POPUP_VECTOR_STR"),"");var ay=P.EncodeToQueryString(ax);return"start.swe?"+ay};ar.prototype.DelegateResponse=function(a5,ax){var aY=new $.Deferred();var a8=[];var aC=[];var aT=null,aU=true;if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeGoToView("","Have Object Info");SiebelApp.S_App.GetTimer().TimeServerNotification("Received Server Notifications");SiebelApp.S_App.GetTimer().TimePopupApplet("","Have Object Info")}var aV=A.get("SWE_RPC_PROP_NEW_LAYOUT");var a7=A.get("SWE_RPC_PROP_NEW_APPLET_LAYOUT");var aM=A.get("SWE_RPC_PROP_REFRESH_LAYOUT");var aK=A.get("SWE_RPC_PROP_CONFIRM_DIALOG");var aA=A.get("SWE_RPC_PROP_NEW_PAGE");var aS=A.get("SWE_RPC_PROP_NEW_POPUP");var aE=A.get("SWE_RPC_PROP_CLOSE_POPUP");var aI=A.get("SWE_PST_NAV_CTRL_INFO");var aF=A.get("SWE_RPC_PROP_NOTIFICATION");var aO=A.get("SWE_PST_EXT_OBJ_INFO");var aN=A.get("SWE_RPC_PROP_COMMAND_MGR");var aD=A.get("SWE_HIST_OUI_UPDATE_INFO");var aG=A.get("SWE_RPC_PROP_TOGGLE_LAYOUT");var aJ=A.get("SWE_RPC_PROP_STATUS_ERROR");var a3=A.get("SWE_RPC_PROP_TARGET");var aZ=CCFMiscUtil_CreatePropSet();aZ.DecodeFromString(a5);if(P.IsTrue(aZ.GetProperty(A.get("SWERESPONSE_ERROR_STR")))){P.Alert(aZ.GetProperty(A.get("SWERESPONSE_ERROR_MSG")));this.uiStatus.Free();aY.resolve();return aY.promise()}if(!P.IsEmpty(aZ.GetProperty(A.get("SWE_RPC_PROP_ALERT_MSG")))){P.Alert(HtmlDecode(aZ.GetProperty(A.get("SWE_RPC_PROP_ALERT_MSG"))))}var aR=aZ.GetProperty(A.get("SWE_RPC_PROP_STATUS"));if(aR===aE){this.GetPopupPM().ExecuteMethod("ProcessClearPopup",aZ)}var aH=aZ.GetProperty(A.get("SWE_PROP_SESSION_RANDOM_NUMBER"));if(aH&&aR===aJ&&this.GetSRN&&P.IsEmpty(this.GetSRN())){ar.prototype.GetSRN=function(){return aH}}var aB=null;var a2=aZ.GetChildCount();for(var a1=0;a1<a2;a1++){var aQ=aZ.GetChild(a1);var aP=aQ.GetType();switch(aP){case aF:aq.call(this,aQ);break;case W:aB=aQ;if(aB!==null){var aX=aB.GetChildByType(A.get("SWE_PST_EXT_OBJ_INFO"),true);var ay=aX.GetChildCount();if(ay>0){for(var a0=0;a0<ay;a0++){var a9=aX.GetChild(a0);if(a9.GetProperty(A.get("SWE_PST_EXT_OBJ_INFO"))==="Dashboard"){var aL=a9.GetChild(0).GetChildByType(A.get("SWE_PST_STR_CACHE"));if(aL!==null){this.AppendToStrCache(aL.GetProperty(A.get("SWE_PROP_VALUE")));a9.GetChild(0).RemoveChild(0)}}}}var aW=aB.GetChildByType(A.get("SWE_PST_STR_CACHE"));if(aW!==null){this.AppendToStrCache(aW.GetProperty(A.get("SWE_PROP_VALUE")))}}break;case aI:k.HandleResponsePS(aQ.Clone());k.ProcessObjectInfo(aQ);break;case aO:var a6=this.getExtObject(aQ.GetProperty(A.get("SWE_PST_EXT_OBJ_INFO")));if(a6){a6.HandleNotify(aQ.GetChild(0))}else{a6=this.RegisterExtObject(aQ);if(a6){a6.Setup(aQ.GetChild(0))}}break;case aN:this.GetCmdMgr().ProcessNotifications(aQ);break;case aD:f.ProcessObjectInfo(aQ);break}}var a4,az;switch(aR){case aV:a4=ac.call(this,aZ.GetProperty(a3),aC);a8.push(this.ProcessNewLayout(aZ,a4));aT="refreshview";break;case a7:a4=ac.call(this,aZ.GetProperty(a3),aC,aZ.GetProperty(A.get("SWE_APPLET_STR")));a8.push(this.ProcessNewAppletLayout(aZ,a4));aT="newappletlayout";break;case aG:a8=a8.concat(this.GetActiveView().HandleRefreshLayout(aZ,aC));break;case aM:a4=ac.call(this,aZ.GetProperty(a3),aC);az=this.ProcessRefreshLayout(aZ,a4);if(az!==false){a8.push(az);aT="refreshlayout"}else{aC.pop()}break;case aK:aj.call(this,aZ);break;case aA:this.SetShowNewPage(true);a4=ac.call(this,aZ.GetProperty(a3),aC);az=this.ProcessNewPage(aZ,a4);if(az!==false){a8.push(az);aT="refreshpage"}else{aC.pop()}break;case aS:this.SetShowNewPage(true);this.GetPopupPM().SetProperty("CanProcessLayout",false);this.GetPopupPM().ExecuteMethod("ProcessNewPopup",aZ);aT="refreshpopup";break;case aJ:e.call(this,aZ,ax);break;default:break}aU=P.IsEmpty(aB)||aR===aG;v.call(this,aU);if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeServerNotification("Processed Server Notifications")}a8.push(this.GetFilesAndProcessObjectInfo(aZ));this.InvokeCallBack();if(!P.IsEmpty(f)){f.ManipulateHistoryState()}if(SiebelApp.S_App.OUIPerfReporter){SiebelApp.S_App.OUIPerfReporter.RefreshData(a5)}if(aR===aE){z(aZ)}aZ=null;if(a8.length>0){$.when.apply($,a8).done(function(){if(aT==="refreshpopup"){SiebelApp.S_App.GetPopupPM().SetProperty("CanProcessLayout",true)}if(aT!=="newappletlayout"){SiebelApp.S_App.NavCtrlMgr.Show(true)}for(var bb=0,ba=aC.length;bb<ba;bb++){aC[bb]["func"].call(SiebelApp.S_App,aC[bb]["tgt"],aC[bb]["applet"])}SiebelApp.EventManager.fireEvent(aT);aY.resolve()})}else{SiebelApp.S_App.NavCtrlMgr.Show(true);aY.resolve()}if(P.IsEmpty(aB)){ap.call(this)}return aY.promise()};function e(aK,aH){var aE;var aJ;var ay=A.get("SWE_RPC_PROP_ERROR_CODE");var aD=A.get("SWE_RPC_PROP_ERROR_MSG");var ax=A.get("SWE_RPC_PROP_ERRORS");var aF=aK.GetChildCount();if(!(aH&&typeof(aH.AddErrorMsgText)==="function")){aH=this}if(aF>0){for(var aG=0;aG<aF;aG++){var aA=aK.GetChild(aG);var aB=aA.GetType();if(aB==ax){for(var aC=0,aI=aA.GetChildCount();aC<aI;aC++){var az=aA.GetChild(aC);aE=az.GetProperty(ay);aJ=az.GetProperty(aD);if(aE&&aJ&&SiebelApp.S_App.ErrorObject){aH.AddErrorMsgText(aE,aJ,true)}}break}}}}ar.prototype.ProcessResponse=function(ax,ay){return this.DelegateResponse(ax,ay)};function z(az){var aC=az.GetProperty(A.get("SWE_RPC_PROP_URL"));var ay="";var ax="";
var aB=false;var aA=az.GetProperty(A.get("PROP_TARGET"));if(!P.IsEmpty(aC)&&!P.IsEmpty(aA)){ay=az.GetProperty(A.get("SWE_RPC_PROP_VIEW"));ax=az.GetProperty(A.get("SWE_RPC_PROP_VIEW_ID"));if(SiebelApp.S_App.GetActiveView()&&SiebelApp.S_App.GetActiveView().GetName()==ay){aB=true}if(aB){SiebelApp.S_App.RefreshView(ay,ax,aC,aA)}else{SiebelApp.S_App.GotoView(ay,ax,aC,aA)}}}ar.prototype.SetURLToGo=function(ay,aA,az,aC,ax,aB){if(az||!o){o=true;R=ay;I=aA;y=aC;V=ax;t=aB}};function ap(){if(o){o=false;if(y){if(t){this.RefreshView(y,V,R,I)}else{this.GotoView(y,V,R,I);if(SiebelApp.S_App.uiStatus.m_gbusy>1){SiebelApp.S_App.uiStatus.Free()}}}else{var ax=this.GotoURL(R,I);if(ax&&typeof(ax.done)==="function"){ax.done(function(){this.uiStatus.Free()})}}}}ar.prototype.RefreshView=function(az,ay,aC,aB){var ax=null;var aA=CCFMiscUtil_CreatePropSet();if(P.IsEmpty(ay)){ax=P.DecodeFromQueryString(aC);SiebelApp.S_App.CallServer(ax,aA,true);this.ProcessError()}else{SiebelApp.S_App.GotoURL(aC,aB)}};ar.prototype.GotoURL=function(az,ay){var ax=this.GetPageURL()+az.split("start.swe")[1];if(ay===j){if(ax.indexOf(A.get("SWE_PROP_SESSION_RANDOM_NUMBER"))===-1){ax+=A.get("SWE_ARG_DELIM")+A.get("SWE_PROP_SESSION_RANDOM_NUMBER")+A.get("SWE_ARG_EQUAL")+this.GetSRN()}window.location.replace(ax)}else{return this.updateTargetViewContainer(ax)}};function ac(az,ay,ax){az=az.split(".");if(az[az.length-1]==="_sweview"){az="_svf0";ay.push({func:this.OnLoadViewContent,tgt:az})}else{if(az[az.length-1]==="_sweclient"){ay.push({func:this.OnLoadAppletContent,tgt:az,applet:ax});var aA=$("[name="+az[az.length-1]+"]");ar.prototype.GetTargetViewContainer=function(){return aA};ar.prototype.SetNextTargetViewContainer=function(aB){aA=$("[name="+aB+"]")}}else{az=az[az.length-1];ay.push({func:this.OnLoadExternalObject,tgt:az})}}this.SetNextTargetViewContainer(az);return az}ar.prototype.OnLoadAppletContent=function(az,ay){SiebelAppFacade.ComponentMgr.FindComponent({id:ay}).Show();var ax=i[ay];ax.ShowOnly();ax.ShowSelection();this.ClearErrorMsg();if(ax.HasCustomShadow()&&ax.shadow&&typeof(ax.shadow.OnLoad)==="function"){ax.shadow.OnLoad()}this.uiStatus.Busy();this.uiStatus.Free()};ar.prototype.ProcessNewLayout=function(aA,aB){if(this.GetPopupPM().Get("state")!==A.get("POPUP_STATE_UNLOADED")){this.GetPopupPM().ExecuteMethod("ClearPopup")}var aC=aA.GetProperty(A.get("SWE_RPC_PROP_VIEW"));var az=aA.GetProperty(A.get("SWE_RPC_PROP_APPLET"))||aA.GetProperty(A.get("SWE_APPLET_STR"));var ax=aA.GetProperty(A.get("SWE_RPC_PROP_VIEW_ID"));aC=aC.split(" ").join("%20").split("&").join("%26");var ay=this.GetLayoutURL(A.get("SWE_RPC_PROP_NEW_LAYOUT"),aC,ax,aA,az);if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeGoToView(aC,"Call GetViewLayout")}return this.updateTargetViewContainer(ay)};ar.prototype.ProcessNewAppletLayout=function(az,aA){SiebelApp.S_App.uiStatus.ShowOnLoadIndicator();var ay=az.GetProperty(A.get("SWE_RPC_PROP_APPLET"))||az.GetProperty(A.get("SWE_APPLET_STR"));var ax=this.GetLayoutURL(A.get("SWE_RPC_PROP_NEW_LAYOUT"),"","",az,ay);return p.call(this,ax)};function p(ay){var ax=new $.Deferred();SiebelApp.contentUpdater.AddCallBack(ay,function(){ax.resolveWith(this,["AppletLayoutDone"])},this);this.GetTargetViewContainer().attr("src",ay);SiebelApp.contentUpdater.loadContent();return ax.promise()}ar.prototype.ProcessRefreshLayout=function(ax,az){if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeRefreshView("","","Start RefreshView")}var aA=ax.GetProperty(A.get("SWE_RPC_PROP_VIEW"));var aB=ax.GetProperty(A.get("SWE_VIEW_ID_STR"))||"";if(aA!==this.GetActiveView().GetName()||P.IsEmpty(aA)){return false}aA=aA.split(" ").join("%20").split("&").join("%26");var ay=SiebelApp.S_App.GetLayoutURL(A.get("SWE_RPC_PROP_NEW_LAYOUT"),aA,aB,ax);if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeGoToView("","View Cache Ready")}return this.updateTargetViewContainer(ay)};function aj(aD){var aE;var aK;var aB;var aC;var aH;var aG;var ax;var aI;var aF;var az;var aJ=null;var aA=null;var ay=false;aF=aD.GetProperty(A.get("SWE_RPC_PROP_STATUS"));if(aF===A.get("SWE_RPC_PROP_CONFIRM_DIALOG")){aE=aD.GetProperty(A.get("SWE_CONFIRM_TEXT_STR"));aB=P.Confirm(aE);if(aB){aK=aD.GetProperty(A.get("SWE_OK_METHOD_STR"))}else{aK=aD.GetProperty(A.get("SWE_CANCEL_METHOD_STR"))}if(aK){aH=aD.GetProperty(A.get("SWE_VIEW_ID_STR"));ax=aD.GetProperty(A.get("SWE_APPLET_STR"));if(aB){aI=aD.GetChildByType(A.get("SWE_OK_METHOD_ARGS_STR"))}else{aI=aD.GetChildByType(A.get("SWE_CANCEL_METHOD_ARGS_STR"))}aI=aI||CCFMiscUtil_CreatePropSet();if(P.IsEmpty(aH)){aJ=this.GetMainView()}if(aJ&&(aA=aJ.GetApplet(ax))){ay=aA.InvokeMethod(aK,aI)}else{aC=aD.GetProperty(A.get("SWE_SERVICE"));if(aC){aI.SetProperty(A.get("SWE_CMD_ARG"),A.get("SWE_CMD_INVOKE_METHOD_STR"));aI.SetProperty(A.get("SWE_SERVICE"),aC);aI.SetProperty(A.get("SWE_METHOD_STR"),aK)}else{aG=aD.GetProperty(A.get("SWE_VIEW_ARG"));aI.SetProperty(A.get("SWE_CMD_ARG"),A.get("SWE_CMD_INVOKE_METHOD_STR"));aI.SetProperty(A.get("SWE_VIEW_ID_STR"),aH);aI.SetProperty(A.get("SWE_VIEW_ARG"),aG);aI.SetProperty(A.get("SWE_APPLET_STR"),ax);aI.SetProperty(A.get("SWE_METHOD_STR"),aK)}az=CCFMiscUtil_CreatePropSet();SiebelApp.S_App.CallServer(aI,az,true)}}ay=true}return ay}ar.prototype.ProcessNewPage=function(aE,aC){var aB=false;var ax=aE.GetProperty(A.get("SWE_RPC_PROP_URL"));var az=aE.GetProperty(A.get("SWE_RPC_PROP_VIEW"));var ay=aE.GetProperty(A.get("SWE_RPC_PROP_VIEW_ID"));var aA=aE.GetProperty(A.get("SWE_RPC_PROP_TARGET"));var aD=aE.GetProperty(A.get("SWE_RPC_PROP_TIMEOUT"));if(!P.IsEmpty(az)&&P.IsEmpty(ay)){var aF=this.GetActiveView();if(!P.IsEmpty(aF)&&(aF.GetName()!==az)&&(ax.match("SWECmd=GotoPostedAction"))){this.GotoView(az,"",ax,aA);SiebelApp.S_App.uiStatus.Free();return false}}else{if(aD&&SiebelApp.S_App.PortletSessionMgr&&ax.indexOf("SWECmd=Login")!=-1){window.location.replace(this.GetPageURL()+"?"+SiebelApp.S_App.PortletSessionMgr.GetInstance().GetAction());return false}else{if(aD&&aA.indexOf("top")!=-1&ax.indexOf("SWECmd=Login")!=-1){window.location.replace(ax);return false}}}this.uiStatus.Busy({target:this.GetTargetViewContainer(),mask:true});this.SetURLToGo(ax,aA,false,az,ay,aB);return false};ar.prototype.InvokeCallBack=function(){while(G.length>0){var ax={};ax=G.pop();ax.callBack.call(ax.object)}};function v(ax){if(ax&&this.GetCmdMgr().GetRefreshTB()){this.GetCmdMgr().UpdateUIControls()}var az=this.GetActiveView();if(!P.IsEmpty(az)){ax?az.ExecuteUIUpdate():az.ClearUIState()}for(var aA in i){var ay=i[aA];ax?ay.ExecuteUIUpdate():ay.ClearUIState()}}function aq(aG){if(aG.GetType()!==A.get("SWE_RPC_PROP_NOTIFICATION")){return false}var ay=this.GetActiveView();var aD=this.GetActiveBusObj();var aJ=!P.IsEmpty(ay)?ay.GetAppletMap():{};var aC=aG.GetChildCount();for(var aB=0;aB<aC;aB++){var aH=aG.GetChild(aB);var aI=aH.GetProperty(A.get("SWE_PROP_BC"));var aF=aH.GetProperty(A.get("SWE_PROP_BC_NOTI_ZONE"));
var ax=!P.IsEmpty(aD)?aD.GetBusComp(aI):null;if(ax&&(!aF||aF==aD.GetZone())){ax.HandleServerNotifications(aH);for(var az in aJ){if(!P.IsEmpty(aJ[az].GetBusComp())&&aJ[az].GetBusComp().GetVarName()===aI&&!(aJ[az].GetPModel() instanceof JSSPropertySet)){if(aJ[az].GetPModel()){aJ[az].GetPModel().HandleNotify(aH)}}}k.HandleNotify(aH)}else{for(var aE in i){if(i.hasOwnProperty(aE)){var aA=i[aE];if(!P.IsEmpty(aA.GetBusComp())&&aA.GetBusComp().GetVarName()===aI){ax=aA.GetBusComp();ax.HandleServerNotifications(aH);aA.GetPModel().HandleNotify(aH)}}}}}}ar.prototype.GetFilesAndProcessObjectInfo=function(az){var ay=new $.Deferred();var aB=null;var ax=az.GetChildByType("api");var aD=P.Curry(ar.prototype.DefineAccessor,ar.prototype,az);aD("GetSWEReqCount","SWE_PROP_REQ_COUNT");aD("GetSWEReqCount","SWE_COUNT_STR");if(ax!==null){var aA=P.GetFileInfoFromPropSet(az);if(aA.length>0){var aC=this;require(aA,function(){try{aB=F.call(aC,az)}catch(aE){SiebelJS.Log(aE)}ax=null;aB.done(function(){ay.resolveWith(this,["Process Object"])})})}else{aB=F.call(this,az);ax=null;aB.done(function(){ay.resolveWith(this,["Process Object"])})}aA=null}else{ax=null;ay.resolveWith(this,["Process Object"])}return ay.promise()};function F(a5){var a4=new $.Deferred();var aP=[];this.SetSelfProps(a5);if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimePopupApplet("","Process Object Info Start")}var aN=SiebelApp.Environment;if(aN){m.call(this,a5)}var az=a5.GetChildByType("api");var aU=a5.GetProperty(A.get("SWE_RPC_PROP_STATUS"));var aS=A.get("SWE_RPC_PROP_NEW_APPLET_LAYOUT");if(az!==null){var aM=az.EnumChildren(true);if(aM!==null){var a1=A.get("SWE_PST_NEW_VIEW");var aZ=A.get("SWE_PST_NEW_BUSOBJ");var ay=A.get("SWE_PST_STR_CACHE");var aQ=A.get("SWE_PST_NEW_NAV_CTRL_MGR");var aD=A.get("SWE_PST_NAV_CTRL_INFO");var aE=A.get("SWE_PROP_VALUE");var aY=A.get("SWE_PST_BUSOBJ_INFO");var a2=A.get("SWE_PST_VIEW_INFO");var aH=A.get("SWE_PST_CLEAR_MV");var aK=A.get("SWE_PST_EXT_OBJ_INFO");var aL=A.get("SWE_PST_ICON_LIST");var aA=A.get("SWE_PST_NEW_BUSCOMP");var aV=SiebelApp.S_App.BusComp;var aX=SiebelApp.S_App.Applet;var aC=SiebelApp.S_App.ListApplet;var ax=SiebelApp.S_App.Playbarapplet;var aG;var aI=A.get("SWE_PST_NEW_APPLET");var aO=A.get("SWE_PST_NEW_LIST_APPLET");var aB=A.get("SWE_PST_NEW_TREEAPPLET");var a3=null;do{var aR=aM.GetType();switch(aR){case aA:aG=new aV();aG.ProcessObjectInfo(aM.GetChild(0));break;case aI:case aO:case aB:var a0=P.PrepareModuleInfo(aM);(function(){var a8=aM;var a7=aG;if(aU===aS){var a6=new $.Deferred();aP.push(a6.promise())}require(a0,function(){try{if(aU!==aS){X.call(SiebelApp.S_App,a8,a7)}else{at.call(SiebelApp.S_App,a8,a7);a6.resolveWith(SiebelApp.S_App,["SA Applet Object Info"])}}catch(a9){SiebelJS.Log(a9)}a8=aM=null})})();break;case aZ:if(!P.IsEmpty(af)&&!P.IsEmpty(al)&&al.GetBusObj()===af){this.ClearMainView()}af=new SiebelApp.S_App.BusObj();af.ProcessObjectInfo(aM.GetChild(0));break;case aH:this.ClearMainView();break;case aY:af.ProcessObjectInfo(aM);break;case a1:al=SiebelAppFacade.ProxyFactory.MakeObject(aR);SiebelAppFacade.ComponentMgr.RegisterLevel(al,this);aP.push(al.GetFilesAndProcessObjectInfo(aM.GetChild(0)));break;case a2:if(!P.IsEmpty(al)){aP.push(al.GetFilesAndProcessObjectInfo(aM))}break;case aQ:var aW=aM.GetChildCount();if(aW>0){k.ProcessObjectInfo(aM.GetChild(0))}break;case aD:k.HandleResponsePS(aM.Clone());k.ProcessObjectInfo(aM);break;case aK:var aT=aM.GetProperty(A.get("SWE_PST_EXT_OBJ_INFO"));var aJ=SiebelApp.S_App.getExtObject(aT);if(aJ){aJ.HandleNotify(aM.GetChild(0))}else{aJ=SiebelApp.S_App.RegisterExtObject(aM);if(aJ){aJ.Setup(aM.GetChild(0));if(aT==="Dashboard"){Z.call(this)}else{if(aT==="ChatPane"){ad.call(this)}else{C.call(this)}}aJ.Show()}}break;case aL:r.call(this,aM);break;default:break}}while((aM=az.EnumChildren(false)))}}if(SiebelApp.S_App.GetEnablePerfHooks()&&SiebelApp.S_App.GetTimer()){SiebelApp.S_App.GetTimer().TimeGoToView("","Processed Object Info");SiebelApp.S_App.GetTimer().TimePopupApplet("","Processed Object Info")}var aF=this;if(aP.length>0){$.when.apply($,aP).done(function(){a4.resolveWith(aF,["API "])})}else{a4.resolveWith(aF,["API "])}return a4.promise()}function ao(ax,ay){if(SiebelApp.S_App.LocaleObject){SiebelApp.S_App.LocaleObject.AddLocalString(ax,ay)}}function at(az,aA){var ay;var ax=az.GetChild(0).Clone();ay=SiebelAppFacade.ProxyFactory.MakeObject(az.GetType());if(ay){if(aA){ay.SetBusComp(aA)}ay.ProcessObjectInfo(ax);if(P.IsTrue(az.GetProperty(A.get("SWE_PST_STANDALONE_APPLET")))){i[ay.GetName()]=ay;ay.SetIsStandAlone(true);ay.SetAppletActive(true,ay)}ay.Initialize();SiebelAppFacade.ComponentMgr.MakeComponent(this,ax,ay)}}function X(az,aA){var ay;var ax=az.GetChild(0).Clone();ay=SiebelAppFacade.ProxyFactory.MakeObject(az.GetType());if(ay){if(aA){ay.SetBusComp(aA)}ay.ProcessObjectInfo(ax);if(P.IsTrue(az.GetProperty(A.get("SWE_PST_STANDALONE_APPLET")))){i[ay.GetName()]=ay;ay.SetIsStandAlone(true);ay.SetAppletActive(true,ay)}SiebelAppFacade.ComponentMgr.MakeComponent(this,ax,ay);if(SiebelApp.S_App.GetPopupPM().Get("state")!==A.get("POPUP_STATE_VISIBLE")){ay.Initialize();SiebelAppFacade.ComponentMgr.FindComponent({id:ay.GetName()}).Show();ay.ShowOnly();ay.ShowSelection();this.ClearErrorMsg();if(ay.HasCustomShadow()&&ay.shadow&&typeof(ay.shadow.OnLoad)==="function"){ay.shadow.OnLoad()}}}}function r(aB){var aD;var ax=[];var az=aB.GetType();if(az!=A.get("SWE_PST_ICON_LIST")){return}aD=aB.GetProperty(A.get("SWE_PROP_NAME"));if(aD){for(var ay=0;ay<aB.GetChildCount();ay++){var aE=aB.GetChild(ay);var aC=aE.GetType();if(aC==A.get("SWE_PST_ICON")){var aA=n.call(this,aE);ax.push(aA)}}Y[aD]=ax}}function n(ay){if(P.IsEmpty(ay)){return}var ax={};ax.iconName=ay.GetProperty(A.get("SWE_PROP_NAME"));ax.iconImage=ay.GetProperty(A.get("SWE_PROP_ICON_IMG"));return ax}function m(ax){SiebelApp.Environment.SetProtoAPIs(ax)}ar.prototype.GetFilesAndInitExecContext=function(aA,aC){var aD=CCFMiscUtil_CreatePropSet();aD.DecodeFromString(aA);var ay=P.GetFileInfoFromPropSet(aD);var ax=aD.GetChildByType(W);if(ay.length>0){var az=ax.GetProperty(A.get("SWE_PROP_PAGEURL")).split("start.swe")[0]+SIEBEL_BUILD;require.config({baseUrl:az,waitSeconds:30});var aB=this;require(ay,function(){try{aB.InitExecContext(aD,aC)}catch(aE){SiebelJS.Log(aE)}aD=null})}else{this.InitExecContext(aD,aC);aD=null}ax=ay=null};ar.prototype.InitExecContext=function(ay,ax){SiebelApp.S_App.ErrorObject.DecorateErrorCapability(this);d();f=new SiebelApp.S_App.HistoryMgr();k=SiebelApp.S_App.NavCtrlMgr;ai.call(this,ay);if(ax){this.ProcessResponse(ax)}else{this.LoadClientContainer()}};ar.prototype.LoadClientContainer=function(){SiebelApp.contentUpdater.updateSrc(this.GetClientFrame(),this.GetPageURL()+this.GetClientURL().split("start.swe")[1])};function N(){if(!q){q=new SiebelApp.S_App.Menu(this);q.CreatePM("AppMenuPR",SiebelAppFacade.AppMenuPM);q.ShowMenuControl()}}ar.prototype.InitializeGlobalMenu=function(){if(!this.GetTargetViewContainer){SiebelApp.EventManager.addListner("AppInit",N,this)
}else{N.call(this)}};ar.prototype.GetLabel=function(){return""};ar.prototype.RegisterControl=function(ax,ay){if(B){B[ax]=ay}};ar.prototype.GetControlClassInstance=function(ax){if(B){return B[ax]}};ar.prototype.RegisterConstructorAgainstKey=function(ax,ay){if(O){O[ax]=ay}};ar.prototype.GetConstructorFromKey=function(ax){if(O){return O[ax]}};ar.prototype.CallServer=function(ax,aE,aA,az){az=$.extend({selfbusy:false,mask:true,async:false,opdecode:true},az);if(!az.selfbusy){var aD={};if(az.target){aD.target=az.target}if(az.mask){aD.mask=az.mask}this.uiStatus.Busy(aD)}aE=aE||CCFMiscUtil_CreatePropSet();if(P.IsTrue(ax.GetProperty(A.get("SWE_PROP_CANCELABLE_RPC")))){var ay=new Date();D=""+Math.floor((ay.getTime()/1000));ax.SetProperty(A.get("SWSE_CANCEL_ID"),D)}if(String(ax.GetProperty(A.get("SWSE_CMD_STR")))!==A.get("SWSE_CANCEL_QUERY")){this.SetDefaultArgs(ax)}this.SetDefaultArgs(ax);var aC=P.EncodeToQueryString(ax),ay=new Date(),aB=null;aC=aC+"&"+A.get("SWE_TIME_STAMP")+"="+ay.getTime();this.SetInputPS(ax);aB={url:this.GetPageURL(),data:aC.split(" ").join("%20"),type:"POST",async:az.async,contentType:"application/x-www-form-urlencoded",successfncallback:this.OnSuccessCallServer,errfncb:S,context:{scope:this,lp:az,outputPS:aE,nPR:aA}};SiebelApp.AjaxRequestMgr.Ajax(aB);aB=null};ar.prototype.OnSuccessCallServer=function(aA,az,aE){var aC=this.lp,aD=this.outputPS,aG=this.scope,aB=this.nPR,ax=new $.Deferred();if(!P.IsEmpty(aA)){if(aB===true){var aF=(aC&&aC.scope)||this;var ay=aG.ProcessResponse(aA,aF);ay.done(function(){SiebelApp.S_App.ProcessError();SiebelApp.S_App.uiStatus.Free();ax.resolve()})}else{ax.resolve()}if(aC.opdecode===true){aD.DecodeFromString(aA);if(SiebelApp.S_App.OUIPerfReporter){SiebelApp.S_App.OUIPerfReporter.RefreshData(aA)}}if(typeof(aC.cb)==="function"){aC.args=aC.args||[];if(aC.opdecode===true){aC.args.push(aD)}else{aC.args.push(aA)}aC.cb.apply(aC.scope||null,aC.args)}else{if(typeof(aC.scope)!=="undefined"&&typeof(aC.scope.PostExecute)==="function"){aC.args=aC.args||[];aC.args.push(aD);aC.scope.PostExecute.apply(aC.scope||null,aC.args)}}}else{ax.resolve()}if((aC&&!aC.selfbusy)||!aC){aG.uiStatus.Free()}return ax.promise()};function S(aA,aC,az){var ay=this.lp,aB=this.outputPS,ax=this.scope;if(typeof(ay.errcb)==="function"){ay.args=ay.args||[];ay.errcb.apply(ay.scope||null,ay.args)}else{if(ay.scope!=="undefined"&&typeof(ay.scope.PostExecute)==="function"){ay.args=ay.args||[];aB.SetProperty(A.get("AJAX_FAIL_ERR"),aC);ay.args.push(aB);ay.scope.PostExecute.apply(ay.scope||null,ay.args)}}if((ay&&!ay.selfbusy)||!ay){ax.uiStatus.Free()}}ar.prototype.GetSessionCookie=function(){var ax;if(!P.IsTrue(this.UseCookie())){ax=this.GetCookieName()+A.get("SWE_ARG_EQUAL")+this.GetSessionId()}else{if(document.cookie){ax=document.cookie}}return ax};ar.prototype.SetStaticPickValues=function(ay,ax){s[ay]=ax};ar.prototype.GetStaticPickValues=function(ax){return s[ax]};ar.prototype.SetActiveView=function(ax){al=ax};ar.prototype.SetActiveBO=function(ax){af=ax};ar.prototype.ClearMainView=function(){if(al&&typeof(al.EndLife)==="function"){var ax=SiebelAppFacade.ComponentMgr.FindComponent({id:al.GetName()});al.EndLife();if(ax){if(ax.GetPM&&ax.GetPM()){ax.GetPM().EndLife()}SiebelAppFacade.ComponentMgr.DeleteComponent(ax,this)}}this.GetPopupPM().ExecuteMethod("ProcessClearPopup");if(af&&typeof(af.EndLife)==="function"){af.EndLife()}SiebelApp.S_App.ClearErrorMsg();al=null;af=null};ar.prototype.SeblTrace=function(ax,ay){};ar.prototype.GetBusObj=function(ax){var ay=this.GetActiveView();if(!ax){if(ay){return ay.GetBusObj()}}if(ay&&ay.GetBusObj().GetName()===ax){return ay.GetBusObj()}return null};ar.prototype.GetProfileAttr=function(ay){var ax;var az;if(!ay){this.SetErrorMsg("AppErrInvalidAttrName");return null}ax=CCFMiscUtil_CreatePropSet();ax.SetType("GetProfileAttr");ax.SetProperty("attrName",ay);az=this.CallServerApp("GetProfileAttr",ax);if(az===null){return null}else{if(this.HasErrorMsg()){this.ProcessError();return false}}return az};ar.prototype.SetProfileAttr=function(ay,az){if(!ay){this.SetErrorMsg("AppErrInvalidAttrName");return false}az=az||"";var ax=CCFMiscUtil_CreatePropSet();ax.SetType("SetProfileAttr");ax.SetProperty("attrName",ay);ax.SetProperty("value",az);az=this.CallServerApp("SetProfileAttr",ax);if(az===null){return null}else{if(this.HasErrorMsg()){this.ProcessError();return false}}return true};ar.prototype.GetMainView=function(){return this.GetActiveView()};ar.prototype.CallServerApp=function(aD,aC,az){var aB;var ay=CCFMiscUtil_CreatePropSet();var ax;var aA;aA=aC.EncodeAsString();aB=CCFMiscUtil_CreatePropSet();aB.SetProperty("SWECmd","InvokeMethod");aB.SetProperty("SWEMethod",aD);aB.SetProperty("SWEIPS",aA);SiebelApp.S_App.CallServer(aB,ay,true);ax=ay.GetProperty("Result");return ax};ar.prototype.NewPropertySet=function(){return(CCFMiscUtil_CreatePropSet())};var J={};ar.prototype.RemoveService=function(ax){if(J[ax.GetName()]){delete J[ax.GetName()]}};ar.prototype.GetService=function(ay){if(P.IsEmpty(ay)){return false}var ax=J[ay];if(!P.IsEmpty(ax)){ax.AddRef();return ax}else{ax=new SiebelApp.Service();ax.SetName(ay);J[ax.GetName()]=ax}if(K[ay]){if(typeof(window[K[ay]])==="function"){new window[K[ay]](ax)}}return ax};ar.prototype.ShowModalDialog=function(ax,ay,az){return window.showModalDialog(ax,ay,az)};function u(az,ay){var ax;if(this.shadow&&typeof(this.shadow.OnPreInvokeMethod)==="function"){ax=this.shadow.OnPreInvokeMethod(az,ay);if(ax==="CancelOperation"){return false}return true}return true}function au(ay,ax){if(this.shadow&&typeof(this.shadow.OnInvokeMethod)==="function"){this.shadow.OnInvokeMethod(ay,ax)}}ar.prototype.CreateJSShadow=function(ay,aB){if(!aB){return false}var aA=[];CCFMiscUtil_StringToArray(aB,aA);if(aA.length<2){return false}$.ajaxSetup({async:false});var az=function(aC,aD){};for(var ax=1;ax<aA.length;ax++){$.getScript(aA[ax],az)}$.ajaxSetup({async:true});if(typeof(window[aA[0]])==="function"){new window[aA[0]](ay);return true}return false};ar.prototype.DownloadFile=function(aG){var aC=aG.GetProperty(Q);var aF=aC.split(M);var aH=aG.GetProperty(aa);var az=this.GetPageURL()+M;var aJ=aF[1];if(az&&aJ){var aD="";var ay=aJ.split("&");for(var aB=0;aB<ay.length;aB++){var aA=ay[aB].split("=");aD+='<input type="hidden" name="'+aA[0]+'" value="'+aA[1]+'" />'}if((SiebelApp.S_App.IsMobileApplication()==="true")&&(window.navigator.standalone!==undefined)&&window.navigator.standalone){var ax=az+aJ;var aI=document.createElement("a");aI.setAttribute("href",ax);var aE=document.createEvent("HTMLEvents");aE.initEvent("click",true,true);aI.dispatchEvent(aE);aI=null}else{jQuery('<form action="'+az+'" method="post"'+(aH?"":' target="_blank"')+">"+aD+"</form>").appendTo("body").submit().remove()}}};ar.prototype.GetAppletControlInstance=function(aA,ay,az,aB,ax){var aC=new SiebelApp.S_App.AppletControl();var aD=CCFMiscUtil_CreatePropSet();aD.SetType(A.get("SWE_PST_CNTRL"));aC.ProcessObjectInfo(aD);aC.GetName=function(){return aA};aC.GetUIType=function(){return ay};aC.GetDisplayName=function(){return az
};aC.GetWidth=function(){return aB};aC.GetHeight=function(){return ax};aC.GetMaxSize=function(){return 1000};aC.IsSortable=function(){return true};aC.GetFieldName=function(){return""};aC.GetIconMap=function(){return""};aC.GetDisplayFormat=function(){return""};aC.GetInputName=function(){return""};aC.GetDefaultMethod=function(){return""};aC.GetSpanPrefix=function(){return""};aC.GetValue=function(){return""};return aC};ar.prototype.GetInputPS=function(){return E};ar.prototype.SetInputPS=function(ax){E=ax};ar.prototype.GetCSParam=function(){var ax={};ax.async=true;return ax};ar.prototype.SetEnablePerfHooks=function(ax){aw=ax};ar.prototype.GetEnablePerfHooks=function(){return aw};ar.prototype.GetTimer=function(){return ah};ar.prototype.SetTimer=function(ax){ah=ax};ar.prototype.NotifyTimer=function(ay,ax){if(aw&&ah){ah[ay].apply(ah,ax)}};ar.prototype.OfflineCallMethod=function(){};ar.prototype.Drilldown=function(aA){var ax=aA||window.event;if(ax.preventDefault){ax.preventDefault()}ax.returnValue=false;if(aA.stopPropagation){aA.stopPropagation()}else{aA.cancelBubble=true}var az=new Date();var aB=ax.currentTarget||ax.srcElement;var ay=aB.href+"&"+A.get("SWE_TIME_STAMP")+"="+az.getTime();this.GotoView("","",ay,"");return false};return l}())}SiebelApp.MvgBeautifier={Initialize:function(){this.availableApplet=null;this.selectedApplet=null;var b=$("div[name=popup]").width();var i=$("div[name=popup]").height();var l=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_SHOW_AVAILABLE");var c=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_SHOW_SELECTED");var f=l;var e=c;$("div[name=popup]").width(b).height(i).dialog("option","buttons",[{text:l,click:function(m){var p=$(m.currentTarget);var o=p.children(".ui-button-text");if(p.text()===c){o.text(l).end().attr("title",f);n=SiebelApp.MvgBeautifier.getSelected();if(!!n&&typeof(n.GetObjectType)=="function"){o.attr("un",l);o.attr("rn","ShowAvailable")}SiebelApp.MvgBeautifier.resizeSelected()}else{if(p.text()===l){o.text(c).end().attr("title",e);var n=SiebelApp.MvgBeautifier.getAvailable();if(!!n&&typeof(n.GetObjectType)=="function"){o.attr("un",c);o.attr("rn","ShowSelected")}SiebelApp.MvgBeautifier.resizeAvailable()}}}}]).find(".siebui-mvg-btn-modifier button").detach().appendTo($("div[name=popup]").parent().find("div.ui-dialog-buttonset"));$("div[name=popup]").parent().find("div.ui-dialog-buttonset").find("button").each(function(){$(this).html($(this).val()||$(this).attr("data-display"))});var d=SiebelApp.S_App.GetActiveView();var j=d.GetAppletMap();var a;for(var h in j){if(j.hasOwnProperty(h)){if(typeof(j[h].GetMvgAssocAppletName)==="function"){a=d.GetApplet(j[h].GetMvgAssocAppletName());if(!!a){this.availableApplet=a;e=a.GetAppletLabel()||"";e=e?(e+":"+c):c;a.GetPModel().AttachPostProxyExecuteBinding("ALL",function(n,m,o){if(!$("#a_"+this.Get("GetId")).is(":visible")){$("div[name=popup]").parent().find("div.ui-dialog-buttonset").find("button").eq(0).click()}})}}if(typeof(j[h].GetMvgSelectedAppletName)==="function"){a=d.GetApplet(j[h].GetMvgSelectedAppletName());if(!!a){this.selectedApplet=a;f=a.GetAppletLabel()||"";f=f?(f+":"+l):l;a.GetPModel().AttachPostProxyExecuteBinding("ALL",function(n,m,o){if(!$("#a_"+this.Get("GetId")).is(":visible")){$("div[name=popup]").parent().find("div.ui-dialog-buttonset").find("button").eq(0).click()}})}}}}a=null;SiebelApp.MvgBeautifier.resizeSelected();var g=$("div[name=popup]").parent().find("div.ui-dialog-buttonset").find("button").eq(0);g.removeClass().addClass("appletButtons").attr("title",f);var k=SiebelApp.MvgBeautifier.getSelected();if(k&&typeof(k.GetObjectType)=="function"){g.children("span").eq(0).attr("ot","Button").attr("rn","ShowAvailable").attr("un",l)}$("div[name=popup]").find("form").submit(function(m){m.preventDefault();return false})},getAvailable:function(){if(!this.availableApplet){var c=SiebelApp.S_App.GetActiveView();var a=c.GetAppletMap();for(var b in a){if(a.hasOwnProperty(b)){if(typeof(a[b].GetMvgAssocAppletName)==="function"){this.availableApplet=c.GetApplet(a[b].GetMvgAssocAppletName())}}}}return this.availableApplet},getSelected:function(){if(!this.selectedApplet){var c=SiebelApp.S_App.GetActiveView();var a=c.GetAppletMap();for(var b in a){if(a.hasOwnProperty(b)){if(typeof(a[b].GetMvgSelectedAppletName)==="function"){this.selectedApplet=c.GetApplet(a[b].GetMvgSelectedAppletName())}}}}return this.selectedApplet},resizeAvailable:function(){$("div[name=popup]").find("td.AppletStylePopup").eq(0).show();var a=this.getSelected();if(!!a){$("#a_"+a.GetId()).parents("div").eq(0).hide()}a=this.getAvailable();if(!!a){$("#a_"+a.GetId()).parents("div").eq(0).show();if(a.GetPModel&&!(a.GetPModel() instanceof JSSPropertySet)){a.GetPModel().OnControlEvent(SiebelApp.Constants.get("PHYEVENT_APPLET_FOCUS"));if(a.GetPModel().GetRenderer()&&a.GetPModel().GetRenderer().resize){a.GetPModel().GetRenderer().resize()}}this.elementShowHide(true)}},resizeSelected:function(){$("div[name=popup]").find("td.AppletStylePopup").eq(0).hide();var a=this.getAvailable();if(!!a){$("#a_"+a.GetId()).parents("div").eq(0).hide()}a=this.getSelected();if(!!a){$("#a_"+a.GetId()).parents("div").eq(0).show();if(a.GetPModel&&!(a.GetPModel() instanceof JSSPropertySet)){a.GetPModel().OnControlEvent(SiebelApp.Constants.get("PHYEVENT_APPLET_FOCUS"));if(a.GetPModel().GetRenderer()&&a.GetPModel().GetRenderer().resize){a.GetPModel().GetRenderer().resize()}}this.elementShowHide(false)}},elementShowHide:function(b){var f=$("div[name=popup]").parent().find("div.ui-dialog-buttonset"),a=this.getSelected().GetControls();for(var h in a){if(a.hasOwnProperty(h)){var g=a[h];var e=g.GetMethodName();if(e==="AddRecords"||e==="DeleteRecords"||e==="DeleteAllRecords"){var c=g.GetInputName()+"_Ctrl",d=$(f.find('[name="'+c+'"]')[0]||f.find("#"+c)[0]);switch(e){case"AddRecords":b?d.removeClass("siebui-invisible-el"):d.addClass("siebui-invisible-el");break;default:b?d.addClass("siebui-invisible-el"):d.removeClass("siebui-invisible-el")}}}}}};