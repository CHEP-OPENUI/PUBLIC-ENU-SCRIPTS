/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2013 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
if(typeof(SiebelAppFacade.JQMListRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.JQMListRenderer");define("siebel/jqmlistrenderer",["order!3rdParty/jqmobile/mobiscroll.custom-2.5.0.min","order!3rdParty/jqmobile/jquery.swipeButton.min","order!3rdParty/jqmobile/jquery.easing.1.3","order!3rdParty/jqmobile/jquery.mobile.scrollview","order!3rdParty/jquery.mobile.scrollview-ext","order!siebel/jqmsearchctrl","order!siebel/jqmformrenderer","order!siebel/jqmscrollcontainer"],function(){SiebelAppFacade.JQMListRenderer=(function(){var z=SiebelJS.Dependency("SiebelApp.Utils");var t=SiebelJS.Dependency("SiebelApp.Constants");var x=t.get("SWE_PST_BUTTON_CTRL");var o=t.get("SWE_CTRL_LINK");var F=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_MOBILE_NO_RECORDS_TO_DISPLAY");var m=SiebelApp.S_App.LocaleObject.GetLocalString("IDS_SWE_MOBILE_TAP_TO_CREATE");var n=t.get("SWE_CTRL_TEXT");var d=t.get("SWE_CTRL_PICK");var p=t.get("SWE_CTRL_CHECKBOX");var A=t.get("SWE_CTRL_COMBOBOX");var f=t.get("SWE_CTRL_DATE_TIME_PICK");var e=t.get("SWE_CTRL_DATE_PICK");var u=t.get("SWE_CTRL_DATE_TZ_PICK");var b=t.get("SWE_CTRL_CALC");var y=t.get("SWE_CTRL_MAILTO");var w=t.get("SWE_CTRL_TEXTAREA");var g=t.get("SWE_CTRL_URL");var i=t.get("SWE_CTRL_PHONE");var h=t.get("SWE_CTRL_INKDATA");var E=t.get("SWE_CTRL_LABEL");var q=t.get("SWE_CTRL_CURRENCY_CALC");var k=t.get("SWE_CTRL_PWD");var j=t.get("SWE_CTRL_MVG");var c=t.get("SWE_CTRL_IMAGECONTROL");var v=SiebelApp.S_App.LocaleObject;var l=v.GetLocalString("IDS_SWE_MOBILE_ON")||"On";var C=v.GetLocalString("IDS_SWE_MOBILE_OFF")||"Off";function a(N){SiebelAppFacade.JQMListRenderer.superclass.constructor.call(this,N);var R;var T;var V;var H;var Q;var P;var W=false;var L=false;var K=false;var S=new SiebelAppFacade.ListColumnHelper();this.GetColumnHelper=function(){return S};this.GetJQMList=function(){return R};this.SetJQMList=function(X){R=X};this.GetJQMListId=function(){return T};this.SetJQMListId=function(X){T=X};this.GetRowCount=function(){return(T.children().size())};this.GetCurRowSel=function(){return Q};this.SetCurRowSel=function(X){Q=X};this.GetDelControl=function(){return V};this.SetDelControl=function(X){V=X};this.GetDelBtnStatus=function(){return H};this.SetDelBtnStatus=function(X){H=X};this.GetToggleFlag=function(){return W};this.SetToggleFlag=function(X){W=X};this.GetDisableToggle=function(){return L};this.SetDisableToggle=function(X){L=X};var J=new SiebelAppFacade.JQMMapCtrl(this);this.GetMapCtrl=function(){return J};var U=null;this.SetMapFieldArray=function(){U=this.GetPM().Get("GetMapFields")};this.GetMapFieldArray=function(){return U};var O=null;this.GetMapLocationArray=function(){return O};this.SetMapLocationArray=function(X){O=X};var M;this.GetMapControl=function(){return M};this.SetMapControl=function(X){M=X};var G=null;var I=null}SiebelJS.Extend(a,SiebelAppFacade.JQMScrollContainer);a.prototype.Init=function(){SiebelAppFacade.JQMListRenderer.superclass.Init.call(this);this.AttachPMBinding("MultiSelectMode",this.SetCellEdit);this.AttachPMBinding("InQueryMode",this.SetCellEdit);this.AttachPMBinding("CellChange",this.SetCellValue);this.AttachPMBinding("GetPhysicalControlValue",this.GetPhysicalControlValue);this.AttachPMBinding("HandleRowSelect",function(){if(!this.GetDisableToggle()){SiebelAppFacade.JQMLayout.ToggleMobileLayout(true)}},{scope:this,when:function(){return $("#"+this.GetPM().Get("GetFullId")).parent().children("div[enabletoggle='true']").length===1||$("#s_"+this.GetPM().Get("GetFullId")+"_div").children("div[enabletoggle='true']").length===1}})};function r(K){var J=K.data.ctx.GetPM();var M=J.Get("GetPlaceholder");var H="jqml_"+M+"_";$(".menuitem").remove();var G=K.data.ctx;if(G.m_IsSwipeRight){G.m_IsSwipeRight=false;K.preventDefault();K.stopPropagation();return}var I=$(this).attr("id");I=parseInt(I.replace(H,""),10);I=I-K.data.ctx.m_Offset;var L=K.target.className;if(L.indexOf("listdrilldown")!==-1){G.SetDisableToggle(true)}var N=G.GetPM().Get("GetActiveControl");if(N===null||N===undefined){G.OnRowSelect(I)}if(L.indexOf("listdrilldown")!==-1){G.SetDisableToggle(false)}}function s(K,H,I,L,J,G){if(J===""){return'<a id = "listcol_'+L+"_"+I+'" '+G+' href="javascript:void(0);" class="listdrilldown '+K+'" name="'+H+'"></a>'}else{return'<a id = "listcol_'+L+"_"+I+'" '+G+' href="javascript:void(0);" class="listdrilldown '+K+'" name="'+H+'">'+J+"</a>"}}a.prototype.ShowUI=function(G){SiebelAppFacade.JQMListRenderer.superclass.ShowUI.call(this);this.m_Offset=0;var J=this.GetPM();J.ExecuteMethod("SetActiveControl",null);var M=J.Get("GetPlaceholder");var H="scrollviewcontainer_"+M;$("#"+M).html("<div id='"+H+"'></div>");this.SetJQMList($("#"+H));var I="jqml_"+M;this.GetJQMList().html("<ul id='"+I+"'></ul>");var L=$("#s_"+J.Get("GetFullId")+"_div");this.SetJQMListId($("#"+I));var K=this.GetJQMListId();K.attr({"data-role":"listview","data-inset":"true"});K.listview();this.MakecontainerScrollable(H,true,false,true);this.SetMapFieldArray();if($("#"+J.Get("GetFullId")).parent().children("div[enabletoggle='true']").length===1||$("#s_"+J.Get("GetFullId")+"_div").children("div[enabletoggle='true']").length===1){this.SetToggleFlag(true)}this.SetMaxListColumns();this.ShowSearch();M=null;L=null};a.prototype.SetMaxListColumns=function(){var G=this.GetPM().Get("maxListColPhone");if(!z.IsEmpty(G)){this.m_maxListColumns=G}else{this.SetDefaultMaxListColumns();this.m_maxListColumns=this.GetDefaultMaxListColumns()}};a.prototype.SetDefaultMaxListColumns=function(){this.m_defaultMaxListColumns=4};a.prototype.GetDefaultMaxListColumns=function(){return this.m_defaultMaxListColumns};a.prototype.GetMaxListColumns=function(){return this.m_maxListColumns};a.prototype.ShowSearch=function(){if(false===this.IsPopup()){var K=this.GetPM().Get("GetPlaceholder");var I=[];var J=this.GetPM().Get("ListOfColumns");for(var H=0,G=J.length;H<G;H++){I.push(J[H].control.GetDisplayName())}this.GetSearchCtrl().ShowUI(I,K)}};function D(G,J){var K=SiebelApp.S_App.GetIconMap();var L=SiebelApp.S_App.LookupStringCache(J.GetIconMap());if(L){var I=K[L];if(I){for(var H=0;H<I.length;H++){if(I[H].iconName===G){if(I[H].iconName==="DrilldownIcon"){return I[H].iconImage}else{return I[H].iconImage+"<span style='display:none;'>"+(G)+"</span>"}}}}}return G}a.prototype.BindData=function(am){if(this.inProgress){return false}var ag=this.GetJQMListId();var T=this.GetPM();var av=null;var aj=0;var Q=0;av=T.Get("GetScrollDir");aj=T.Get("GetScrollAmount");aj=parseInt(aj,10);var P=this.GetMaxListColumns();var Z=T.Get("GetRecordSet").length;var G=Z;var ao=0;if(aj<0){aj=-aj}if(av!==null&&aj!==0&&aj<Z){Q=true;if(av){ao=Z-aj;this.m_Offset=this.m_Offset+aj}else{ao=0;G=aj;this.m_Offset=this.m_Offset-aj}}else{if(am){this.ClearData();this.m_Offset=0}}var H=T.Get("GetRecordSet");var aF=T.Get("GetRawRecordSet");var al=T.Get("ListOfColumns");var aH=this.GetPM().Get("GetBusComp");var ah;var aB=false;var W=T.Get("GetPlaceholder");var aE="jqml_"+W+"_";var ae;var O=al.slice();var aq=0;var ay=[];var ak=this.GetMapFieldArray();
var ax=null;var at=aE+"NR";if($("#"+at).length===1){$("#"+at).remove()}if(Z<1){var au=false;var ai=jQuery.event.special.orientationchange.orientation();if(this.GetToggleFlag()){if($("div["+ai+"='Hide']").length>0){au=true}}var R='<div id="'+at+'" class="jqmNoRecord">';if(au){R=R.concat('<a href="#" data-role="link">'+m+"</a></div>")}else{R=R.concat("<span>"+F+"</span></div>")}$("#scrollviewcontainer_"+W).prepend(R);if(au){$("#"+at+" a").bind("click.SiebelAppFacade.JQMListRenderer",{ctx:this},function(aI){SiebelAppFacade.JQMLayout.ToggleMobileLayout(true)})}$("#"+at).bind("orientationchange.SiebelAppFacade.JQMListRenderer",{ctx:this},function(aK){var aJ=$(this);var aI;if($("div["+aK.orientation+"='Hide']").length===0){if(aJ.children("a").length===1){aJ.children("a").remove();aI="<span>"+F+"</span>";aJ.append(aI)}}else{if(aJ.children("span").length===1&&aK.data.ctx.GetToggleFlag()){aJ.children("span").remove();aI='<a href="#" data-role="link">'+m+"</a>";aJ.append(aI);$("#"+aJ.attr("id")+" a").bind("click.SiebelAppFacade.JQMListRenderer",{ctx:this},function(aL){SiebelAppFacade.JQMLayout.ToggleMobileLayout(true)})}}})}for(aq=0;aq<al.length;aq++){if(aq===0){ah=al[aq].name;ax=al[aq].control.GetFieldName();ae=aq}if(al[aq].isLink){ah=al[aq].name;ax=al[aq].control.GetFieldName();aB=true;ae=aq;break}}O.splice(ae,1);for(aq=0;aq<O.length;aq++){if(aq>=(P-1)){O.splice(aq,O.length-aq);break}}var ad="";var Y;for(var aC=ao;aC<G;aC++){var af;var X=aC+this.m_Offset;var M;var aD="ui-icon-siebui-drilldown";var V="";af='<li id="'+aE+X+'" data-role="list-content" data-jqml="true">';var K=al[ae].control.GetUIType();var aa=al[ae].control.GetName();aa=this.GetColumnHelper().GetModifiedColumnName(aa);var az="jqml_"+W+"_"+X+"_"+aa;var S=this.GetColumnHelper();S.AddColumn(al[ae].control.GetName(),al[ae].control);var aG=al[ae].control.GetDisplayName();var ac;var J;var aA;var aw="class=siebui-ui-li-headinglabel";if(aB){if(!z.IsEmpty(al[ae].control.GetHTMLAttr().toLocaleLowerCase().match("class"))){ac=al[ae].control.GetHTMLAttr()}else{ac="class=siebui-ui-li-heading"}if(al[ae].control.GetIconMap()){V=D.call(this,"DrilldownIcon",al[ae].control);if(V==="DrilldownIcon"){V=""}else{aD="siebui-attachment"}}var ap=B.call(this,al[ae].control,"Icon");if(V!==""){M="<div>"+s(aD,ah,aC,W,V,ap)+"</div><div>";af=af.concat(M+"<p "+ac+"><span "+aw+">"+aG+": </span><span id='"+az+"' value='"+HtmlEncode(H[aC][ax])+"' class='jqmlist_"+K+"'>"+HtmlEncode(H[aC][ax])+"</span></p>")}else{M=s(aD,ah,aC,W,V,ap);af=af.concat("<p "+ac+"><span "+aw+">"+aG+": </span><span id='"+az+"' value='"+HtmlEncode(H[aC][ax])+"' class='jqmlist_"+K+"'>"+HtmlEncode(H[aC][ax])+"</span>"+M+"</p>")}}else{if(!z.IsEmpty(al[ae].control.GetHTMLAttr().toLocaleLowerCase().match("class"))){ac=al[ae].control.GetHTMLAttr()}else{ac="class=siebui-ui-li-heading"}if(al[ae].control.GetIconMap()){var L=D.call(this,HtmlEncode(H[aC][ax]),al[ae].control);af=af.concat("<p "+ac+"><span "+aw+">"+aG+": </span><span id='"+az+"' value='"+HtmlEncode(H[aC][ax])+"' class='jqmlist_"+K+"'>"+L+"</p>")}else{af=af.concat("<p "+ac+"><span "+aw+">"+aG+": </span><span id='"+az+"' value='"+HtmlEncode(H[aC][ax])+"' class='jqmlist_"+K+"'>"+HtmlEncode(H[aC][ax])+"</label>")}}if(ak!==null){for(var N=0;N<ak.length;N++){var I=HtmlEncode(aF[aC][ak[N]]);if(!z.IsEmpty(I)){I=I.replace(/(^,)|(,$)/g,"");I=I.replace(/^\s+|\s+$/g,"")}if(!z.IsEmpty(I)){ay.push(I)}}}for(aq=0;aq<O.length;aq++){var ab=O[aq].control.GetDisplayName();Y=HtmlEncode(H[aC][O[aq].control.GetFieldName()]);S.AddColumn(O[aq].control.GetName(),O[aq].control);K=O[aq].control.GetUIType();aa=O[aq].control.GetName();aa=this.GetColumnHelper().GetModifiedColumnName(aa);az="jqml_"+W+"_"+X+"_"+aa;if(aq===0){if(!z.IsEmpty(O[aq].control.GetHTMLAttr().toLocaleLowerCase().match("class"))){J=O[aq].control.GetHTMLAttr()}else{J="class=siebui-ui-li-aside"}if(O[aq].control.GetIconMap()){Y=D.call(this,Y,O[aq].control)}af=af.concat("<p "+J+"><span>"+ab+": </span><span id='"+az+"' value='"+HtmlEncode(H[aC][O[aq].control.GetFieldName()])+"' class='jqmlist_"+K+"'>"+Y+"</span></p>")}else{if(!z.IsEmpty(O[aq].control.GetHTMLAttr().toLocaleLowerCase().match("class"))){aA=O[aq].control.GetHTMLAttr()}else{aA="class=siebui-ui-li-desc"}if(O[aq].control.GetIconMap()){Y=D.call(this,Y,O[aq].control)}af=af.concat("<p "+aA+"><span>"+ab+": </span><span id='"+az+"' value='"+HtmlEncode(H[aC][O[aq].control.GetFieldName()])+"' class='jqmlist_"+K+"'>"+Y+"</span></p>")}}af=af.concat("<p class='ui-li-desc-dummy'></p>");if(aB&&V!==""){af=af.concat("</div>")}af=af.concat("</li>");ad=ad.concat(af)}if(Q){for(aC=1;aC<=aj;aC++){if(av){aq=this.m_Offset-aC}else{aq=this.m_Offset+aC+Z-1}$("#"+aE+aq).addClass("removeli")}}var an;if(Q&&av!==null&&!av){an=this.m_Offset+aj;an=aE+an;$(ad).insertBefore("#"+an)}else{ag.append(ad)}ag.listview("refresh");if(Q){ag.children().remove(".removeli");this.SetNewscrollpos(av,aj);Q=false}for(aC=ao;aC<G;aC++){Y=HtmlEncode(H[aC][al[ae].control.GetFieldName()]);this.PostUIListPrep(aC+this.m_Offset,al[ae].control,Y);for(aq=0;aq<O.length;aq++){Y=HtmlEncode(H[aC][O[aq].control.GetFieldName()]);this.PostUIListPrep(aC+this.m_Offset,O[aq].control,Y)}}var ar=this.GetDelControl();if(ar!==undefined){var U=$("#jqml_"+W+" li");if(U.length>0){$("#jqml_"+W+" li").swipeDelete({btnLabel:ar.GetDisplayName(),click:function(aK){$(".menuitem").remove();aK.preventDefault();var aL="jqml_"+T.Get("GetPlaceholder");var aI="#"+aL;var aJ=$(aI+" .aSwipeBtn").attr("Disabled");if(aJ==="disabled"){return false}setTimeout(function(){var aQ=ar;var aP=aQ.GetMethodPropSet();var aN=aP.Clone();var aO={};aO.async=false;aO.mask=true;aO.target=SiebelApp.S_App.GetTargetViewContainer();aO.cb=function(){var aS=Array.prototype.slice.call(arguments);if(aS[aS.length-1]===false){SiebelApp.S_App.uiStatus.Free()}};T.OnControlEvent(t.get("PHYEVENT_INVOKE_CONTROL"),ar.GetMethodName(),aN,aO);var aR="jqml_"+T.Get("GetPlaceholder");var aM="#"+aR;$(aM+" .aSwipeBtn").remove()},0);return false}})}}this.CheckScrollboundries();this.SetMapLocationArray(ay);if((this.GetPM().Get("IsPopup"))&&this.adjustPopup!==undefined){this.ReSizePopup()}W=null};a.prototype.GetOffset=function(K,J){K=K+this.m_Offset;J=J+this.m_Offset;var I=this.GetPM();var M=I.Get("GetPlaceholder");var H="jqml_"+M+"_";var G=H+K;var N=H+J;var L=$("#"+N).offset().top-$("#"+G).offset().top;return L};a.prototype.GetListHeight=function(){return $("#"+this.GetScrollcontainer()).children("ul").height()};a.prototype.EndLife=function(){this.SetJQMList(null);this.SetJQMListId(null);this.SetMapLocationArray(null);$("#"+this.GetPM().Get("GetPlaceholder")).undelegate("a.listdrilldown","click");$("#jqml_"+this.GetPM().Get("GetPlaceholder")).undelegate("li","click");$("#jqml_"+this.GetPM().Get("GetPlaceholder")).undelegate("li","swiperight");this.GetSearchCtrl().SetContainer(null);SiebelAppFacade.JQMListRenderer.superclass.EndLife.call(this)};a.prototype.PostUIListPrep=function(G,M,J){var N=M.GetName();var O=this.GetPM().Get("GetPlaceholder");N=this.GetColumnHelper().GetModifiedColumnName(N);
var T="jqml_"+O+"_"+G+"_"+N;var H=M.GetUIType();var I=B.call(this,M);switch(H){case p:var L="<select class='jqmlist_CheckBox_slide' "+I+" name="+T+" id='"+T+"' data-role='slider'><option value='N'>"+C+"</option><option value='Y'>"+l+"</option></select>";$("#"+T).html(L).trigger("create");var P=D.call(this,"Y",M);var S=D.call(this,"N",M);if(P!==""&&S!==""){var Q=$("#"+T).parent();var K=$(Q).find("span.ui-slider-label:first");var R=K.html()===l?P:S;K.empty().append(R);K=$(Q).find("span.ui-slider-label:last");R=K.html()===C?S:P;K.empty().append(R)}$("#"+T+".jqmlist_CheckBox_slide").val(J);$("#"+T+".jqmlist_CheckBox_slide").slider("disable");$("#"+T+".jqmlist_CheckBox_slide").slider("refresh");break}};a.prototype.GetSelectedRow=function(H){var J=this.GetPM().Get("GetPlaceholder");var G="jqml_"+J+"_";H=H.replace(G,"");var K=H;var I=H.indexOf("_");if(I>=0){K=H.slice(0,I)}K=parseInt(K,10);K=K-this.m_Offset;J=null;return K};a.prototype.GetSelectedControl=function(H){var J=this.GetPM().Get("GetPlaceholder");var G="jqml_"+J+"_";H=H.replace(G,"");var I=H.indexOf("_");H=H.slice(I+1);J=null;return H};a.prototype.GetColumnControl=function(G){return this.GetColumnHelper().GetColumnControl(G)};a.prototype.BindEvents=function(G){SiebelAppFacade.JQMListRenderer.superclass.BindEvents.call(this,G);$("#"+this.GetPM().Get("GetPlaceholder")).delegate("a.listdrilldown","click",{ctx:this},function(R){SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var P=R.data.ctx;var Q=$(this).attr("name");var S=$(this).parents("li").eq(0).attr("id");var O=R.data.ctx.GetJQMListId().attr("id")+"_";S=parseInt(S.replace(O,""),10);S=S-R.data.ctx.m_Offset;var N=parseInt(S,10);setTimeout(function(){if(N>=0){P.SetDisableToggle(true);var T=P.OnRowSelect(N);P.SetDisableToggle(false);if(T===false||P.GetPM().OnControlEvent(t.get("PHYEVENT_DRILLDOWN_LIST"),Q,N)===false){SiebelApp.S_App.uiStatus.Free();return false}}},0)});var I=this.GetPM();var M=I.Get("GetPlaceholder");var H="jqml_"+M+"_";$("#jqml_"+M).delegate(".jqmlist_JText","click",{ctx:this},this.OnFocusInput);$("#jqml_"+M).delegate(".jqmlist_JText","blur",{ctx:this},this.OnBlurInput);$("#jqml_"+M).delegate(".jqmlist_Pick","click",{ctx:this},this.OnFocusInput);$("#jqml_"+M).delegate(".jqmlist_Pick","blur",{ctx:this},this.OnBlurInput);$("#jqml_"+M).delegate(".jqmlist_JDateTimeZonePick","click",{ctx:this},this.OnFocusInput);$("#jqml_"+M).delegate(".jqmlist_JDateTimeZonePick","blur",{ctx:this},this.OnBlurInput);$("#jqml_"+M).delegate(".jqmlist_JDateTimePick","click",{ctx:this},this.OnFocusInput);$("#jqml_"+M).delegate(".jqmlist_JDateTimePick","blur",{ctx:this},this.OnBlurInput);$("#jqml_"+M).delegate(".jqmlist_JDatePick","click",{ctx:this},this.OnFocusInput);$("#jqml_"+M).delegate(".jqmlist_JDatePick","blur",{ctx:this},this.OnBlurInput);$("#jqml_"+M).delegate(".jqmlist_CheckBox_slide","slidestart",{ctx:this},this.OnFocusInput);$("#jqml_"+M).delegate(".jqmlist_CheckBox_slide","slidestop",{ctx:this},this.OnBlurInput);$("#jqml_"+M).delegate(".jqmlist_Mailto","click",{ctx:this},this.OnFocusInput);$("#jqml_"+M).delegate(".jqmlist_Mailto","blur",{ctx:this},this.OnBlurInput);$("#jqml_"+M).delegate(".jqmlist_URL","click",{ctx:this},this.OnFocusInput);$("#jqml_"+M).delegate(".jqmlist_URL","blur",{ctx:this},this.OnBlurInput);$("#jqml_"+M).delegate(".jqmlist_JComboBox","click",{ctx:this},this.OnFocusInput);$("#jqml_"+M).delegate(".jqmlist_JCalculator","click",{ctx:this},this.OnFocusInput);$("#jqml_"+M).delegate(".jqmlist_JCalculator","blur",{ctx:this},this.OnBlurInput);$("#jqml_"+M).delegate(".jqmlist_JCurrencyCalc","click",{ctx:this},this.OnFocusInput);$("#jqml_"+M).delegate(".jqmlist_JCurrencyCalc","blur",{ctx:this},this.OnBlurInput);$("#jqml_"+M).delegate(".jqmlist_JPassword","click",{ctx:this},this.OnFocusInput);$("#jqml_"+M).delegate(".jqmlist_JPassword","blur",{ctx:this},this.OnBlurInput);$("#jqml_"+M).delegate(".jqmlist_JTextArea","click",{ctx:this},this.OnFocusInput);$("#jqml_"+M).delegate(".jqmlist_JTextArea","blur",{ctx:this},this.OnBlurInput);$("#jqml_"+M).delegate("li","click",{ctx:this},r);$("#jqml_"+M).delegate("li","swiperight",{ctx:this},function(P){$(".menuitem").remove();P.preventDefault();var N=P.data.ctx;var O=$(this).attr("id");O=parseInt(O.replace(H,""),10);O=O-P.data.ctx.m_Offset;N.SetDisableToggle(true);N.OnRowSelect(O);N.SetDisableToggle(false);if(N.GetDelBtnStatus()===false){$(this).find(".aSwipeBtn").addClass("ui-disabled");$(this).find(".aSwipeBtn").attr("disabled",true)}N.m_IsSwipeRight=true});$("body").bind("tap",{ctx:this},function(O){$(".aSwipeBtn").remove();var N=O.data.ctx;N.m_IsSwipeRight=false});var K=this.GetMapControl();if(K!==undefined&&K!==null){if(K.GetMethodName()==="ShowMapLocations"&&typeof(google)!=="undefined"){var L=this.GetMapCtrl();var J=[];$("#"+(K.GetInputName()+"_Ctrl")).bind("click",{ctx:this,ctrl:K},function(N){var O=new SiebelApp.UIStatus();O.Busy({});setTimeout(function(){J=N.data.ctx.GetMapLocationArray();L.ShowMapLocations(J);O.Free()},0);return false})}}M=null};a.prototype.GetPhysicalControlValue=function(L){SiebelAppFacade.JQMListRenderer.superclass.GetPhysicalControlValue.call(this,L);var O,H;if(L){var M=L.GetName();M=this.GetColumnHelper().GetModifiedColumnName(M);var J=this.GetPM();var N=J.Get("GetPlaceholder");var P=this.GetCurRowSel();P=P+this.m_Offset;var K="jqml_"+N+"_"+P+"_"+M;O=$("#"+K);if(O.length>0){var I;H="";var G=L.GetUIType();switch(G){case n:case y:case i:case g:case b:case k:case q:I=$("#"+K).find("input");if(J.Get("IsPopup")){this.processEnter=true}break;case w:I=$("#"+K).find("textarea");if(J.Get("IsPopup")){this.processEnter=true}break}if(I!==undefined&&I.length!==0){H=I.val()||""}else{H=O.attr("value")||""}switch(G){case e:case f:case u:H=z.toISOFormat(this.ConvertToDispTimeAMPM(z.Trim(H)),(L.GetUIType()!==e))||H;break}J.AddProperty("PhysicalCtrlVal",H)}}};a.prototype.ShowSelection=function(){if(this.inProgress){return false}this.ClearSelection();var G=this.GetRowCount();var I=this.GetPM().Get("GetRowsSelectedArray");for(var H=0;H<G&&H<I.length;H++){if(I[H]){this.setSelection(H,false)}}SiebelAppFacade.JQMListRenderer.superclass.ShowSelection.call(this)};a.prototype.ClearData=function(){var H="jqml_"+this.GetPM().Get("GetPlaceholder");var G="#"+H;$(G).empty()};a.prototype.setSelection=function(I){var K="jqml_"+this.GetPM().Get("GetPlaceholder")+"_";var J=this.m_Offset+I;J=parseInt(J,10);var H=K+J;var G="#"+H;$(G).addClass("hilight");this.SetCurRowSel(I)};a.prototype.OnRowSelect=function(I){var L=false;var K=this.GetPopupType();if(K==="Assoc"){var J=this.GetPM().Get("GetRowsSelectedArray");var H=0;for(var G=0;G<J.length;G++){if(J[G]){L=true;break}}}if(this.GetToggleFlag()||K==="Assoc"||parseInt(I,10)!==this.GetCurRowSel()){SiebelApp.S_App.uiStatus.Busy({});if(this.GetPM().OnControlEvent(t.get("PHYEVENT_SELECT_ROW"),I,L)===false){SiebelApp.S_App.uiStatus.Free();return false}SiebelApp.S_App.uiStatus.Free()}return true};a.prototype.ClearSelection=function(){var H="jqml_"+this.GetPM().Get("GetPlaceholder");
var G="#"+H;$(G).children(".hilight").find(".siebui-ipe-enabled").removeClass("siebui-ipe-enabled");$(G).children(".hilight").removeClass("hilight");$(G).find(".jqmlist_CheckBox_slide").slider("disable");$(G+" .aSwipeBtn").remove()};a.prototype.ShowUIControl=function(J,I,L){SiebelAppFacade.JQMListRenderer.superclass.ShowUIControl.call(this,J,I,L);var M=J.GetUIType();var H;var K;var G=J.GetInputName();if(M===x){H=J.GetMethodName();if(H==="DeleteRecord"){K=this.GetPM().ExecuteMethod("CanInvokeMethod",H);this.SetDelControl(J);this.SetDelBtnStatus(K);$("#"+G).hide()}if(H==="ShowMapLocations"){this.SetMapControl(J)}}};a.prototype.EnableControl=function(L,J){SiebelAppFacade.JQMListRenderer.superclass.EnableControl.call(this,L,J);if(typeof(L.GetInputName)==="function"){if(L.GetUIType()===x){if(L.GetMethodName()==="DeleteRecord"){this.SetDelBtnStatus(J)}if(L.GetMethodName()==="ShowMapLocations"&&typeof(google)!=="undefined"){$("#"+L.GetInputName()+"_Ctrl").button("enable");$("#"+L.GetInputName()+"_Ctrl").addClass("showMapLocations")}}else{var K=L.GetName();var G=this.GetCurRowSel();var H=G+this.m_Offset;var M=this.GetPM().Get("GetPlaceholder");K=this.GetColumnHelper().GetModifiedColumnName(K);var I="jqml_"+M+"_"+H+"_"+K;if(L.GetUIType()===p){if(J){$("#"+I+".jqmlist_CheckBox_slide").slider("enable")}else{$("#"+I+".jqmlist_CheckBox_slide").slider("disable")}$("#"+I+".jqmlist_CheckBox_slide").slider("refresh")}if(J){$("#"+I).addClass("siebui-ipe-enabled")}else{$("#"+I).removeClass("siebui-ipe-enabled")}}}};a.prototype.SetCellEdit=function(G){};a.prototype.SetCellValue=function(K,R,Q){var L=this.GetPM();var P=L.Get("GetPlaceholder");var O=this.GetCurRowSel();var H=O+this.m_Offset;var N=this.GetColumnHelper().GetModifiedColumnName(R);var M=this.GetColumnControl(N);var S="jqml_"+P+"_"+H+"_"+N;var I=$("#"+S);if(I.length!==0){var G=M.GetUIType();I.attr("value",Q);if(L.Get("IsPopup")&&this.processEnter){this.setCellValCalled=true}switch(G){case n:I.html(Q);break;case d:var J=I.find("input").length;if(J!==0&&!z.IsEmpty(Q)){I.find("input").val(Q);I.find("input").focus()}else{I.html(Q)}break;case p:$("#"+S+".jqmlist_CheckBox_slide").val(Q);$("#"+S+".jqmlist_CheckBox_slide").slider("refresh");break;default:I.html(Q);break}}};a.prototype.fixWidth=function(H){SiebelAppFacade.JQMListRenderer.superclass.fixWidth.call(this,H);if(this.IsPopup()){var G=this.GetJQMListId();if(G!==undefined){G.attr("style","max-width:"+H+" !important")}}};function B(J,I){var G="";var H=J;if((H!==undefined)){if(!z.IsEmpty(I)){I="_"+I}else{I=""}if(typeof(H.GetObjectType)==="function"){G=G+'ot="'+H.GetObjectType()+I+'"'}if(typeof(H.GetRepstrName)==="function"){G=G+' rn="'+H.GetRepstrName()+I+'"'}if(typeof(H.GetUIName)==="function"){G=G+' un="'+H.GetUIName()+I+'" '}}return G}return a}());return"SiebelAppFacade.JQMListRenderer"});SiebelAppFacade.ListColumnHelper=function(){var b={};var a={};var c={};this.GetColMap=function(){return b};this.GetColControl=function(){return a};this.GetColField=function(){return c}};SiebelAppFacade.ListColumnHelper.prototype={AddColumn:function(c,b){var a=null;if(typeof(c)==="string"){a=c.replace(/ /g,"_");a=a.replace(/\//g,"_");a=a.replace(/#/g,"_");this.GetColMap()[a]=c;this.GetColControl()[a]=b;this.GetColField()[b.GetFieldName()]=c}return a},GetActualControlName:function(a){return this.GetColMap()[a]},GetActualColumnName:function(a){return this.GetColControl()[a].GetDisplayName()},GetModifiedColumnName:function(b){var a=null;if(typeof(b)==="string"){a=b.replace(/ /g,"_");a=a.replace(/\//g,"_");a=a.replace(/#/g,"_")}return a},GetColumnControl:function(a){return this.GetColControl()[a]},GetColumnOfField:function(a){return this.GetColField()[a]},TranslateObject:function(c,f){var d={};var b=null;for(var a=0;a<c.length;a++){var e=c[a].control.GetFieldName();b=c[a].name;if(!SiebelApp.Utils.IsEmpty(b)){d[b.replace(/ /g,"_").replace(/\//g,"_").replace(/#/g,"_")]=f[e]}}if(f.Id){d.Id=f.Id}return d}}};