/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2013 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
if(typeof(SiebelAppFacade.JQMFormRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.JQMFormRenderer");define("siebel/jqmformrenderer",["order!3rdParty/jqmobile/mobiscroll.custom-2.5.0.min"],function(){SiebelAppFacade.JQMFormRenderer=(function(){var X=SiebelJS.Dependency("SiebelApp.Utils");var h=SiebelJS.Dependency("SiebelApp.Constants");var W=h.get("SWE_PST_BUTTON_CTRL");var b=h.get("SWE_CTRL_PICK");var aE=h.get("SWE_CTRL_CHECKBOX");var F=h.get("SWE_CTRL_COMBOBOX");var S=h.get("SWE_CTRL_DATE_TIME_PICK");var aa=h.get("SWE_CTRL_DATE_PICK");var l=h.get("SWE_CTRL_DATE_TZ_PICK");var U=h.get("SWE_CTRL_CALC");var aH=h.get("SWE_CTRL_MAILTO");var q=h.get("SWE_CTRL_TEXTAREA");var ar=h.get("SWE_CTRL_TEXT");var y=h.get("SWE_CTRL_URL");var K=h.get("SWE_CTRL_PHONE");var A=h.get("SWE_CTRL_INKDATA");var r=h.get("SWE_CTRL_LINK");var ak=h.get("SWE_CTRL_LABEL");var av=h.get("SWE_CTRL_CURRENCY_CALC");var T=h.get("SWE_CTRL_PWD");var aJ=h.get("SWE_CTRL_MVG");var J=h.get("SWE_CTRL_IMAGECONTROL");var w=/(About Record Applet\w*)|(About SRF Applet\w*)|(About Siebel Applet\w*)|(About View Applet\w*)|(Record Count Applet\w*)|(Technical Support Applet\w*)/;var t=SiebelApp.S_App.LocaleObject;var an=t.GetLocalString("IDS_CALENDAR_PMAM_COMBOBOX_TITLE")||"AM or PM";var ag=t.GetLocalString("IDS_SWE_TIMEPICKER_HOUR")||"Hour";var I=t.GetLocalString("IDS_SWE_TIMEPICKER_MINUTE")||"Minute";var at=t.GetLocalString("IDS_SWE_TIMEPICKER_SECOND")||"Second";var ap=t.GetLocalString("IDS_SWE_MOBISCROLL_DAY")||"Day";var v=t.GetLocalString("IDS_CALENDAR_MONTH_COMBOBOX_TITLE")||"Month";var m=t.GetLocalString("IDS_CALENDAR_YEAR_COMBOBOX_TITLE")||"Year";var aA=t.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_SUN")||"Sun";var aP=t.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_MON")||"Mon";var aD=t.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_TUE")||"Tue";var G=t.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_WED")||"Wed";var aI=t.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_THU")||"Thu";var ao=t.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_FRI")||"Fri";var f=t.GetLocalString("IDS_SWE_JQGRID_DAY_SHORT_SAT")||"Sat";var D=[aA,aP,aD,G,aI,ao,f];var x=t.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_SUNDAY")||"Sunday";var P=t.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_MONDAY")||"Monday";var a=t.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_TUESDAY")||"Tuesday";var ai=t.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_WEDNESDAY")||"Wednesday";var aG=t.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_THURSDAY")||"Thursday";var ad=t.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_FRIDAY")||"Friday";var ax=t.GetLocalString("IDS_SWE_JQGRID_DAY_FULL_SATURDAY")||"Saturday";var g=[x,P,a,ai,aG,ad,ax];var H=t.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_JAN")||"Jan";var aK=t.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_FEB")||"Feb";var u=t.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_MAR")||"Mar";var p=t.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_APR")||"Apr";var s=t.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_MAY")||"May";var i=t.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_JUN")||"Jun";var j=t.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_JUL")||"Jul";var O=t.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_AUG")||"Aug";var M=t.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_SEP")||"Sep";var aC=t.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_OCT")||"Oct";var aM=t.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_NOV")||"Nov";var aO=t.GetLocalString("IDS_SWE_JQGRID_MONTH_SHORT_DEC")||"Dec";var c=[H,aK,u,p,s,i,j,O,M,aC,aM,aO];var E=t.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_JANUARY")||"January";var C=t.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_FEBRUARY")||"February";var au=t.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_MARCH")||"March";var R=t.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_APRIL")||"April";var aq=t.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_MAY")||"May";var am=t.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_JUNE")||"June";var aN=t.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_JULY")||"July";var az=t.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_AUGUST")||"August";var aB=t.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_SEPTEMBER")||"September";var Y=t.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_OCTOBER")||"October";var al=t.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_NOVEMBER")||"November";var ay=t.GetLocalString("IDS_SWE_JQGRID_MONTH_FULL_DECEMBER")||"December";var z=[E,C,au,R,aq,am,aN,az,aB,Y,al,ay];var L=t.GetLocalString("IDS_SWE_MOBILE_ON")||"On";var N=t.GetLocalString("IDS_SWE_MOBILE_OFF")||"Off";var o=null;var d="jqm_findquery_popup";function aF(aU){SiebelAppFacade.JQMFormRenderer.superclass.constructor.call(this,aU);this.gTaphold=false;this.findBtnName=undefined;this.processEnter=false;this.setCellValCalled=false;this.cancelqrytimeout=null;var aX="";var aZ=new SiebelAppFacade.FormColumnHelper();this.GetColumnHelper=function(){return aZ};this.IsPopup=function(){var a1=$("[name=popup]").html();if(a1===null||X.IsEmpty(a1)){return false}else{return true}};this.GetCurRowSel=function(){return -1};this.GetJQMListId=function(){return undefined};this.GetPopupType=function(){if(this.IsPopup()){var a1=SiebelApp.S_App.GetPopupPM();if(a1.Get("isPopupAssoc")){aX=("Assoc")}else{if(a1.Get("isPopupPick")){aX=("Pick")}else{aX=("")}}}return aX};try{var aS=new SiebelAppFacade.JQMSearchCtrl(this);this.GetSearchCtrl=function(){return aS}}catch(aW){SiebelJS.Log("Search Control Not Implemented")}var aT=new SiebelAppFacade.JQMMapCtrl(this);this.GetMapCtrl=function(){return aT};var a0=null;this.SetMapFieldArray=function(){a0=aU.Get("GetMapFields")};this.GetMapFieldArray=function(){return a0};var aV=[];this.GetReqFldHashArr=function(){return aV};var aR=null;this.SetFirstControl=function(a1){aR=a1};this.GetFirstControl=function(){return aR};var aQ=false;this.GetIsImgClicked=function(){return aQ};this.SetIsImgClicked=function(a1){aQ=a1};var aY=null;this.GetIsComboClicked=function(){return aY};this.SetIsComboClicked=function(a1){aY=a1};this.GetPM().AttachPostProxyExecuteBinding("NewRecord",function(a2,a1,a4){var a3=a4.GetProperty(h.get("SWE_RPC_PROP_RETURN_STATUS"));if(!(X.IsEmpty(a3))&&a3===h.get("SWE_RPC_PROP_REFRESH_LAYOUT")){if(a1.GetProperty("SWESP")!=="true"){SiebelAppFacade.JQMLayout.SetEditableMode(true)}}});this.GetPM().AttachPostProxyExecuteBinding("CreateRecord",function(a2,a1,a4){var a3=a4.GetProperty(h.get("SWE_RPC_PROP_RETURN_STATUS"));if(!(X.IsEmpty(a3))&&a3===h.get("SWE_RPC_PROP_REFRESH_LAYOUT")){SiebelAppFacade.JQMLayout.SetEditableMode(true)}});this.GetPM().AttachPostProxyExecuteBinding("EditRecord",function(a2,a1,a4){var a3=a4.GetProperty(h.get("SWE_RPC_PROP_RETURN_STATUS"));if(!(X.IsEmpty(a3))&&a3===h.get("SWE_RPC_PROP_REFRESH_LAYOUT")){SiebelAppFacade.JQMLayout.SetEditableMode(true)}});this._EndLife=function(){aS=null;aT=null;aR=null}}SiebelJS.Extend(aF,SiebelAppFacade.BasePR);aF.prototype.Init=function(){SiebelAppFacade.JQMFormRenderer.superclass.Init.call(this);this.AttachPMBinding("UpdateQuickPickInfo",this.UpdatePick);this.AttachPMBinding("UpdateAppletMessage",this.UpdateAppletMessageUI);this.AttachPMBinding("HandleCtrlDefChange",this.RefreshControl);
this.AttachPMBinding("ShowPopup",this.ShowPopup);this.AttachPMBinding("ShowSelection",this.ShowSelection);this.AttachPMBinding("ResetAppletState",this.ResetRendererState);this.AttachPMBinding("RefreshData",this.BindData);this.AttachPMBinding("FieldChange",this.SetControlValue);this.AttachPMBinding("UpdateStateChange",this.UpdateUIControls);this.AttachPMBinding("InvokeStateChange",this.UpdateUIButtons);this.AttachPMBinding("GetPhysicalControlValue",this.GetPhysicalControlValue);this.AttachPMBinding("SetFocusToCtrl",this.SetFocusToControl);this.AttachPMBinding("FocusFirstControl",this.FocusFirstControl);this.AttachPMBinding("SetHighlightState",this.SetHighlightState);this.AttachPMBinding("UpdateUI",this.ShowSelection)};aF.prototype.UpdatePick=function(){var aT=this.GetPM();var aV=arguments[arguments.length-1];var aQ=aT.Get("GetActiveControl");var aW=aT.Get("GetRecordSet")[aT.Get("GetSelection")];var a1=aQ.GetFieldName();var aS=null;var a3=0;if(!this.IsPopup()){a3=1}if(HtmlEncode(aT.Get("GetBusComp").GetFieldValue(a1))){aS=HtmlEncode(aT.Get("GetBusComp").GetFieldValue(a1))}else{if(aW&&aW[a1]){aS=HtmlEncode(aW[a1])}}var a0=$("[name="+aQ.GetInputName()+"]");if(a0.length>0){var aY=a0.attr("id")+"-menu";var aR=$("#"+aY);if(aR.length>0){k.call(this,aR,aQ)}}if((!this.IsPopup())&&a0.find('option[data-placeholder="true"]').length===0){a0.prepend('<option data-placeholder="true" value=""></option>')}if(!X.IsEmpty(a1)&&(a0.find('option[value=""]').length<=a3)){a0.prepend('<option value=""></option>')}a0.children('option[value!=""]').attr("disabled","disabled");var aZ;var a2;var aU;for(var aX=0;aX<aV.length;aX++){aZ=HtmlEncode(aV[aX]);a2=aV[aX];if(!X.IsEmpty(a2)){a2=aV[aX].replace(/\"/g,'\\"')}aU=a0.find('option[value="'+a2+'"]');if(aU.length===0){a0.append('<option value="'+aZ+'">'+aZ+"</option>")}else{aU.removeAttr("disabled")}}a0.children('option[disabled="disabled"]').remove();a0.selectmenu("refresh");a0.trigger("vclick");delete this.inProgress};aF.prototype.ShowUI=function(){var bk=this.GetPM().Get("GetControls");var ba=("#s_S_A"+this.GetPM().Get("GetId")+"_div");this.InjectQTPToApplet($(ba));var bf={str:""};bf.str=$(ba).find("td.AppletTitle").text();if(/msie/.test(navigator.userAgent.toLowerCase())&&$("body").find(".ui-selectmenu").length){$(".ui-selectmenu").hide()}var bi=null;var bg=false;var a6;this.SetMapFieldArray();$(ba+" div").each(function(){if($(this).attr("id")==="_FormAppletMobile"){bi=true}});if(bi===null||bi===undefined){var bj=$(ba).find("td.AppletHIFormBorder").find("table.AppletBack");var aU=$(bj).find("span.mceField").html();if(aU===null){bj=$(ba).find("td.AppletHIFormBorder").find("table.GridBack")}var aY=$(ba).find("td.AppletHIFormBorder").find("table.AppletBackTable").find("tr.AppletBack");$(ba).find("td.AppletHIFormBorder").find("tr.AppletButtons").append($(aY).html());aY.remove();var bb=this.GetReqFldHashArr();$(ba).find("div.mceLabel").each(function(bw){var by;var bv=$(this).html();if(bv&&bv.indexOf("icon_req.gif")>-1){var bu=bv.indexOf("<img");by=bv.substring(bu,bv.length+1)}var bx=$(this).closest("tr").find("span.mceField").find("input").attr("name");if(!X.IsEmpty(by)){bb[bx]=by;bg=true}});if(bg===false){$(ba).find("div.mceGridLabel").each(function(bw){var by;var bv=$(this).html();if(bv&&bv.indexOf("icon_req.gif")>-1){var bu=bv.indexOf("<img");by=bv.substring(bu,bv.length+1)}var bx=$(this).closest("tr").find("div.mceGridField").find("input").attr("name");if(!X.IsEmpty(by)){bb[bx]=by}})}$(bj).empty();var aR={str:""};for(a6 in bk){if(bk.hasOwnProperty(a6)){this.ShowUIControl(bk[a6],aR,bf)}}(bj).append(aR.str).trigger("create");for(a6 in bk){if(bk.hasOwnProperty(a6)){this.PostUIPrep(bk[a6])}}this.ShowSearch()}else{$(ba).find("td.AppletHIFormBorder").show();var aS=$(ba).find("table.AppletBack");var bn=aS.length;var a8=this.GetMapFieldArray();var a1=this.GetColumnHelper();for(var a2 in bk){if(bk!==null){a6=bk[a2];a1.AddColumn(a6.GetName(),a6);var a4=a6.GetFieldName();var aT=a6.GetUIType();var bo=a6.GetDisplayName();var bt=a6.GetInputName();var bh=this.GetPM().Get("GetRecordSet")[this.GetPM().Get("GetSelection")];var bm="";if(!X.IsEmpty(a4)){bm=HtmlEncode(ab(this.GetPM(),a6,bh))}if(!X.IsEmpty(a4)){var aW=this.GetPM().Get("GetBusComp").GetField(a4);if(!X.IsEmpty(aW)&&aW.GetDataType()==="phone"){aT="Phone"}}var bs=a6.GetInputName();var bp=$("[name="+bs+"]");var aQ=bp.outerWidth();var aZ=bp.parent();var bl;var a0;switch(aT){case aE:bp.remove();a0="<p type='checkbox' id='"+bt+"'></p>";aZ.append(a0);break;case W:var be=$(ba).find("td.AppletHIFormBorder").find("table.AppletBack");var bd={str:""};this.ShowUIControl(a6,bd,bf);(be).append(bd.str).trigger("create");this.PostUIPrep(a6);break;case aH:var a3="";if(bm!==""){bm=bm.concat("?subject="+bf.str);a3='<a id="'+bt+'_mailto" href="mailto:'+bm+'"></a>'}bp.remove();a0=a3+"<p type='email' id='"+bs+"' class='email-ControlId' name='"+bs+"'></p>";aZ.append(a0);if(bm!==""){$("#"+bt+"_mailto").addClass("email")}break;case K:var bq="";if(bm!==""){bq='<a id="'+bt+'_tel" href="tel:'+bm+'"></a>'}bp.remove();a0=bq+"<p type='tel' id='"+bs+"' class='tel-ControlId' name='"+bs+"'></p>";aZ.append(a0);if(bm!==""){$("#"+bt+"_tel").addClass("tel")}break;case y:var bc="";if(bm!==""){if(bm.match("^http://")===null){bm="http://"+bm}bc='<a id="'+bt+'_url" href="'+bm+'" rel="external" target="foo" class="ui-link-inherit"></a>'}bp.remove();a0=bc+"<p type='url' id='"+bs+"' class='url-ControlId' name='"+bs+"'></p>";aZ.append(a0);if(bm!==""){$("#"+bt+"_url").addClass("url")}break;case U:case av:case b:case aJ:case ar:bp.remove();a0="<p type='text' id='"+bt+"' class='FormAppletText' name='"+bt+"'></p>";aZ.append(a0);break;case aa:case S:case l:case F:bp.remove();a0="<p type='text' id='"+bt+"' class='FormAppletText'></p>";aZ.append(a0);break;case q:bp.remove();a0="<p type='textArea' id='"+bt+"' class='textArea' name='"+bt+"'></p>";aZ.append(a0);break;case A:var aV="";aV=n.call(this,a6);a0='<div id ="'+bt+'" name ="'+bt+'" class = "siebui-ctrl-sigpad"><canvas '+aV+' class="siebui-ctrl-pad" width="632" height="144"></canvas><p class="siebui-ctrl'+bt+'-clearButton" style="display:none"></p><input class = "'+bt+'" style="display:none"></input></div>';bp.remove();aZ.append(a0);if(this.GetPM().ExecuteMethod("CanUpdate",a6.GetName())){$("#"+bt).signaturePad({output:$("."+bt),clear:".siebui-ctrl"+bt+"-clearButton"})}else{try{$("#"+bt).signaturePad({displayOnly:true}).regenerate(bm)}catch(a9){if(a9.name==="SyntaxError"){if(bm===""||bm.match("Cancelled*")){$("#"+bt).signaturePad({displayOnly:true}).regenerate("[]")}else{$("#"+bt).empty().append("<span>Unexpected Format</span>")}}else{SiebelJS.Log(a9)}}}break;case r:case ak:this.ShowUIControl(a6,bd,bf);break}}}var a7=this.GetPM().Get("GetBusComp").GetParentBusComp();var aX=$(ba).find("td.AppletHIFormBorder").find("tr.AppletButtons");var br=$(ba).find("tr.AppletHIFormBorderChild_Keep");if(aX.length){if(!a7||br.length){aX[0].className="form-applet-header"}else{aX[0].parentNode.removeChild(aX[0])}}var a5=$(ba).find("td.AppletHIFormBorder").find("table.AppletBackTable").find("tr.AppletBack");
$(ba).find("td.AppletHIFormBorder").find("tr.form-applet-header").append($(a5).html());a5.remove();a5=null}ba=null};function aw(aU){var aT=false;var aS=$(aU).height();var aQ=$(aU).closest(".siebui-NoScrollFormContainer");var aR=$(aQ).height();if(!X.IsEmpty(aR)&&(aS>aR)){var aV=parseInt($(aQ).css("height"),10);if((!X.IsEmpty(aV))&&($(window).height()>aV)){aT=true}}return aT}aF.prototype.ExpandContainer=function(){var aW=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var aS=$(aW).height();var aR=$(aW).closest(".siebui-NoScrollFormContainer");var aY=$(aR).height();var aQ=$(window).height();if(!X.IsEmpty(aY)&&(aS>aY)){var aV=$(aR).parent().children("div");for(var aT=0;aT<aV.length;aT++){if(aV[aT].id===aR.attr("id")){var aX=aV[aT].nextSibling;if(!X.IsEmpty(aX)&&aX.clientHeight>0){$("#"+(aX).id).removeClass("siebui-ShowmoreSiblingContainer").addClass("siebui-ShowmoreSiblingContainer")}}}$("#"+aR.attr("id")).removeClass("siebui-ShowlessFormContainer");$("#"+aR.attr("id")).removeClass("siebui-ShowmoreFormContainer").addClass("siebui-ShowmoreFormContainer");if(aS>aQ){$("#"+aR.attr("id")).removeClass("siebui-ShowmoreFormContainerXL").addClass("siebui-ShowmoreFormContainerXL")}$(aR).css("height",aS+"px")}$(aR).children("#showMoreControl").remove();var aU=(typeof(this.GetPM().Get("GetObjectType"))==="string")?true:false;$(aR).prepend(ac(aU))};aF.prototype.ContractContainer=function(){var aV=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var aT=$(aV).height();var aR=$(aV).closest(".siebui-NoScrollFormContainer");$("#"+aR.attr("id")).removeClass("siebui-ShowmoreFormContainer").addClass("siebui-ShowlessFormContainer");if($(aR).hasClass("siebui-ShowmoreFormContainerXL")){$("#"+aR.attr("id")).removeClass("siebui-ShowmoreFormContainerXL")}var aW=$(aR).parent().children("div");for(var aS=0;aS<aW.length;aS++){if(aW[aS].id===aR.attr("id")){var aQ=aW[aS].nextSibling;if(!X.IsEmpty(aQ)){$("#"+(aQ).id).removeClass("siebui-ShowmoreSiblingContainer")}}}$(aR).children("#showLessControl").remove();var aU=(typeof(this.GetPM().Get("GetObjectType"))==="string")?true:false;$(aR).prepend(B(aU))};aF.prototype.RefreshContainer=function(a0){var aS=$(a0).closest(".siebui-NoScrollFormContainer");if(!$(aS).length&&$(o).length){aS=o}var aY=$(aS).parent().children("div");for(var aT=0;aT<aY.length;aT++){var aW=false;var a2=false;var aV=$(aY[aT]);var a3=$(aV).nextSibling;if($(aV).hasClass("siebui-NoScrollFormContainer")){if($(aV).children("#showMoreControl").length){aW=true}if($(aV).children("#showLessControl").length){a2=true}var aX=$(aV).find("form").closest("div");var aQ=aw(aX);var aR=$(aX).height();if(!aQ){if(aW){$(aV).children("#showMoreControl").remove();if($(aV).hasClass("siebui-ShowlessFormContainer")){$("#"+aV.attr("id")).removeClass("siebui-ShowlessFormContainer").addClass("siebui-ShowlessFormContainer")}if($(aV).hasClass("siebui-ShowmoreFormContainer")){$("#"+aV.attr("id")).removeClass("siebui-ShowmoreFormContainer")}}if(a2){if(aR<=$(window).height()/2){$(aV).children("#showLessControl").remove();if($(aV).hasClass("siebui-ShowmoreFormContainer")){$("#"+aV.attr("id")).removeClass("siebui-ShowmoreFormContainer")}}else{if(aR>$(window).height()){$("#"+aV.attr("id")).removeClass("siebui-ShowmoreFormContainerXL").addClass("siebui-ShowmoreFormContainerXL")}else{$("#"+aV.attr("id")).removeClass("siebui-ShowmoreFormContainerXL")}}}if(!X.IsEmpty(a3)){if($(a3).hasClass("siebui-ShowmoreSiblingContainer")){$("#"+a3.attr("id")).removeClass("siebui-ShowmoreSiblingContainer")}}}else{var aU=(typeof(this.GetPM().Get("GetObjectType"))==="string")?true:false;if(a2){if(aR>$(window).height()){if(!$(aV).hasClass("siebui-ShowmoreFormContainerXL")){$("#"+aV.attr("id")).addClass("siebui-ShowmoreFormContainerXL")}}$(aV).css("height",$(a0).height()+"px");var a1=ac(aU);$(aV).children("#showLessControl").remove();$(aV).prepend(a1)}else{var aZ=B(aU);$(aV).children("#showMoreControl").remove();$(aV).prepend(aZ)}}}}};function B(aR){var aS=$("<div id='showMoreControl'>");var aT="";if(aR){aT='ot="jqm_more_btn_ot" rn="jqm_more_btn_rn" un="jqm_more_btn_un"'}var aQ='<button id="btnMoreCtrl" '+aT+' data-role="button" data-inline="true" data-iconpos="center" data-icon="btn_more" class="ui-icon-btn_more"></button></div>';aS.html(aQ);aS.trigger("create");$(aS).removeClass("siebui-showmore").addClass("siebui-showmore");return $(aS)}function ac(aS){var aR=$("<div id='showLessControl'>");var aT="";if(aS){aT='ot="jqm_less_btn_ot" rn="jqm_less_btn_rn" un="jqm_less_btn_un"'}var aQ='<button id="btnLessCtrl" '+aT+' data-role="button" data-inline="true" data-iconpos="center" data-icon="btn_less" class="ui-icon-btn_less"></button></div>';aR.html(aQ);aR.trigger("create");$(aR).removeClass("siebui-showless").addClass("siebui-showless");return $(aR)}aF.prototype.ResetRendererState=function(){};aF.prototype.ShowUIControl=function(a6,aQ,bo){if(!ah(a6)){return}var aW=a6.GetFieldName();var aY=a6.GetUIType();var a4=a6.GetDisplayName();var a9=a6.GetInputName();var a3;var bc=a6.GetMaxSize();var bm=this.GetMapFieldArray();var a2=this.GetReqFldHashArr();if(!X.IsEmpty(a2[a9])){a3=a2[a9]+" ";a4=a3.concat(a4)}var aX=this.GetPM().Get("GetRecordSet")[this.GetPM().Get("GetSelection")];var bf="";if(!X.IsEmpty(aW)){bf=HtmlEncode(ab(this.GetPM(),a6,aX))}var bl=(new Date()).getFullYear();var aV;if(!X.IsEmpty(aW)){var aT=this.GetPM().Get("GetBusComp").GetField(aW);if(!X.IsEmpty(aT)&&aT.GetDataType()==="phone"){aY="Phone"}}switch(aY){case ar:aV=Z(a9,a4,bf,ar,"text",a6,bc);aQ.str=aQ.str.concat(aV);break;case aa:aV=Z(a9,a4,bf,aa,"date",a6);aQ.str=aQ.str.concat(aV);break;case S:aV=Z(a9,a4,bf,S,"datetime",a6);aQ.str=aQ.str.concat(aV);break;case l:aV=Z(a9,a4,bf,l,"datetime",a6);aQ.str=aQ.str.concat(aV);break;case aH:if(bf!==""){bf=bf.concat("?subject="+bo.str)}aV=Z(a9,a4,bf,aH,"email",a6);aQ.str=aQ.str.concat(aV);break;case K:aV=Z(a9,a4,bf,K,"tel",a6);aQ.str=aQ.str.concat(aV);break;case y:if(a6.GetName()==="BookmarkImage"&&this.GetPM().GetPMName()==="Bookmark URL Popup Applet (SWE)_PM"){$("[name='"+a6.GetInputName()+"']").remove();$($("table.FormSection")[0]).remove()}else{aV=Z(a9,a4,bf,y,"url",a6);aQ.str=aQ.str.concat(aV)}break;case q:aV=Z(a9,a4,bf,q,"textarea",a6,bc);aQ.str=aQ.str.concat(aV);break;case U:aV=Z(a9,a4,bf,U,"number",a6);aQ.str=aQ.str.concat(aV);break;case av:aV=Z(a9,a4,bf,av,"number",a6);aQ.str=aQ.str.concat(aV);break;case T:aV=Z(a9,a4,bf,T,"password",a6);aQ.str=aQ.str.concat(aV);break;case aE:aV=Z(a9,a4,bf,aE,"checkbox",a6);aQ.str=aQ.str.concat(aV);break;case F:aV=Z(a9,a4,bf,F,"select",a6,bc,this.IsPopup());aQ.str=aQ.str.concat(aV);break;case W:var aR=a6.GetMethodName();var a8=a6.GetDisplayName();var be="";var bj=" data-iconpos='center' ";var aZ=false;var bk=this.GetPM().ExecuteMethod("CanInvokeMethod",aR);var bd=a9+"_"+h.get("SWE_FILE_NAME_STR");var aU="";var a1=n.call(this,a6);if(this.IsPopup()){aU=" data-theme='c'"}if(aR==="ExecuteQuery"||aR==="NewQuery"||aR==="UndoQuery"||aR==="GetChart"||aR==="ShowQueryAssistant"||aR==="GotoPrevious"||aR==="GotoNext"||aR==="GotoDate"||aR==="GotoToday"||aR==="GotoWeekly"||aR==="GotoMonthly"||aR==="AddAppointment"||aR==="ToggleCycle"||aR==="EditViewLayout"||aR==="HideAllApplets"||aR==="MaximizeAllApplets"||aR==="MinimizeAllApplets"||aR==="ResetViewLayout"||aR==="ShowAllApplets"||aR==="ShowViewLayout"){}else{var bn=bk?a6.GetEnabledBmp():a6.GetDisabledBmp();
if(bn&&(aR!=="GotoNextSet"&&aR!=="GotoPreviousSet")){$("#"+a9).append(bn).addClass(bk?"sweButtonImageEnabled":"sweButtonImageDisabled");break}if(aR==="DeleteRecord"){be=be.concat(bj);be=be.concat("data-icon='delete'")}else{if(aR==="NewRecord"&&a6.GetMethodPropSet().GetProperty("SWESP")==="true"){be=be.concat(bj);be=be.concat("data-icon='check'")}else{if(aR==="NewRecord"||aR==="CreateRecord"){be=be.concat(bj);be=be.concat("data-icon='custom-plus'")}else{if(aR==="WriteRecord"){be=be.concat(bj);be=be.concat("data-icon='custom-save'")}else{if(aR==="EditRecord"){be=be.concat(bj);be=be.concat("data-icon='custom-edit'")}else{if(aR==="UndoRecord"){be=be.concat(bj);be=be.concat("data-icon='custom-cancel'")}else{if(aR==="GotoNextSet"){be=be.concat(bj);be=be.concat("data-icon='arrow-r'")}else{if(aR==="GotoPreviousSet"){be=be.concat(bj);be=be.concat("data-icon='arrow-l'")}else{if(aR==="PickRecord"||aR==="AddRecord"){be=be.concat(bj);be=be.concat("data-icon='check'")}else{if(aR==="CloseApplet"){be=be.concat(bj);be=be.concat("data-icon='delete'")}else{if(aR==="ShowMapLocations"){be=be.concat(bj);be=be.concat("data-icon='marker'");be=be.concat('data-iconpos="notext"')}else{if(aR==="NxtDay"){be=be.concat('data-iconpos="notext"');be=be.concat("data-icon='arrow-r'")}else{if(aR==="PrevDay"){be=be.concat('data-iconpos="notext"');be=be.concat("data-icon='arrow-l'")}else{if(aR==="Submit"){be=be.concat(bj);be=be.concat("data-icon='submit'")}else{if(aR==="Sign"){be=be.concat(bj);be=be.concat("data-icon='sign'")}else{aZ=true;be=be.concat(bj);be=be.concat("data-icon='null'")}}}}}}}}}}}}}}}be=be.concat(" title='"+a8+"'");if(!aZ){aV="<button type='button' id='"+a9+"_Ctrl' data-inline='true'"+a1+aU+be+">"+a8+"</button>"}else{if(aR==="NewFileAttachment"){var a0=this.GetPM().Get("GetAppletLabel");if(a0!==""){a0=a0+":"}aV="<div id='"+a9+"'class='siebui-file-label'title='"+a0+a8+"'><input id='"+bd+"' type='file' class='siebui-file-input' name='"+h.get("SWE_FILE_NAME_STR")+"'/></div>"}else{aV="<button type='button' id='"+a9+"_Ctrl' data-inline='true'"+a1+aU+be+">"+a8+"</button>"}}$("#"+a9).append(aV).trigger("create");if(aR==="GotoNextSet"){$("#"+a9+"_Ctrl").parent().addClass("ui-btn-recnav-next")}if(aR==="GotoPreviousSet"){$("#"+a9+"_Ctrl").parent().addClass("ui-btn-recnav-prev")}if(aR==="NxtDay"){$("#"+a9+"_Ctrl").parent().addClass("ui-btn-NxtDay")}else{if(aR==="PrevDay"){$("#"+a9+"_Ctrl").parent().addClass("ui-btn-PrevDay")}else{if(aR==="ShowMapLocations"){$("#"+a9+"_Ctrl").parent().addClass("ui-btn-ShowMap")}}}}if(this.IsPopup()&&a6.GetMethodName()==="Find"){this.findBtnName="#"+a9+"_Ctrl";$(this.findBtnName).parent().hide()}if(aR==="NewFileAttachment"){var bb=$("#"+bd);var a7=$("#s_"+this.GetPM().Get("GetFullId")+"_div").find("#a_"+this.GetPM().Get("GetId"));var bg="<button type='button' id='"+a9+"_Ctrl' data-inline='true'"+a1+aU+be+">"+a8+"</button>";bb.parent().prepend(bg).trigger("create");bb.parent().removeClass();bb.parent().addClass("siebui-file-label");bb.removeClass("ui-input-text ui-body-b");SiebelAppFacade.ControlBuilder.FileUploader({url:SiebelApp.S_App.GetPageURL(),dropZone:a7,fileInput:bb,formData:{},change:aj,fail:aL,done:e,drop:aj,scope:this});bb=a7=null}break;case b:aV=Z(a9,a4,bf,b,"text",a6);aQ.str=aQ.str.concat(aV);break;case A:aV=Z(a9,a4,bf,A,"ink",a6);aQ.str=aQ.str.concat(aV);break;case r:var bh=$("#"+a6.GetInputName());if(bh.length===1){var bi=a6.GetMethodName();var a5=this.GetPM().ExecuteMethod("CanInvokeMethod",bi);var aS=a5?a6.GetEnabledBmp():a6.GetDisabledBmp();if(aS){bh.append(aS)}else{bh.append(Q.call(this,a6)).addClass("siebui-ctrl-link")}}break;case ak:if(a6.GetMethodName()){var ba=$("#"+a6.GetInputName());ba.append(Q.call(this,a6)).addClass("siebui-ctrl-label")}break}};function Q(aQ){return'<a  id ="'+aQ.GetInputName()+'_mb" tabindex ="'+aQ.GetSeq()+'" href="javascript:void(0)" >'+aQ.GetDisplayName()+"</a>"}function ae(aT,aR,aQ,aU){var aS="";aS='<a id="'+aR+'_maplink" '+aU+' href="#" name = "'+aR+'_maplink" class= "mapLink"></a>';return aS}function ab(aS,aX,aQ){var aV=aS.Get("IsInQueryMode");var aW=aX.GetName();var aU=aX.GetFieldName();var aR=aS.ExecuteMethod("IsPrivateField",aW);var aT="";if(!X.IsEmpty(aU)||aR||!aS.Get("IsPure")){if(aV||aR||!aS.Get("IsPure")){if(!aV||!aS.Get("IsPure")){aT=aS.ExecuteMethod("GetFormattedFieldValue",aX,false)}else{aT=(X.IsEmpty(aQ)||X.IsEmpty(aQ[aU]))?"":aQ[aU]}}else{aT=aS.ExecuteMethod("GetFormattedFieldValue",aX,true)}}return aT}aF.prototype.InvokeControlMethod=function(aT){SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var aS=aT.GetMethodPropSet();var aQ=aS.Clone();var aR={};aR.async=true;aR.mask=true;aR.target=SiebelApp.S_App.GetTargetViewContainer();aR.cb=function(){var aU=Array.prototype.slice.call(arguments);var aV=aU?aU[aU.length-2]:"";aV=aV?aV.GetProperty(h.get("SWE_RPC_PROP_STATUS")):"";if(aV!==h.get("SWE_RPC_PROP_NEW_LAYOUT")&&aV!==h.get("SWE_RPC_PROP_REFRESH_LAYOUT")&&aV!==h.get("SWE_RPC_PROP_NEW_PAGE")){SiebelApp.S_App.uiStatus.Free()}};this.GetPM().OnControlEvent(h.get("PHYEVENT_INVOKE_CONTROL"),aT.GetMethodName(),aQ,aR)};aF.prototype.ShowSearch=function(){};aF.prototype.PostUIPrep=function(aY){if(!ah(aY)){return}var aT=aY.GetFieldName();var aV=aY.GetUIType();var a0=aY.GetInputName();var aX=aY.GetDisplayName();var a9=(new Date()).getFullYear();var aU=this.GetPM().Get("GetRecordSet")[this.GetPM().Get("GetSelection")];var a4="";if(!X.IsEmpty(aT)){a4=HtmlEncode(ab(this.GetPM(),aY,aU))}var ba=this.GetMapFieldArray();var bc;var a8={dFormat:"mm/dd/yy",tFormat:"HH:ii:ss",dOrder:"mmddyy",tWheels:"HHiiss"};if(!X.IsEmpty(aT)){var aR=this.GetPM().Get("GetBusComp").GetField(aT);if(!X.IsEmpty(aR)&&aR.GetDataType()==="phone"){aV="Phone"}}switch(aV){case aa:this.ConvertLocale(a8);$("#"+a0).mobiscroll({preset:"date",dateOrder:a8.dOrder,dateFormat:a8.dFormat,endYear:a9+20,startYear:a9-100,dayText:ap,monthText:v,yearText:m,dayNames:g,dayNamesShort:D,monthNames:z,monthNamesShort:c});break;case S:this.ConvertLocale(a8);$("#"+a0).mobiscroll({preset:"datetime",timeFormat:a8.tFormat,timeWheels:a8.tWheels,dateOrder:a8.dOrder,dateFormat:a8.dFormat,endYear:a9+20,startYear:a9-100,ampmText:an,hourText:ag,minuteText:I,secText:at,dayText:ap,monthText:v,yearText:m,dayNames:g,dayNamesShort:D,monthNames:z,monthNamesShort:c});break;case l:this.ConvertLocale(a8);$("#"+a0).mobiscroll({preset:"datetime",timeFormat:a8.tFormat,timeWheels:a8.tWheels,dateOrder:a8.dOrder,dateFormat:a8.dFormat,endYear:a9+20,startYear:a9-100,ampmText:an,hourText:ag,minuteText:I,secText:at,dayText:ap,monthText:v,yearText:m,dayNames:g,dayNamesShort:D,monthNames:z,monthNamesShort:c});break;case aH:if(a4!==""){$("#"+a0+"_mailto").addClass("email")}break;case K:if(a4!==""){$("#"+a0+"_tel").addClass("tel")}break;case y:if(a4!==""){$("#"+a0+"_url").addClass("url")}break;case F:var aS=$("[name="+aY.GetInputName()+"]");if(this.IsPopup()){aS.removeAttr("data-theme").attr("data-theme","c")}aS.selectmenu();break;case aE:var a1=af.call(this,aY,"Y",null);
var aW=af.call(this,aY,"N",null);if(a1!==""&&aW!==""){var a2=$("#"+a0+"_jqm span.ui-slider-label:first");var a6=a2.html()===L?a1:aW;a2.empty().append(a6);a2=$("#"+a0+"_jqm span.ui-slider-label:last");a6=a2.html()===N?aW:a1;a2.empty().append(a6)}break;case W:var aQ=aY.GetMethodName();var aZ=aY.GetDisplayName();var a7=this.GetPM().ExecuteMethod("CanInvokeMethod",aQ);var bb=a7?aY.GetEnabledBmp():aY.GetDisabledBmp();if(aQ==="ExecuteQuery"||aQ==="NewQuery"||aQ==="UndoQuery"||aQ==="GetChart"||aQ==="ShowQueryAssistant"||aQ==="GotoPrevious"||aQ==="GotoNext"||aQ==="GotoDate"||aQ==="GotoToday"||aQ==="GotoWeekly"||aQ==="GotoMonthly"||aQ==="AddAppointment"||aQ==="ToggleCycle"||aQ==="EditViewLayout"||aQ==="HideAllApplets"||aQ==="MaximizeAllApplets"||aQ==="MinimizeAllApplets"||aQ==="ResetViewLayout"||aQ==="ShowAllApplets"||aQ==="ShowViewLayout"){}else{if(!a7&&(bb===null||(bb&&(aQ==="GotoNextSet"||aQ==="GotoPreviousSet")))){if(aQ==="ShowMapLocations"&&typeof(google)!=="undefined"){$("#"+a0+"_Ctrl").button("enable");$("#"+a0+"_Ctrl").addClass("showMapLocations")}else{$("#"+a0+"_Ctrl").button("disable");if(aQ==="NewFileAttachment"){var a3=a0+"_"+h.get("SWE_FILE_NAME_STR");$("#"+a3).attr("disabled","disabled")}}}}break;case b:SiebelAppFacade.ControlBuilder.Pick({target:$("[name='"+aY.GetInputName()+"']"),className:"applet-form-pick",scope:this,click:function(bg){SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var bf=aY.GetMethodPropSet();var bd=bf.Clone();var be={};be.async=false;be.mask=true;be.target=SiebelApp.S_App.GetTargetViewContainer();be.cb=function(){SiebelApp.S_App.uiStatus.Free()};this.GetPM().OnControlEvent(h.get("PHYEVENT_INVOKE_PICK"),bg,bd,be)},control:aY});break;case A:if(this.GetPM().ExecuteMethod("CanUpdate",aY.GetName())){$("#"+a0).signaturePad({output:$("."+a0),clear:".siebui-ctrl"+a0+"-clearButton"})}else{try{$("#"+a0).signaturePad({displayOnly:true}).regenerate(a4)}catch(a5){if(a5.name==="SyntaxError"){if(a4===""||a4.match("Cancelled*")){$("#"+a0).signaturePad({displayOnly:true}).regenerate("[]")}else{$("#"+a0).empty().append("<span>Unexpected Format</span>")}}else{SiebelJS.Log(a5)}}}break}};aF.prototype.ConvertLocale=function(aS){if(SiebelApp.S_App.LocaleObject){var a0=SiebelApp.S_App.LocaleObject.GetTimeFormat();var aT=SiebelApp.S_App.LocaleObject.GetDateFormat();var a1=SiebelApp.S_App.LocaleObject.GetDispDateSeparator();var aX=SiebelApp.S_App.LocaleObject.GetDispTimeSeparator();var a4=SiebelApp.S_App.LocaleObject.GetDispTimeAM();var aZ=SiebelApp.S_App.LocaleObject.GetDispTimePM();var aR=a0.indexOf("p")>-1?true:false;var aQ=X.TokenizeString(a0," ");var aW=0;var aY="";var a3="";var aV="";var a5="";var a2=X.TokenizeString(aT,a1);for(aW=0;aW<a2.length;aW++){if(a2[aW].toLowerCase()==="m"){aY=aY.concat("m");a3=a3.concat("m")}else{if(a2[aW].toLowerCase()==="mm"){aY=aY.concat("mm");a3=a3.concat("mm")}else{if(a2[aW].toLowerCase()==="mmm"){aY=aY.concat("M");a3=a3.concat("M")}else{if(a2[aW].toLowerCase()==="mmmm"){aY=aY.concat("MM");a3=a3.concat("MM")}else{if(a2[aW].toLowerCase()==="d"){aY=aY.concat("d");a3=a3.concat("d")}else{if(a2[aW].toLowerCase()==="dd"){aY=aY.concat("dd");a3=a3.concat("dd")}else{if(a2[aW].toLowerCase()==="ddd"){aY=aY.concat("D");a3=a3.concat("D")}else{if(a2[aW].toLowerCase()==="dddd"){aY=aY.concat("DD");a3=a3.concat("DD")}else{if(a2[aW].toLowerCase()==="yy"){aY=aY.concat("y");a3=a3.concat("y")}else{if(a2[aW].toLowerCase()==="yyyy"){aY=aY.concat("yy");a3=a3.concat("yy")}}}}}}}}}}if(aW<a2.length-1){aY=aY.concat("/")}}if(aY!==""){aS.dFormat=aY}if(a3!==""){aS.dOrder=a3}if(aQ.length>0){var aU=aQ[0];if(aQ[0]==="p"){if(aQ.length>1){aU=aQ[1];aV=aV.concat("A ")}else{aV=aV.concat("A")}a5=a5.concat("A")}a2=X.TokenizeString(aU,aX);for(aW=0;aW<a2.length;aW++){if(a2[aW].toLowerCase()==="h"){aV=aR?aV.concat("h"):aV.concat("H");a5=aR?a5.concat("h"):a5.concat("H")}if(a2[aW].toLowerCase()==="hh"){aV=aR?aV.concat("hh"):aV.concat("HH");a5=aR?a5.concat("hh"):a5.concat("HH")}if(a2[aW].toLowerCase()==="m"){aV=aV.concat("i");a5=a5.concat("i")}if(a2[aW].toLowerCase()==="mm"){aV=aV.concat("ii");a5=a5.concat("ii")}if(a2[aW].toLowerCase()==="s"){aV=aV.concat("s");a5=a5.concat("s")}if(a2[aW].toLowerCase()==="ss"){aV=aV.concat("ss");a5=a5.concat("ss")}if(aW<a2.length-1){aV=aV.concat(":")}if(aW===a2.length-1&&aR&&aQ[0]!=="p"){aV=aV.concat(" A");a5=a5.concat("A")}}}if(aV!==""){aS.tFormat=aV}if(a5!==""){aS.tWheels=a5}}};function af(aV,aU,aT){var aQ="";var aW=SiebelApp.S_App.GetIconMap();var aS=aW[SiebelApp.S_App.LookupStringCache(aV.GetIconMap())];if(aS){for(var aR=0;aR<aS.length;aR++){if(!X.IsEmpty(aU)&&aS[aR].iconName===aU){return aS[aR].iconImage}if(aS[aR].iconName==="Default"){aQ=aS[aR].iconImage}}if(!X.IsEmpty(aQ)){return aQ}}return""}function n(aT,aS){var aQ="";var aR=aT;if((aR!==undefined)){if(!X.IsEmpty(aS)){aS="_"+aS}else{aS=""}if(typeof(aR.GetObjectType)==="function"){aQ=aQ+'ot="'+aR.GetObjectType()+aS+'"'}if(typeof(aR.GetRepstrName)==="function"){aQ=aQ+' rn="'+aR.GetRepstrName()+aS+'"'}if(typeof(aR.GetUIName)==="function"){aQ=aQ+' un="'+aR.GetUIName()+aS+'" '}}return aQ}function k(aR,aT){var aQ=aT;var aS="";if((aQ!==undefined)){if(aR.is("[ot]")&&aR.is("[rn]")&&aR.is("[un]")){return}if(typeof(aQ.GetObjectType)==="function"){aR.attr("ot",aQ.GetObjectType()+aS)}if(typeof(aQ.GetRepstrName)==="function"){aR.attr("rn",aQ.GetRepstrName()+aS)}if(typeof(aQ.GetUIName)==="function"){aR.attr("un",aQ.GetUIName()+aS)}}}aF.prototype.InjectQTPToApplet=function(aS,aR){var aQ=this.GetPM();if(!X.IsEmpty(aR)){aR=aR+"_"}else{aR=""}if(aQ){if(typeof(aQ.Get("GetObjectType"))==="string"){aS.attr("ot",aR+aQ.Get("GetObjectType"))}if(typeof(aQ.Get("GetRepstrName"))==="string"){aS.attr("rn",aR+aQ.Get("GetRepstrName"))}if(typeof(aQ.Get("GetUIName"))==="string"){aS.attr("un",aR+aQ.Get("GetUIName"))}}};function Z(a3,a1,a2,aZ,aS,aU,aV,a0){var aT="<div id='"+a3+"_jqm' data-role='fieldcontain'>";var aR="";aR=n.call(this,aU);var aY="<label for='"+a3+"' id='"+a3+"_label'>"+a1+"</label>";switch(aZ){case aa:case S:case l:aT=aT.concat(aY);aT=aT.concat('<input type="text" id="'+a3+'" name="'+a3+'" '+aR+'class="mobiscroll" value="'+a2+'"/>');break;case ar:aT=aT.concat(aY);aT=aT.concat('<input type="'+aS+'" id="'+a3+'"'+aR+' name="'+a3+'" maxlength="'+aV+'" value="'+a2+'"/>');break;case U:case av:aS="text";aT=aT.concat(aY);aT=aT.concat('<input type="'+aS+'" pattern="[0-9]*" id="'+a3+'"'+aR+' name="'+a3+'" value="'+a2+'"/>');break;case T:aT=aT.concat(aY);aT=aT.concat('<input type="'+aS+'" id="'+a3+'" name="'+a3+'"'+aR+' value="'+a2+'"/>');break;case y:var aQ="";if(a2!==""){if(a2.match("^http://")===null){a2="http://"+a2}aQ='<a id="'+a3+'_url" href="'+a2+'" rel="external" target="foo" class="ui-link-inherit"></a>'}aT=aT.concat("<label for='"+a3+"' id='"+a3+"_label'>"+a1+"</label>");aT=aT.concat("<input type='"+aS+"' id='"+a3+"' name='"+a3+"'"+aR+">"+aQ+"</input>");break;case K:var aW="";if(a2!==""){aW='<a id="'+a3+'_tel" href="tel:'+a2+'"></a>'}aT=aT.concat("<label for='"+a3+"' id='"+a3+"_label'>"+a1+"</label>");
aT=aT.concat("<input type='"+aS+"' id='"+a3+"' name='"+a3+"'"+aR+">"+aW+"</input>");break;case aH:var aX="";if(a2!==""){aX='<a id="'+a3+'_mailto" href="mailto:'+a2+'"></a>'}aT=aT.concat("<label for='"+a3+"' id='"+a3+"_label'>"+a1+"</label>");aT=aT.concat("<input type='"+aS+"' id='"+a3+"' name='"+a3+"'"+aR+">"+aX+"</input>");break;case q:aT=aT.concat(aY);aT=aT.concat('<textarea type="textarea" id="'+a3+'" maxlength="'+aV+'" name="'+a3+'"'+aR+' value="'+a2+'">'+a2+"</textarea>");break;case aE:aT=aT.concat("<label for="+a3+">"+a1+"</label><select name="+a3+" id="+a3+" data-role='slider'"+aR+"><option value='N'>"+N+"</option><option value='Y'>"+L+"</option></select>");break;case F:if(!a0){aT=aT.concat('<label for="'+a3+'" class="select">'+a1+'</label><select data-native-menu="false" class="custom_select" id="'+a3+'"'+aR+' name="'+a3+'" value="'+a2+'"><option value="'+a2+'">'+a2+"</option></select>")}else{aT=aT.concat('<label for="'+a3+'" class="select">'+a1+'</label><select id="'+a3+'" class="select" name="'+a3+'"'+aR+' value="'+a2+'"><option value="'+a2+'">'+a2+"</option></select>")}break;case b:aT=aT.concat("<label for='"+a3+"' id='"+a3+"_label'>"+a1+"</label>");aT=aT.concat("<input type='"+aS+"' id='"+a3+"' name='"+a3+"'"+aR+"></input>");break;case A:aT=aT.concat('<div id ="'+a3+'"'+aR+'name ="'+a3+'"><canvas class="siebui-ctrl-pad" width="632" height="144"></canvas><p class="siebui-ctrl'+a3+'-clearButton" style="display:none"></p><input class = "'+a3+'" style="display:none"></input></div>');break}aT=aT.concat("</div>");return aT}aF.prototype.EndLife=function(){$("#s_"+this.GetPM().Get("GetFullId")+"_div").find(".custom_select").unbind();$("#s_"+this.GetPM().Get("GetFullId")+"_div").find(".select").unbind();$("#s_"+this.GetPM().Get("GetFullId")+"_div").off("click");$(document).unbind("mousedown.SiebelAppFacade.JQMFormRenderer");this._EndLife();SiebelAppFacade.JQMFormRenderer.superclass.EndLife.call(this)};aF.prototype.GetSelectedRow=function(aQ){return -1};aF.prototype.GetSelectedControl=function(aQ){var aS=this.GetPM().Get("GetPlaceholder");var aR="jqmform_"+aS+"_";aQ=aQ.replace(aR,"");aS=null;return aQ};aF.prototype.GetColumnControl=function(aQ){return this.GetColumnHelper().GetColumnControl(aQ)};aF.prototype.OnFocusInput=function(a6){var a3=a6.data.ctx;a3.setCellValCalled=false;a3.processEnter=false;var a7=a3.GetSelectedRow($(this).attr("id"));var a1=a3.GetCurRowSel();if(parseInt(a7,10)===a1){var a5=$(".aSwipeBtn").length;if(a5!==0){return}var a0=$(this).attr("id");var aZ=a3.GetSelectedControl(a0);var aY=a3.GetColumnControl(aZ);var aW=aY.GetUIType();var aT;var aV=a3.GetPM().Get("GetRecordSet")[a3.GetPM().Get("GetSelection")];var a4=HtmlEncode(a3.GetPM().ExecuteMethod("GetFormattedFieldValue",aY,false));var aU=aY.GetFieldName();var aX=n.call(this,aY);if(!X.IsEmpty(aU)){var aQ=a3.GetPM().Get("GetBusComp").GetField(aU);if(!X.IsEmpty(aQ)&&aQ.GetDataType()==="phone"){aW=K}}if(a3.GetPM().ExecuteMethod("CanUpdate",aY.GetName())){var a9=(new Date()).getFullYear();var a8={dFormat:"mm/dd/yy",tFormat:"HH:ii:ss",dOrder:"mmddyy",tWheels:"HHiiss"};var aR;var a2;switch(aW){case ar:aT=$(this).find("input").length;if(aT===0){a2="text";$(this).html("<input type='"+a2+"' "+aX+" value='"+a4+"'>").trigger("create");$(this).find("input").focus();break}else{return}break;case b:aT=$(this).find("input").length;if(aT===0){aR="<input class = 'jqmform_pick_input' readonly = 'readonly' id='"+a0+"' name='"+a0+"' "+aX+" value='"+a4+"'/>";$(this).html(aR).trigger("create");$(this).find("input").focus();SiebelAppFacade.ControlBuilder.Pick({target:$(".jqmform_pick_input"),className:"applet-jqmlist-pick",scope:this,click:function(bd){SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var bc=bd.GetMethodPropSet();var ba=bc.Clone();var bb={};bb.async=false;bb.mask=true;bb.target=SiebelApp.S_App.GetTargetViewContainer();bb.cb=function(){SiebelApp.S_App.uiStatus.Free()};a3.GetPM().OnControlEvent(h.get("PHYEVENT_INVOKE_PICK"),bd,ba,bb)},control:aY})}else{return}break;case aa:aR="<input type='text' id='"+a0+"' class='mobiscroll jqmtable_JDatePick_input' "+aX+" value='"+a4+"'/>";$(this).html(aR).trigger("create");a3.ConvertLocale(a8);$(".jqmtable_JDatePick_input").scroller({preset:"date",showOnFocus:false,dateOrder:a8.dOrder,dateFormat:a8.dFormat,endYear:a9+20,startYear:a9-100,dayText:ap,monthText:v,yearText:m,dayNames:g,dayNamesShort:D,monthNames:z,monthNamesShort:c,onSelect:a3.OnCloseDateTimePick,onCancel:a3.OnCancelDateTimePick});$(".jqmtable_JDatePick_input").scroller("show");break;case S:aR="<input type='text' id='"+a0+"' class='mobiscroll jqmtable_JDateTimePick_input' "+aX+" value='"+a4+"'/>";$(this).html(aR).trigger("create");a3.ConvertLocale(a8);$(".jqmtable_JDateTimePick_input").scroller({preset:"datetime",showOnFocus:false,timeFormat:a8.tFormat,timeWheels:a8.tWheels,dateOrder:a8.dOrder,dateFormat:a8.dFormat,endYear:a9+20,startYear:a9-100,ampmText:an,hourText:ag,minuteText:I,secText:at,dayText:ap,monthText:v,yearText:m,dayNames:g,dayNamesShort:D,monthNames:z,monthNamesShort:c,onSelect:a3.OnCloseDateTimePick,onCancel:a3.OnCancelDateTimePick});$(".jqmtable_JDateTimePick_input").scroller("show");break;case l:aR="<input type='text' id='"+a0+"' class='mobiscroll jqmtable_JDateTimeZonePick_input' "+aX+" value='"+a4+"'/>";$(this).html(aR).trigger("create");a3.ConvertLocale(a8);$(".jqmtable_JDateTimeZonePick_input").scroller({preset:"datetime",showOnFocus:false,timeFormat:a8.tFormat,timeWheels:a8.tWheels,dateOrder:a8.dOrder,dateFormat:a8.dFormat,endYear:a9+20,startYear:a9-100,ampmText:an,hourText:ag,minuteText:I,secText:at,dayText:ap,monthText:v,yearText:m,dayNames:g,dayNamesShort:D,monthNames:z,monthNamesShort:c,onSelect:a3.OnCloseDateTimePick,onCancel:a3.OnCancelDateTimePick});$(".jqmtable_JDateTimeZonePick_input").scroller("show");break;case aE:a4=$(this).parent().attr("value");break;case K:aT=$(this).find("input").length;if(aT===0){a2="tel";$(this).html("<input type='"+a2+"' "+aX+" value='"+a4+"'>").trigger("create");$(this).find("input").focus();break}else{return}break;case aH:aT=$(this).find("input").length;if(aT===0){a2="email";$(this).html("<input type='"+a2+"' "+aX+" value='"+a4+"'>").trigger("create");$(this).find("input").focus();break}else{return}break;case y:aT=$(this).find("input").length;if(aT===0){a2="url";$(this).html("<input type='"+a2+"' "+aX+" value='"+a4+"'>").trigger("create");$(this).find("input").focus();break}else{return}break;case F:aT=$(this).find("select").length;if(aT===0){aR='<select data-native-menu="false" class="custom_select" data-theme="c" id="'+a0+'" '+aX+' name="'+aY.GetInputName()+'" value="'+a4+'"><option value="'+a4+'">'+a4+"</option></select>";$(this).html(aR).trigger("create");var aS=$("[id="+a0+"-button]");if(aS.length>0){k.call(this,aS,aY)}aS.focus();aS.bind("touchend mouseup",{ctx:this,ctrl:aY},function(bc){var ba=$(window).height();var bb;if(window.innerHeight>window.innerWidth){bb=ba*0.6}else{bb=ba*0.3}$(".ui-selectmenu").removeAttr("style");
$(".ui-selectmenu").css("max-height",bb+"px");if(a3.GetPM().ExecuteMethod("CanUpdate",bc.data.ctrl.GetName())){V.call(a3,bc.data.ctrl)}});$(document).unbind("mousedown.SiebelAppFacade.JQMFormRenderer");$(document).bind("mousedown.SiebelAppFacade.JQMFormRenderer",{ctx:a3},a3.DocClicked);aS.bind("blur",{ctx:a3,ctrl:aY},a3.OnBlurInputCombo);aS.bind("mousedown",{ctx:a3},a3.ComboClicked)}else{return}break;case U:case av:aT=$(this).find("input").length;if(aT===0){a2="text";$(this).html("<input type='"+a2+"' "+aX+" pattern='[0-9]*' value='"+a4+"'>").trigger("create");$(this).find("input").focus();break}else{return}break;case T:aT=$(this).find("input").length;if(aT===0){a2="password";$(this).html("<input type='"+a2+"' "+aX+" value='"+a4+"'>").trigger("create");$(this).find("input").focus();break}else{return}break;case q:aT=$(this).find("input").length;if(aT===0){a2="text";$(this).html('<textarea type="textarea" '+aX+' maxlength="255" value="'+a4+'">'+a4+"</textarea>").trigger("create");$(this).find("textarea").focus();break}else{return}break}if(a1===-1){a3.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_FOCUS"),aY,a4)}else{a3.GetPM().OnControlEvent(h.get("PHYEVENT_COLUMN_FOCUS"),a7,aY,a4)}}}};aF.prototype.OnCloseDateTimePick=function(aQ){$(this).focus();$(this).blur()};aF.prototype.OnCancelDateTimePick=function(aQ){$(this).focus();$(this).blur()};aF.prototype.OnBlurInputCombo=function(aR){var a5=aR.data.ctx;var aV=a5.GetSelectedRow($(this).attr("id"));var a1="-button";var aS=$(this).attr("id");aS=aS.replace(a1,"");var a2=a5.GetSelectedControl(aS);var aX=a5.GetColumnControl(a2);var a0=aX.GetDisplayName();var aQ=aX.GetUIType();var aZ=a5.GetCurRowSel();var aY=a5.GetPM().Get("GetRecordSet")[a5.GetPM().Get("GetSelection")];var aU=ab(a5.GetPM(),aX,aY);var a4;var aT;if(a5.GetPM().ExecuteMethod("CanUpdate",aX.GetName())){switch(aQ){case F:var aW=a5.GetIsComboClicked();var a6=$(this).attr("id");if(aW!==a6){a4=$(this).next().val();if(a4===aU){var a3=$(this).parent().parent();a3.html(a4);a3.attr("value",a4)}break}else{return}}if(aZ===-1){a5.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_BLUR"),aX,a4)}else{a5.GetPM().OnControlEvent(h.get("PHYEVENT_COLUMN_BLUR"),aV,aX,a4)}}};aF.prototype.ImgClicked=function(aR){var aQ=aR.data.ctx;aQ.SetIsImgClicked(true)};aF.prototype.ComboClicked=function(aR){aR.preventDefault();aR.stopPropagation();var aQ=aR.data.ctx;var aS=$(this).attr("id");aQ.SetIsComboClicked(aS)};aF.prototype.DocClicked=function(aR){var aQ=aR.data.ctx;aQ.SetIsComboClicked(null)};aF.prototype.OnBlurInput=function(a6){var a2=a6.data.ctx;if((a2.GetPM().Get("IsPopup"))&&a2.processEnter&&a2.setCellValCalled){a2.processEnter=false;a2.setCellValCalled=false;return true}else{a2.processEnter=false;a2.setCellValCalled=false}var a3=a2.GetPM().Get("GetActiveControl");if(a3===null||a3===undefined){return}var a7=a2.GetSelectedRow($(this).attr("id"));var a0=a2.GetSelectedControl($(this).attr("id"));var aZ=a2.GetColumnControl(a0);var a8=aZ.GetDisplayName();var aW=aZ.GetUIType();var a1=a2.GetCurRowSel();var aV=a2.GetPM().Get("GetRecordSet")[a2.GetPM().Get("GetSelection")];var aY=HtmlEncode(a2.GetPM().ExecuteMethod("GetFormattedFieldValue",aZ,false));var aT=aZ.GetFieldName();if(!X.IsEmpty(aT)){var aR=a2.GetPM().Get("GetBusComp").GetField(aT);if(!X.IsEmpty(aR)&&aR.GetDataType()==="phone"){aW=K}}var a5;var aS;if(a2.GetPM().ExecuteMethod("CanUpdate",aZ.GetName())){switch(aW){case ar:aS=$(this).find("input").length;if(aS!==0){a5=$(this).find("input").val();if(a5===aY){$(this).html(a5);$(this).val(a5)}break}else{return}break;case b:var aU=$("[name=popup]").html();if(aU===null||X.IsEmpty(aU)){var aX=a2.GetIsImgClicked();a2.SetIsImgClicked(false);if(!aX){aS=$(this).find("input").length;if(aS!==0){a5=$(this).find("input").val();if(a5===aY){$(this).html(a5);$(this).val(a5)}break}else{return}}else{return}}else{return}break;case aa:case S:case l:var a4=$(this).mobiscroll("isVisible");if(a4){return}else{a5=$(this).find("input").val();var aQ=a2.ConvertToDispTimeAMPM(X.Trim(a5));aQ=X.toISOFormat(aQ,(aW!==aa))||aQ;a5=aQ}break;case aE:$(".aSwipeBtn").remove();a5=$(this).val();$(this).parent().attr("value",a5);break;case K:aS=$(this).find("input").length;if(aS!==0){a5=$(this).find("input").val();if(a5===aY){$(this).html(a5);$(this).val(a5)}break}else{return}break;case aH:aS=$(this).find("input").length;if(aS!==0){a5=$(this).find("input").val();if(a5===aY){$(this).html(a5);$(this).val(a5)}break}else{return}break;case y:aS=$(this).find("input").length;if(aS!==0){a5=$(this).find("input").val();if(a5===aY){$(this).html(a5);$(this).val(a5)}break}else{return}break;case U:case av:aS=$(this).find("input").length;if(aS!==0){a5=$(this).find("input").val();if(a5===aY){$(this).html(a5);$(this).val(a5)}break}else{return}break;case T:aS=$(this).find("input").length;if(aS!==0){a5=$(this).find("input").val();if(a5===aY){$(this).html("")}break}else{return}break;case q:aS=$(this).find("textarea").length;if(aS!==0){a5=$(this).find("textarea").val();if(a5===aY){$(this).html(a5);$(this).val(a5)}break}else{return}break}if(a1===-1){a2.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_BLUR"),aZ,a5)}else{a2.GetPM().OnControlEvent(h.get("PHYEVENT_COLUMN_BLUR"),a7,aZ,a5)}}};aF.prototype.ClearPick=function(aT){if($(this).val()!==""){var aQ=aT.data.ctx;var aR=aQ.GetSelectedControl($(this).attr("id"));var aU=aQ.GetColumnControl(aR);if(aQ.GetPM().ExecuteMethod("CanUpdate",aU.GetName())){aQ.gTaphold=true;var aS=this;var aV=new SiebelApp.UIStatus();aV.Busy({});setTimeout(function(){$(aS).val("");$(aS).focus();aV.Free()},0)}}};aF.prototype.OnPick=function(aV){var aR=aV.data.ctx;var aT=aR.GetSelectedControl($(this).attr("id"));var aW=aR.GetColumnControl(aT);SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var aU=aW.GetMethodPropSet();var aQ=aU.Clone();var aS={};aS.async=false;aS.mask=true;aS.target=SiebelApp.S_App.GetTargetViewContainer();aS.cb=function(){SiebelApp.S_App.uiStatus.Free()};setTimeout(function(){aR.GetPM().OnControlEvent(h.get("PHYEVENT_INVOKE_PICK"),aW,aQ,aS)},0)};aF.prototype.BindEvents=function(){var aQ=this.GetPM().Get("GetControls");var aR=$("#s_S_A"+this.GetPM().Get("GetId")+"_div").closest(".siebui-NoScrollFormContainer");var aT=("#s_S_A"+this.GetPM().Get("GetId")+"_div");if($(aR).length>0){o=$(aR)}for(var aS in aQ){if(aQ.hasOwnProperty(aS)){this.BindControlEvents(aQ[aS])}}$(aT).delegate(".jqmform_JText","click",{ctx:this},this.OnFocusInput);$(aT).delegate(".jqmform_JText","blur",{ctx:this},this.OnBlurInput);$(aT).delegate(".jqmform_Pick","click",{ctx:this},this.OnFocusInput);$(aT).delegate(".jqmform_pick_input","click",{ctx:this},this.OnPick);$(aT).delegate(".jqmform_pick_input","taphold",{ctx:this},this.ClearPick);$(aT).delegate(".applet-jqmlist-pick","mousedown",{ctx:this},this.ImgClicked);$(aT).delegate(".jqmform_Pick","blur",{ctx:this},this.OnBlurInput);$(aT).delegate(".jqmform_JDateTimeZonePick","click",{ctx:this},this.OnFocusInput);$(aT).delegate(".jqmform_JDateTimeZonePick","blur",{ctx:this},this.OnBlurInput);
$(aT).delegate(".jqmform_JDateTimePick","click",{ctx:this},this.OnFocusInput);$(aT).delegate(".jqmform_JDateTimePick","blur",{ctx:this},this.OnBlurInput);$(aT).delegate(".jqmform_JDatePick","click",{ctx:this},this.OnFocusInput);$(aT).delegate(".jqmform_JDatePick","blur",{ctx:this},this.OnBlurInput);$(aT).delegate(".jqmform_CheckBox_slide","slidestart",{ctx:this},this.OnFocusInput);$(aT).delegate(".jqmform_CheckBox_slide","slidestop",{ctx:this},this.OnBlurInput);$(aT).delegate(".jqmform_Phone","click",{ctx:this},this.OnFocusInput);$(aT).delegate(".jqmform_Phone","blur",{ctx:this},this.OnBlurInput);$(aT).delegate(".jqmform_Mailto","click",{ctx:this},this.OnFocusInput);$(aT).delegate(".jqmform_Mailto","blur",{ctx:this},this.OnBlurInput);$(aT).delegate(".jqmform_URL","click",{ctx:this},this.OnFocusInput);$(aT).delegate(".jqmform_URL","blur",{ctx:this},this.OnBlurInput);$(aT).delegate(".jqmform_JComboBox","click",{ctx:this},this.OnFocusInput);$(aT).delegate(".jqmform_JCalculator","click",{ctx:this},this.OnFocusInput);$(aT).delegate(".jqmform_JCalculator","blur",{ctx:this},this.OnBlurInput);$(aT).delegate(".jqmform_JCurrencyCalc","click",{ctx:this},this.OnFocusInput);$(aT).delegate(".jqmform_JCurrencyCalc","blur",{ctx:this},this.OnBlurInput);$(aT).delegate(".jqmform_JPassword","click",{ctx:this},this.OnFocusInput);$(aT).delegate(".jqmform_JPassword","blur",{ctx:this},this.OnBlurInput);$(aT).delegate(".jqmform_JTextArea","click",{ctx:this},this.OnFocusInput);$(aT).delegate(".jqmform_JTextArea","blur",{ctx:this},this.OnBlurInput);$("#s_"+this.GetPM().Get("GetFullId")+"_div").bind("click",{ctx:this},function(aV){var aU=aV.data.ctx;if(aU&&aU.GetPM()){aU.GetPM().OnControlEvent(h.get("PHYEVENT_APPLET_FOCUS"))}});$("#s_"+this.GetPM().Get("GetFullId")+"_div").on("click",".sweButtonImageEnabled",{ctx:this},function(aW){var aU=aW.data.ctx.GetPM().Get("GetControls");var aV=this.id;for(var aY in aU){if(aU.hasOwnProperty(aY)){var aX=aU[aY];if(aX.GetInputName()===aV&&aX.GetInputName()!=="NewFileAttachment"){return aW.data.ctx.InvokeControlMethod.call(aW.data.ctx,aX)}}}});$("#s_"+this.GetPM().Get("GetFullId")+"_div").on("click",".siebui-ctrl-drilldown",{ctx:this},function(aY){var aV=aY.data.ctx.GetPM().Get("GetControls");var a1=this.id.indexOf("_mb");var aX=this.id.substring(0,a1);var aW={};aW.async=false;aW.mask=true;aW.target=SiebelApp.S_App.GetTargetViewContainer();aW.cb=function(){var a2=Array.prototype.slice.call(arguments);if(a2[a2.length-1]===false){SiebelApp.S_App.uiStatus.Free()}};for(var a0 in aV){if(aV.hasOwnProperty(a0)){var aZ=aV[a0];if(aZ.GetInputName()===aX){SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var aU=CCFMiscUtil_CreatePropSet();aY.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_DRILLDOWN_FORM"),aZ,aU,aW)}}}});$(aR).undelegate("#showMoreControl","click.SiebelAppFacade.JQMFormRenderer");$(aR).delegate("#showMoreControl","click.SiebelAppFacade.JQMFormRenderer",{ctx:this},function(aU){var aV=new SiebelApp.UIStatus();aV.Busy({});setTimeout(function(){aU.data.ctx.ExpandContainer();aV.Free()},0)});$(aR).undelegate("#showLessControl","click.SiebelAppFacade.JQMFormRenderer");$(aR).delegate("#showLessControl","click.SiebelAppFacade.JQMFormRenderer",{ctx:this},function(aU){var aV=new SiebelApp.UIStatus();aV.Busy({});setTimeout(function(){aU.data.ctx.ContractContainer();aV.Free()},0)});$(aR).unbind("orientationchange.SiebelAppFacade.JQMFormRenderer");$(aR).bind("orientationchange.SiebelAppFacade.JQMFormRenderer",{ctx:this},function(aU){var aV=new SiebelApp.UIStatus();aV.Busy({});setTimeout(function(){aU.data.ctx.RefreshContainer(aT);aV.Free()},0)});$(window).unbind("resize.SiebelAppFacade.JQMFormRenderer");$(window).bind("resize.SiebelAppFacade.JQMFormRenderer",{ctx:this},function(aU){var aV=new SiebelApp.UIStatus();aV.Busy({});setTimeout(function(){if(!X.IsEmpty(aU.data)&&!X.IsEmpty(aU.data.ctx)){aU.data.ctx.RefreshContainer(aT)}aV.Free()},0)});aQ=null};aF.prototype.IsValidClick=function(aQ){return(X.IndexOf(["input","button","a","select","img"],aQ.tagName.toLowerCase())===-1)};aF.prototype.ConvertToDispTimeAMPM=function(aR){var aQ=SiebelApp.S_App.LocaleObject.GetDispTimeAM();var aS=SiebelApp.S_App.LocaleObject.GetDispTimePM();aR=aR.replace(/AM/g,aQ);aR=aR.replace(/PM/g,aS);return aR};aF.prototype.BindControlEvents=function(aR){if(!ah(aR)){return}var aV=true;var aY=0;var a0=$("[name="+aR.GetInputName()+"]");var aZ=aR.GetFieldName();var aT=this.GetMapFieldArray();var aU=this.GetMapCtrl();switch(aR.GetUIType()){case W:if(aR.GetMethodName()==="NewFileAttachment"){return false}else{if(aR.GetMethodName()==="ClearSignature"){$("#"+(aR.GetInputName()+"_Ctrl")).bind("click",{ctx:this,ctrl:aR},function(a1){var a3=a1.data.ctx.GetPM().Get("GetControls");for(var a2 in a3){if(a3[a2].GetUIType()==="JInkData"){$(".siebui-ctrl"+a3[a2].GetInputName()+"-clearButton").trigger("click");$("."+a3[a2].GetInputName()).attr({value:""});$("#"+a3[a2].GetInputName()).trigger("vmouseup")}}a3=null});break}}if(aR.GetMethodName()!=="ShowMapLocations"){$("#"+(aR.GetInputName()+"_Ctrl")).bind("click",{ctx:this,ctrl:aR},function(a1){setTimeout(function(){a1.data.ctx.InvokeControlMethod.call(a1.data.ctx,a1.data.ctrl)},0);if(a1.data.ctrl.GetMethodName()==="Find"){return false}else{a1.preventDefault()}})}break;case F:if(!this.IsPopup()){a0=$("[id="+aR.GetInputName()+"-button]");if(a0.length===1){if(typeof(aR.GetObjectType)==="function"){a0.attr("ot",aR.GetObjectType())}if(typeof(aR.GetRepstrName)==="function"){a0.attr("rn",aR.GetRepstrName())}if(typeof(aR.GetUIName)==="function"){a0.attr("un",aR.GetUIName())}}a0.bind("touchend mouseup",{ctx:this,ctrl:aR},function(a5){$(this).next().focus();var a1=$(window).height();var a2;if(window.innerHeight>window.innerWidth){a2=a1*0.6}else{a2=a1*0.3}$(".ui-selectmenu").removeAttr("style");$(".ui-selectmenu").css("max-height",a2+"px");if(a5.data.ctx.GetPM().ExecuteMethod("CanUpdate",a5.data.ctrl.GetName())){V.call(a5.data.ctx,a5.data.ctrl);var a4=$("[name="+aR.GetInputName()+"]");$("[name="+aR.GetInputName()+"]").selectmenu("refresh");var a3=$("#"+aR.GetInputName()+"-menu");if(a3.length===1){if(typeof(aR.GetObjectType)==="function"){a3.attr("ot",aR.GetObjectType())}if(typeof(aR.GetRepstrName)==="function"){a3.attr("rn",aR.GetRepstrName())}if(typeof(aR.GetUIName)==="function"){a3.attr("un",aR.GetUIName())}}}});a0.bind("focus",{ctx:this,ctrl:aR},function(a1){$("[name="+aR.GetInputName()+"]").selectmenu("refresh",true)});a0.bind("blur",{ctx:this,ctrl:aR},function(a1){var a2=$(this).next().val();if(a1.data.ctx.GetPM().ExecuteMethod("CanUpdate",a1.data.ctrl.GetName())){a1.data.ctrl.GetApplet().SetActiveControl(a1.data.ctrl);a1.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_BLUR"),a1.data.ctrl,$(this).next().val())}});a0.bind("change",{ctx:this,ctrl:aR},function(a1){var a2=$(this).next().val();a1.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_BLUR"),a1.data.ctrl,$(this).next().val())})}else{a0.bind("touchstart mousedown",{ctx:this,ctrl:aR},function(a1){var a2=$(this).is(":focus");
if(a2){return}if(a1.data.ctx.GetPM().ExecuteMethod("CanUpdate",a1.data.ctrl.GetName())){V.call(a1.data.ctx,a1.data.ctrl)}});a0.bind("blur",{ctx:this,ctrl:aR},function(a1){if(a1.data.ctx.GetPM().ExecuteMethod("CanUpdate",a1.data.ctrl.GetName())){a1.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_BLUR"),a1.data.ctrl,$(this).val())}});a0.bind("change",{ctx:this,ctrl:aR},function(a1){a1.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_BLUR"),a1.data.ctrl,$(this).val())})}break;case aE:a0.bind("slidestop",{ctx:this,ctrl:aR},function(a1){a1.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_BLUR"),a1.data.ctrl,$(this).val())});a0.bind("slidestart",{ctx:this,ctrl:aR},function(a1){$(this).focus();a1.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_FOCUS"),a1.data.ctrl,$(this).val())});break;case aa:case S:case l:a0.bind("change",{ctx:this,ctrl:aR},function(a1){var a2=$(this).val();var a3=a1.data.ctx.ConvertToDispTimeAMPM(X.Trim(a2));a3=X.toISOFormat(a3,(a1.data.ctrl.GetUIType()!==aa))||a3;a1.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_BLUR"),a1.data.ctrl,a3)});a0.bind("focus",{ctx:this,ctrl:aR},function(a1){a1.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_FOCUS"),a1.data.ctrl,$(this).val())});break;case b:var aS=false;var aX=("#s_S_A"+this.GetPM().Get("GetId")+"_div");$(aX+" div").each(function(){if($(this).attr("id")==="_FormAppletMobile"){aS=true;var a3=$(this).attr("class");if(a3!==null&&a3!==undefined){var a2=a3.split(" ");for(var a1 in a2){if(a2[a1]==="siebui_ServiceSignatureHeader"){aS=false}}}}});a0.bind("taphold",{ctx:this,ctrl:aR},function(a2){if($(this).val()!==""){if(a2.data.ctx.GetPM().ExecuteMethod("CanUpdate",a2.data.ctrl.GetName())){a2.data.ctx.gTaphold=true;var a1=this;var a3=new SiebelApp.UIStatus();a3.Busy({});setTimeout(function(){$(a1).val("");$(a1).blur();a3.Free()},0)}}});if(aS===false){a0.bind("click",{ctx:this,ctrl:aR},function(a5){if(a5.data.ctx.gTaphold===false){var a2=a5.data.ctx;var a6=a5.data.ctrl;$(this).blur();SiebelApp.S_App.uiStatus.Busy({target:SiebelApp.S_App.GetTargetViewContainer(),mask:true});var a4=aR.GetMethodPropSet();var a1=a4.Clone();var a3={};a3.async=false;a3.mask=true;a3.target=SiebelApp.S_App.GetTargetViewContainer();a3.cb=function(){SiebelApp.S_App.uiStatus.Free()};setTimeout(function(){a2.GetPM().OnControlEvent(h.get("PHYEVENT_INVOKE_PICK"),a6,a1,a3)},0)}a5.data.ctx.gTaphold=false})}a0.bind("blur",{ctx:this,ctrl:aR},function(a1){a1.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_BLUR"),a1.data.ctrl,$(this).val())});a0.bind("focus",{ctx:this,ctrl:aR},function(a1){a1.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_FOCUS"),a1.data.ctrl,$(this).val());return false});break;case A:a0.bind("vmouseup",{ctx:this,ctrl:aR},function(a1){a1.data.ctx.GetPM().ExecuteMethod("SetActiveControl",a1.data.ctrl);a1.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_BLUR"),a1.data.ctrl,$("."+a1.data.ctrl.GetInputName()).val())});a0.bind("vmouseover",{ctx:this,ctrl:aR},function(a1){a1.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_FOCUS"),a1.data.ctrl,$("."+a1.data.ctrl.GetInputName()).val())});break;case r:case ak:if(aR.GetMethodName()){a0=$("#"+aR.GetInputName());a0.bind("click",{ctx:this,ctrl:aR},function(a1){a1.data.ctx.InvokeControlMethod.call(a1.data.ctx,a1.data.ctrl)})}break;default:a0.bind("blur",{ctx:this,ctrl:aR},function(a1){a1.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_BLUR"),a1.data.ctrl,$(this).val())});var aW;var aQ=false;if(this.IsPopup()&&aR.GetUIType()==="JText"){aW=a0.attr("aria-labelledby");aQ=((!X.IsEmpty(aW))&&aW==="PopupQuerySrchspec_Label")?true:false}if(aQ===false){a0.bind("focus",{ctx:this,ctrl:aR},function(a1){a1.data.ctx.GetPM().OnControlEvent(h.get("PHYEVENT_CONTROL_FOCUS"),a1.data.ctrl,$(this).val())})}if(aR.GetUIType()==="JTextArea"){a0.bind("keyup",{ctx:this,ctrl:aR},function(a2){if(aV===true){aY=$(this).height();aV=false}var a1=$(this).height();if(!X.IsEmpty(aY)&&parseInt(a1,10)>parseInt(aY,10)){setTimeout(function(){$(window).trigger("resize");aY=a1},0)}});a0.bind("keydown",function(a1){if(a1.which===$.ui.keyCode.ENTER){a1.stopImmediatePropagation()}})}if(aQ===true){a0.bind("keydown",{ctx:this},function(a3){if(a3.which===$.ui.keyCode.ENTER){var a2=this;var a1=a3.data.ctx;setTimeout(function(){if(a1.findBtnName!==undefined){$(a2).trigger("blur");$(a1.findBtnName).trigger("click")}},0);a3.preventDefault();a3.stopPropagation();return false}})}break}if(typeof(google)!=="undefined"&&aT!==null&&X.IndexOf(aT,aZ)>-1&&!X.IsEmpty(aZ)){$(document).undelegate("#"+(aR.GetInputName()+"_maplink"),"click");$(document).delegate("#"+(aR.GetInputName()+"_maplink"),"click",{ctx:this},function(a1){var a2=new SiebelApp.UIStatus();a2.Busy({});setTimeout(function(){var a3=$("#"+(aR.GetInputName())).val();a1.preventDefault();aU.CreateURLForDirection(a3);a2.Free()},0)})}a0=null};aF.prototype.BindData=function(){this.ShowSelection()};aF.prototype.ProcessCancelQueryPopup=function(){var aV=d;if($("#"+aV).length>0){$("#"+aV).remove()}var aT="";var aQ=SiebelApp.S_App.LocaleObject;var aU=aQ.GetLocalString("IDS_CANCELQRY_INITIALTEXT");aT='<div align ="center" id = "response_txt_div"><p id="init_txt_cqm"><b>'+aU+"</b></p></br></div>";var aS='<div id="'+aV+'" name="'+aV+'" data-role="popup" data-position-to="window" class="ui-content"><div id="jqm_cancelquery_popup_content" name="jqm_cancelquery_popup_content">'+aT+"</div></div>";var aR=$(".AppletSearchContainer");$(aR[0]).append(aS).trigger("create");$("#"+aV).on({popupbeforeposition:function(){$("#"+aV+"-screen").off()}});$("#"+aV).popup("open")};aF.prototype.CloseCancelQueryPopup=function(){var aR=d;var aQ=$("#"+aR);if(aQ.length>0){aQ.popup("close")}};aF.prototype.ShowSelection=function(){if(this.inProgress){return false}var aT=this.GetPM();var a2=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var a5=aT.Get("GetControls");var a3=aT.Get("GetRecordSet");var aX=aT.Get("GetRecordSet")[aT.Get("GetSelection")];var aY=aT.Get("IsInQueryMode");for(var aW in a5){if(a5.hasOwnProperty(aW)){var aU=a5[aW];var a4=aU.GetFieldName();var aS=aT.ExecuteMethod("IsPrivateField",aW);if(!X.IsEmpty(a4)||aS||!aT.Get("IsPure")){var a1=ab(aT,aU,a3[0]);if(aT.Get("IsPure")||(!aT.Get("IsPure")&&aU.GetUIType()!==W)){this.EnableControl(aU,aT.ExecuteMethod("CanUpdate",aU.GetName()));this.SetControlValue(aU,a1)}}}}var aR=aw(a2);if(aR===true){var aZ=$(a2).closest(".siebui-NoScrollFormContainer");$("#"+aZ.attr("id")).removeClass("siebui-ShowmoreFormContainer").addClass("siebui-ShowmoreFormContainer");var aQ=$(a2).closest(".siebui-ShowmoreFormContainer");if(!X.IsEmpty(aQ)){var aV=(typeof(aT.Get("GetObjectType"))==="string")?true:false;var a0=B(aV);$(aQ).children("#showMoreControl").remove();$(aQ).prepend(a0)}}};aF.prototype.SetControlValue=function(a9,bm){if(!ah(a9)){return}bm=HtmlEncode(bm);var aW=n.call(this,a9);var bb=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var bi=null;$(bb+" div").each(function(){if($(this).attr("id")==="_FormAppletMobile"){bi=true
}});var a2=$("#"+a9.GetInputName())[0]||$("[name="+a9.GetInputName()+"]")[0];a2=$(a2);var br=a9.GetInputName();var aR=a9.GetUIType();var a8=a9.GetFieldName();var bj="";var a0=false;var a5=a9.GetName();a5=this.GetColumnHelper().GetModifiedColumnName(a5);var a4=this.GetPM().Get("GetPlaceholder");var bh="jqmform_"+a4+"_"+a5;var bq=this.GetPM().ExecuteMethod("CanNavigate",a9.GetName());var aX=this.GetPM().ExecuteMethod("CanUpdate",a9.GetName());if(bq&&!aX&&aR!==aJ){a0=true}var ba=this.GetMapFieldArray();var aV;var a6;var aQ;var be=$(bb).find("td.AppletTitle").text();if(!X.IsEmpty(a8)){var aZ=this.GetPM().Get("GetBusComp").GetField(a8);if(!X.IsEmpty(aZ)&&aZ.GetDataType()==="phone"){aR=K}}if(bi===true){var bl;a2.addClass("screen-cntrl-readonly");var aU=a2.parent().attr("class");$(a2).removeAttr("readOnly").attr("readOnly","true");switch(aR){case b:var bd=a2.find("input").length;if(bd!==0&&!X.IsEmpty(bm)){a2.find("input").val(bm);a2.find("input").focus()}else{a2.html("").append("<span class='jqmform_"+aR+"' "+aW+" id='"+bh+"' value='"+bm+"'>"+bm+"</span>")}break;case aa:case S:case l:case aJ:case F:case ar:a2.html("").append("<span class='jqmform_"+aR+"' "+aW+" id='"+bh+"' value='"+bm+"'>"+bm+"</span>");break;case U:case av:a2.html("").append("<span class='jqmform_"+aR+"' "+aW+" id='"+bh+"' value='"+bm+"'>"+bm+"</span>");break;case T:a2.html("").append("<span class='jqmform_"+aR+"' "+aW+" id='"+bh+"'></span>");break;case aE:var bo="<select class='jqmform_CheckBox_slide' name="+bh+" "+aW+" id='"+bh+"' data-role='slider'><option value='N'>"+N+"</option><option value='Y'>"+L+"</option></select>";a2.html(bo).trigger("create");var a3=af.call(this,a9,"Y",null);var aT=af.call(this,a9,"N",null);if(a3!==""&&aT!==""){var aY=a2.parent();var bf=$(aY).find("span.ui-slider-label:first");var a1=bf.html()===L?a3:aT;bf.empty().append(a1);bf=$(aY).find("span.ui-slider-label:last");a1=bf.html()===N?aT:a3;bf.empty().append(a1)}$("#"+bh).val(bm);var bs=aX?"enable":"disable";$("#"+bh).slider(bs);$("#"+bh).slider("refresh");break;case q:a2.html("").append("<span class='jqmform_"+aR+"' "+aW+" id='"+bh+"' value='"+bm+"'>"+bm+"</span>");break}}switch(aR){case J:if(X.IsEmpty(bm)){a2.html("")}else{a2.html(HtmlDecode(bm))}break;case aE:if(bi===null||bi===undefined){a2.val(bm);a2.slider("refresh")}break;case F:if(bi){return}aQ=HtmlDecode(bm);a2.val(aQ);if(!X.IsEmpty(aQ)){aQ=HtmlDecode(bm).replace(/\"/g,'\\"')}if(a2.find('option[value="'+aQ+'"]').length===0){a2.append('<option value="'+bm+'">'+bm+"</option>")}if(X.IsEmpty(a8)){a2.find("option").each(function(){if(X.IsEmpty($(this).val())){$(this).remove()}})}if(bi===null||bi===undefined){a2.selectmenu("refresh")}break;case aH:if(bi===true){a2.html("").append("<span class='jqmform_"+aR+"' "+aW+" id='"+bh+"' value='"+bm+"'>"+bm+"</span>")}else{a2.attr("value",HtmlDecode(bm))}aV=$("#"+br+"_mailto");if(aV.length===1){aV.remove()}aW=n.call(this,a9,"Icon");if(bm&&bm!==""){bm=bm.concat("?subject="+be);var a7='<a id="'+br+'_mailto" '+aW+' href="mailto:'+bm+'"></a>';$("#"+br).parent().prepend(a7);$("#"+br+"_mailto").addClass("email")}break;case K:if(bi===true){a2.html("").append("<span class='jqmform_"+aR+"' "+aW+" id='"+bh+"' value='"+bm+"'>"+bm+"</span>")}else{a2.attr("value",bm)}aV=$("#"+br+"_tel");if(aV.length===1){aV.remove()}aW=n.call(this,a9,"Icon");if(bm&&bm!==""){var bp='<a id="'+br+'_tel" '+aW+' href="tel:'+bm+'"></a>';$("#"+br).parent().prepend(bp);$("#"+br+"_tel").addClass("tel")}break;case y:if(bi===true){a2.html("").append("<span class='jqmform_"+aR+"' "+aW+" id='"+bh+"' value='"+bm+"'>"+bm+"</span>")}else{a2.attr("value",HtmlDecode(bm))}aV=$("#"+br+"_url");if(aV.length===1){aV.remove()}aW=n.call(this,a9,"Icon");if(bm&&bm!==""){if(bm.match("^http://")===null){bm="http://"+bm}var bc='<a id="'+br+'_url" '+aW+' href="'+bm+'" rel="external" target="foo" class="ui-link-inherit"></a>';$("#"+br).parent().prepend(bc);$("#"+br+"_url").addClass("url")}if(a9.GetName()==="BookmarkURL"&&this.GetPM().GetPMName()==="Bookmark URL Popup Applet (SWE)_PM"){var aS=a2.replaceWith('<textarea name="'+a9.GetInputName()+'" rows="3" cols="40" value=\''+bm+"'>"+bm+"</textarea>")}break;default:if(bi===true&&a2.attr("type")==="controlType"){a2.html("").append("<span "+aW+">"+bm+"</span>")}else{if(a9.GetShowBase()&&a9.GetUIType()!=="checkBoxCtrl"){a6=af.call(this,a9,bm,a2);if(!X.IsEmpty(a6)){a2.html(a6)}else{if(w.test(this.GetPM().GetPMName())){a2.replaceWith('<div  tabindex="0" title="'+bm+'" name="'+a2.attr("name")+'" aria-label="'+a9.GetDisplayName()+'">'+bm+"</div>")}else{a2.val(HtmlDecode(bm))}}}else{if(w.test(this.GetPM().GetPMName())){a2.replaceWith('<div  tabindex="0" title="'+bm+'" name="'+a2.attr("name")+'" aria-label="'+a9.GetDisplayName()+'">'+bm+"</div>")}else{a2.val(HtmlDecode(bm))}}}break}if(typeof(google)!=="undefined"&&ba!==null&&(!X.IsEmpty(a8))&&X.IndexOf(ba,a8)>-1){var bk=$("#"+br+"_maplink");if(bk.length===1){bk.remove()}aW=n.call(this,a9,"Icon");if(!X.IsEmpty(bm)){var bg=ae(this.GetMapCtrl(),br,bm,aW);a2.parent().prepend(bg)}}if(a0){if(bi===true){a2.html("").append("<span "+aW+">"+bm+"</span>")}else{a2.attr("value",bm)}aV=$("#"+br+"_mb");if(aV.length===1){aV.remove()}aW=n.call(this,a9,"Icon");if(bm&&bm!==""){var bn='<a  id ="'+br+'_mb" '+aW+' class = "siebui-ctrl-drilldown" href="javascript:void(0)" > </a>';$("#"+br).parent().prepend(bn);$("#"+br+"_mb").addClass("drilldown ui-icon-siebui-drilldown")}}};aF.prototype.EnableControl=function(aX,a1){if(!ah(aX)){return}var a2=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var aT=null;$(a2+" div").each(function(){if($(this).attr("id")==="_FormAppletMobile"){aT=true}});var aQ=aX.GetUIType();var a4=$("#"+aX.GetInputName())||$("[name="+aX.GetInputName()+"]");var aR=a1?"enable":"disable";var a0;var a5;var aS;if(aQ===W){if(aT===null||aT===undefined){a0=a1?aX.GetEnabledBmp():aX.GetDisabledBmp();aS=aX.GetMethodName();var aY;var aU;if(aS==="NewFileAttachment"){aY=aX.GetInputName()+"_"+h.get("SWE_FILE_NAME_STR");aU=$("#"+aY)}if(a0&&(aS!=="GotoNextSet"&&aS!=="GotoPreviousSet")){a5=$("#"+aX.GetInputName());a5.html(a0).removeClass("sweButtonImageEnabled sweButtonImageDisabled").addClass(a1?"sweButtonImageEnabled":"sweButtonImageDisabled")}else{var a3=$("#"+(aX.GetInputName()+"_Ctrl"));try{a3.button(aR);if(aS==="NewFileAttachment"){if(!a1){aU.attr("disabled","disabled")}else{aU.removeAttr("disabled")}}}catch(aV){SiebelJS.Log(aV);if(!a1){a3.attr("disabled","disabled");a3.attr("aria-disabled","true");a3.addClass("mobile-button-disabled");a3.addClass("ui-state-disabled");a3.parent().addClass("ui-disabled");if(aS==="NewFileAttachment"){aU.attr("disabled","disabled")}}else{a3.removeAttr("disabled");a3.attr("aria-disabled","false");a3.removeClass("mobile-button-disabled");a3.removeClass("ui-state-disabled");a3.parent().removeClass("ui-disabled");if(aS==="NewFileAttachment"){aU.removeAttr("disabled")}}}}}else{a0=a1?aX.GetEnabledBmp():aX.GetDisabledBmp();aS=aX.GetMethodName();if(a0&&(aS!=="GotoNextSet"&&aS!=="GotoPreviousSet")){a5=$("#"+aX.GetInputName());
a5.html(a0).removeClass("sweButtonImageEnabled sweButtonImageDisabled").addClass(a1?"sweButtonImageEnabled":"sweButtonImageDisabled")}else{var aZ=$("#"+(aX.GetInputName()+"_Ctrl"));if(!a1){aZ.attr("disabled","disabled");aZ.attr("aria-disabled","true");aZ.addClass("mobile-button-disabled");aZ.addClass("ui-state-disabled");aZ.parent().addClass("ui-disabled")}else{aZ.removeAttr("disabled");aZ.attr("aria-disabled","false");aZ.removeClass("mobile-button-disabled");aZ.removeClass("ui-state-disabled");aZ.parent().removeClass("ui-disabled")}}}}else{if(aQ===aa||aQ===S||aQ===l){a4.mobiscroll(aR);a4.prop("readonly",true)}else{if(aQ===aE){if(aT===null||aT===undefined){a4.slider(aR)}}else{if(aQ===F){if(aT===null||aT===undefined){a4.selectmenu(aR)}}else{var aW=$("#"+aX.GetInputName())[0]||$("[name="+aX.GetInputName()+"]")[0];$(aW).removeAttr("readOnly").attr("readOnly",!a1)}}}}if(aQ!==W){if(a1){a4.addClass("siebui-ipe-enabled")}else{a4.removeClass("siebui-ipe-enabled")}}a4=null};aF.prototype.UpdateUIControls=function(){var aQ=this.GetPM().Get("GetControls");for(var aS in aQ){if(aQ.hasOwnProperty(aS)){var aR=aQ[aS];var aT=aR.GetFieldName();if(!X.IsEmpty(aT)){this.EnableControl(aR,this.GetPM().ExecuteMethod("CanUpdate",aR.GetName()))}}}};aF.prototype.UpdateUIButtons=function(){var aQ=this.GetPM().Get("GetControls");for(var aS in aQ){if(aQ.hasOwnProperty(aS)){var aR=aQ[aS];if(aR.GetUIType()===W){var aT=this.GetPM().ExecuteMethod("CanInvokeMethod",aR.GetMethodName());this.EnableControl(aR,aT)}}}aQ=null};aF.prototype.SetFocusToControl=function(aS,aR){var aQ=this.GetPM().Get("GetControls");var aT=null;for(var aV in aQ){if(aQ.hasOwnProperty(aV)){var aU=aQ[aV];if(aS===SiebelApp.S_App.LookupStringCache(aV)){if(!X.IsEmpty(aU.GetMethodName())){aT=$("#"+(aU.GetInputName()+"_Ctrl"))}else{aT=$("#"+aU.GetInputName())[0]||$("[name="+aU.GetInputName()+"]")[0]}if(aR){aT.focus()}else{aT.blur()}return true}}}};aF.prototype.FocusFirstControl=function(){if(this.GetFirstControl()){this.GetFirstControl().focus();return}var aR=this.GetPM().Get("GetControls");var aQ=9999;for(var aU in aR){if(aR.hasOwnProperty(aU)){var aT=aR[aU];var aV=aT.GetFieldName();if(!X.IsEmpty(aV)){if(aT.GetIndex()&&aT.GetIndex()<aQ){var aS=this.GetPM().ExecuteMethod("CanUpdate",SiebelApp.S_App.LookupStringCache(aU));if(aS){aQ=aT.GetIndex();this.SetFirstControl($("#"+aT.GetInputName())[0]||$("[name="+aT.GetInputName()+"]")[0]);break}}}}}if(this.GetFirstControl()){this.GetFirstControl().focus()}};aF.prototype.SetHighlightState=function(aS,aR){var aQ=$("#s_"+this.GetPM().Get("GetFullId")+"_div").find("#a_"+this.GetPM().Get("GetId"));if(aS){aQ.addClass("Selected siebui-applet-active").removeClass("NotSelected siebui-applet-nonactive")}else{aQ.removeClass("Selected siebui-applet-active").addClass("NotSelected siebui-applet-nonactive")}};aF.prototype.GetPhysicalControlValue=function(aV){var aU,aS;var aX=("#s_S_A"+this.GetPM().Get("GetId")+"_div");var aQ=null;$(aX+" div").each(function(){if($(this).attr("id")==="_FormAppletMobile"){aQ=true}});if(aV){this.GetPM().AddProperty("PhysicalCtrlVal",aS);if(aQ===null||aQ===undefined){aU=$("[name='"+aV.GetInputName()+"']");aS=aU.val()||""}else{var aT=aV.GetName();aT=this.GetColumnHelper().GetModifiedColumnName(aT);var aW=this.GetPM().Get("GetPlaceholder");var aR="jqmform_"+aW+"_"+aT;aU=$("[id='"+aR+"']");aS=aU.attr("value")||""}switch(aV.GetUIType()){case aa:case S:case l:aS=X.toISOFormat(this.ConvertToDispTimeAMPM(X.Trim(aS)),(aV.GetUIType()!==aa))||aS;break;case A:aS=$("."+aV.GetInputName()).val();break}this.GetPM().AddProperty("PhysicalCtrlVal",aS)}};aF.prototype.fixHeight=function(){};aF.prototype.fixWidth=function(aR){if(this.IsPopup()){var aQ=$(".siebui-popup-btm");if(aQ!==undefined){}}};function V(aS){this.inProgress=true;var aR=this.GetPM();aR.ExecuteMethod("SetActiveControl",aS);var aQ=CCFMiscUtil_CreatePropSet();this.GetPM().ExecuteMethod("InvokeMethod","EditPopup",aQ)}function ah(aQ){return(typeof(aQ.GetInputName)==="function")}function aj(aT,aS,aR){var aQ=this.GetPM().ExecuteMethod("NewFileAttachment");var aU=h.get("SWE_PROP_SESSION_RANDOM_NUMBER")+"="+SiebelApp.S_App.GetSRN();$(aR).fileupload("option","formData",aQ);$(aR).fileupload("option","url",SiebelApp.S_App.GetPageURL()+h.get("SWE_ARG_START")+aU)}function e(aS,aR){var aQ;if(aR.dataType==="iframe "){aQ=$(aR.result).find("body").html()}else{aQ=aR.result}if(!X.IsEmpty(aQ)){SiebelApp.S_App.ProcessResponse(aQ)}}function aL(aR,aQ){}return aF}());return"SiebelAppFacade.JQMFormRenderer"})}if(typeof(SiebelAppFacade.PopupRenderer)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.PopupRenderer");SiebelAppFacade.PopupRenderer=(function(){var i=SiebelJS.Dependency("SiebelApp.Utils");var g=SiebelJS.Dependency("SiebelApp.Constants");var b;var a;var c;function d(n){var m=n;b=n;a=true;this.retryWaitForObjInfoProcessing=0;this.GetPM=function(){return m};this.GetPM().AttachPMBinding("state",h,{scope:this});this.GetPM().AttachPMBinding("url",e,{scope:this});this.GetPM().AttachPMBinding("OnLoadPopupContent",l,{scope:this});this.GetPM().AttachPMBinding("StandAlonePopup",this.ProcessStandAlonePopup,{scope:this})}function j(){var m=this;if(this.Get("CanProcessLayout")===false&&m.retryWaitForObjInfoProcessing<25){m.retryWaitForObjInfoProcessing++;setTimeout(function(){j.call(m)},100);return}m.retryWaitForObjInfoProcessing=0;this.ExecuteMethod("OnLoadPopupContent")}function e(){SiebelApp.contentUpdater.AddCallBack(this.GetPM().Get("url"),j,this.GetPM());var m=$("[name=popup]");m.attr("src",this.GetPM().Get("url"));SiebelApp.contentUpdater.loadContent(true);c=$("head meta[name=viewport]")[0]}function f(){if(a===false){a=true;b.OnControlEvent("ClosePopupByX",window.event)}$("head meta[name=viewport]").remove();$("head").prepend(c)}function l(){var o=this.GetPM().Get("currPopups");if(o&&o[0]){var m="<div class='jqmpopup_title'><span>"+SiebelApp.S_App.LookupStringCache(o[0].GetTitle())+"</span></div>";$("[name=popup]").prepend(m);k();var n=o[0].GetPModel().GetRenderer();n.fixHeight();n.fixWidth($("#popup-popup").css("width"))}else{k()}}function k(){var n=$("[name=ShownItems]")[0];var m=$("[name=HiddenItems]")[0];if(n!==null&&n!==undefined){$(n).attr("data-native-menu","false")}if(m!==null&&m!==undefined){$(m).attr("data-native-menu","false")}$("[name=popup]").popup({overlayTheme:"a"});$("[name=popup]").popup({afterclose:f});$("[name=popup]").popup("open");$(".popupContainer").trigger("create");a=false;$("head meta[name=viewport]").remove();$("head").prepend('<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=0" />')}function h(){var o=this.GetPM().Get("state");if(o===g.get("POPUP_STATE_HIDDEN")){if(a===false){a=true;$("[name=popup]").popup("close")}$("[name=popup]").children().remove()}else{if(o===g.get("POPUP_STATE_VISIBLE")){var m=0;var n=0;$("[name=popup]").removeClass("popupContainer").addClass("popupContainer")}}}d.prototype.BindData=function(){};d.prototype.ShowUI=function(){if($("[name=popup]").length===0){var m;
if(IsOfflineModeEnabled()&&SiebelApp.OfflineAppSettings.GetMode()===true){m=$('<div name="popup" id="popup" data-role="popup" data-dismissible="false"></div>')}else{m=$('<div name="popup" id="popup" data-role="popup"></div>')}SiebelApp.S_App.GetTargetViewContainer().append(m);SiebelApp.S_App.uiStatus.LocalBusy({target:"[name=popup]",mask:false})}};d.prototype.BindEvents=function(){};d.prototype.ProcessStandAlonePopup=function(q,n){if((window.navigator.standalone!==undefined)&&window.navigator.standalone){var m=document.createElement("a");m.setAttribute("href",q);m.setAttribute("target","_blank");var o=document.createEvent("HTMLEvents");o.initEvent("click",true,true);m.dispatchEvent(o);m=null}else{var p=window.open(q,"subWind",n)}};return d}());SiebelAppFacade.FormColumnHelper=function(){var b={};var a={};var c={};this.GetColMap=function(){return b};this.GetColControl=function(){return a};this.GetColField=function(){return c}};SiebelAppFacade.FormColumnHelper.prototype={AddColumn:function(c,b){var a=null;if(typeof(c)==="string"){a=c.replace(/ /g,"_");a=a.replace(/\//g,"_");a=a.replace(/#/g,"_");this.GetColMap()[a]=c;this.GetColControl()[a]=b;this.GetColField()[b.GetFieldName()]=c}return a},GetActualControlName:function(a){return this.GetColMap()[a]},GetActualColumnName:function(a){return this.GetColControl()[a].GetDisplayName()},GetModifiedColumnName:function(b){var a=null;if(typeof(b)==="string"){a=b.replace(/ /g,"_");a=a.replace(/\//g,"_");a=a.replace(/#/g,"_")}return a},GetColumnControl:function(a){return this.GetColControl()[a]},GetColumnOfField:function(a){return this.GetColField()[a]},TranslateObject:function(c,f){var d={};var b=null;for(var a=0;a<c.length;a++){var e=c[a].control.GetFieldName();b=c[a].name;if(!SiebelApp.Utils.IsEmpty(b)){d[b.replace(/ /g,"_").replace(/\//g,"_").replace(/#/g,"_")]=f[e]}}if(f.Id){d.Id=f.Id}return d}}};